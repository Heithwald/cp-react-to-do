{"version":3,"sources":["components/CreateTask.js","components/TaskFilters.js","components/Task.js","components/TaskList.js","App.js","reportWebVitals.js","index.js"],"names":["CreateTask","tasks","handleSubmit","handleChange","title","inputRef","useRef","useEffect","current","focus","length","className","onSubmit","type","ref","onChange","value","TaskFilters","filterTasks","resetFilters","map","index","onClick","Task","task","updateTask","updateTaskStatus","deleteTask","event","target","status","TaskList","filterType","filteredTasks","filter","originalIndex","App","useState","setTitle","setTasks","setFilterType","JSON","parse","window","localStorage","getItem","setItem","stringify","addTask","currentTasks","preventDefault","statusType","currentValue","newTasks","confirm","splice","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.084f2b80.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\n\r\nexport const CreateTask = ({ tasks, handleSubmit, handleChange, title }) => {\r\n  const inputRef = useRef();\r\n  useEffect(() => inputRef.current.focus(), [tasks.length]); // Устанавливаем focus на поле ввода, после добавления/удаления task\r\n\r\n  return (\r\n    <form\r\n      className=\"create-task\"\r\n      onSubmit={handleSubmit} // Вызываем создание нового task с task.title равным значению input\r\n    >\r\n      <input\r\n        className=\"create-task__task-title\"\r\n        type=\"text\"\r\n        ref={inputRef}\r\n        onChange={handleChange} // Устанавливаем значение ввода в title\r\n        value={title} // Подхватываем title; так это поле можно, например, очищать после создания нового task\r\n      />\r\n      <button className=\"create-task__create-button\" type=\"submit\">\r\n        Create\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const TaskFilters = ({ filterTasks, resetFilters }) => {\r\n  const statusTypes = [\"Active\", \"New\", \"WIP\", \"Done\"]; // Массив вариантов task.status\r\n\r\n  return (\r\n    <fieldset className=\"filters\">\r\n      <legend>Filters</legend>\r\n      {statusTypes.map((type, index) => (\r\n        <button\r\n          key={index}\r\n          className=\"filters__filter-button\"\r\n          onClick={() => {\r\n            filterTasks(type); // Передаём type в filterType, что триггерит фильтрацию массива tasks по task.type === type\r\n          }}\r\n        >\r\n          {type}\r\n        </button>\r\n      ))}\r\n      <button\r\n        className=\"filters__filter-button\"\r\n        onClick={resetFilters} // Сбрасываем filterType на null\r\n      >\r\n        Reset\r\n      </button>\r\n    </fieldset>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Task = ({\r\n  index,\r\n  task,\r\n  updateTask,\r\n  updateTaskStatus,\r\n  deleteTask,\r\n}) => {\r\n  const statusTypes = [\"New\", \"Active\", \"WIP\", \"Done\"]; // Массив вариантов task.status\r\n\r\n  return (\r\n    <div className=\"task-list__task\">\r\n      <input\r\n        className=\"task-title\"\r\n        type=\"text\"\r\n        value={task.title}\r\n        onChange={(event) => updateTask(index, event.target.value)} // Обновляем значение task.title при вводе\r\n      />\r\n      <select\r\n        className=\"task-status\"\r\n        value={task.status}\r\n        onChange={(event) => updateTaskStatus(index, event.target.value)} // Обновляем значение task.status при вводе\r\n      >\r\n        {statusTypes.map((type, index) => (\r\n          <option key={index}>{type}</option>\r\n        ))}\r\n      </select>\r\n      <button\r\n        className=\"task-delete-button\"\r\n        onClick={() => deleteTask(index)} // Удаляем task по пропу index\r\n      >\r\n        Delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Task } from \"./Task\";\r\n\r\nexport const TaskList = ({\r\n  tasks,\r\n  filterType,\r\n  updateTaskStatus,\r\n  updateTask,\r\n  deleteTask,\r\n}) => {\r\n  // Если фильтр не был нажат и filterType равен null, маппим оригинальный массив tasks\r\n  if (!filterType) {\r\n    return (\r\n      <div className=\"task-list\">\r\n        {tasks.map((task, index) => (\r\n          <Task\r\n            key={index}\r\n            index={index}\r\n            task={task}\r\n            updateTaskStatus={updateTaskStatus}\r\n            updateTask={updateTask}\r\n            deleteTask={deleteTask}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  } else {\r\n    // Если фильтр был нажат и установлен filterType, фильтруем оригинальный массив tasks по filterType и маппим уже отфильтрованный массив filteredTasks\r\n    let filteredTasks = tasks.filter((task) => task.status === filterType);\r\n    return (\r\n      <div className=\"task-list\">\r\n        {filteredTasks.map((task) => (\r\n          <Task\r\n            key={task.originalIndex}\r\n            index={task.originalIndex} // передаём originalIndex, чтобы значения массивов tasks и filteredTasks матчились 1-к-1\r\n            task={task}\r\n            updateTaskStatus={updateTaskStatus}\r\n            updateTask={updateTask}\r\n            deleteTask={deleteTask}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CreateTask } from \"./components/CreateTask\";\r\nimport { TaskFilters } from \"./components/TaskFilters\";\r\nimport { TaskList } from \"./components/TaskList\";\r\n\r\nconst App = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [tasks, setTasks] = useState([]);\r\n  const [filterType, setFilterType] = useState(null);\r\n\r\n  /// Парсим tasks и filterType из localStorage при первом рендере и устанавливаем из значения в соответствующие state ///\r\n  useEffect(() => {\r\n    setTasks(JSON.parse(window.localStorage.getItem(\"tasks\")));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setFilterType(JSON.parse(window.localStorage.getItem(\"filterType\")));\r\n  }, []);\r\n\r\n  /// Отправляем изменения в tasks и filterType в localStorage ///\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"tasks\", JSON.stringify(tasks));\r\n  }, [tasks]);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"filterType\", JSON.stringify(filterType));\r\n  }, [filterType]);\r\n\r\n  /// Обработчик клика кнопки. Вызывает функцию cоздания task при наличии значения в строке ///\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (title) {\r\n      addTask(title);\r\n      setTitle(\"\");\r\n    }\r\n    return null;\r\n  };\r\n\r\n  /// Функция сохранения значения строки ввода, передаёт значение в state ///\r\n  const handleChange = (event) => {\r\n    setTitle(event.target.value);\r\n  };\r\n\r\n  /// Функция создания task ///\r\n  const addTask = (title) => {\r\n    setTasks((currentTasks) => [\r\n      ...currentTasks,\r\n      { title, status: \"New\", originalIndex: currentTasks.length }, // originalIndex требуется для обновления массива при внесении изменений в отфильтрованные task\r\n    ]);\r\n  };\r\n\r\n  /// Функция редактирования task ///\r\n  const updateTask = (index, currentValue) => {\r\n    let newTasks = [...tasks];\r\n    newTasks[index].title = currentValue;\r\n    setTasks(newTasks);\r\n  };\r\n\r\n  /// Функция редактирования task.status ///\r\n  const updateTaskStatus = (index, currentValue) => {\r\n    let newTasks = [...tasks];\r\n    newTasks[index].status = currentValue;\r\n    setTasks(newTasks);\r\n  };\r\n\r\n  /// Функция удаления task ///\r\n  const deleteTask = (index) => {\r\n    if (window.confirm(\"Do you really want to delete this task?\")) {\r\n      let newTasks = [...tasks];\r\n      newTasks.splice(index, 1);\r\n      setTasks(newTasks);\r\n    }\r\n  };\r\n\r\n  /// Функция фильтрации по статусам ///\r\n  const filterTasks = (statusType) => {\r\n    setFilterType(statusType);\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setFilterType(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CreateTask\r\n        tasks={tasks}\r\n        handleSubmit={handleSubmit}\r\n        handleChange={handleChange}\r\n        title={title}\r\n      />\r\n      <TaskFilters filterTasks={filterTasks} resetFilters={resetFilters} />\r\n      <TaskList\r\n        tasks={tasks}\r\n        filterType={filterType}\r\n        resetFilters={resetFilters}\r\n        updateTask={updateTask}\r\n        updateTaskStatus={updateTaskStatus}\r\n        deleteTask={deleteTask}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}