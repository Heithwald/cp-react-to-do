{"version":3,"file":"panda.js","sourceRoot":"","sources":["../src/utils/AdvancedError.ts","../src/browser/UserAgentParser.ts","../src/browser/Browser.ts","../src/browser/BrowserSpecific.ts","../src/collections/ErsatzSet.ts","../src/console/Console.ts","../src/collections/List.ts","../src/console/ConsoleMessageLevels.ts","../src/console/FlogsSender.ts","../src/console/PlatformDescriber.ts","../src/net/URLLoader.ts","../src/net/url/Url.ts","../src/net/url/punycode.ts","../src/net/url/querystring.ts","../src/signals/NewSignal.ts","../src/signals/OldSignal.ts","../src/signals/Signal.ts","../src/stat/StatEvent.ts","../src/stat/PlatformDescribingStatEvent.ts","../src/stat/Stat.ts","../src/webgl/WebGLUtils.ts","../src/stat/WebGlDescribingStatEvent.ts","../src/utils/AnyFunc.ts","../src/utils/ArrayUtils.ts","../src/utils/BuildInfo.ts","../src/utils/ChainerSync.ts","../src/utils/Clipboard.ts","../src/utils/DRandom.ts","../src/utils/DateUtils.ts","../src/utils/Digits.ts","../src/utils/Factory.ts","../src/utils/GlobalErrorListener.ts","../src/utils/GlobalInstanceChecker.ts","../src/utils/Guid.ts","../src/utils/HTMLUtils.ts","../src/utils/Initializer.ts","../src/utils/Introspection.ts","../src/utils/PerfUtils.ts","../src/utils/Pixel.ts","../src/utils/UniqIdGenerator.ts","../src/utils/UniqIdMarked.ts","../src/utils/Utf8Utils.ts","../src/utils/safeBind.ts","../src/webgl/MainLoop.ts","../src/webgl/PerfMonitor.ts","../src/webgl/TimerSystem.ts","../src/webgl/WebGLDescriber.ts","../src/webgl/WebGlBufferWrapper.ts"],"names":[],"mappings":"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","sourcesContent":["namespace panda {\n    export class AdvancedError extends Error {\n        constructor(message: string, code: number = 0, skipstack: boolean = false) {\n            super(message);\n            (this as any).__proto__ = new.target.prototype;\n            this.message = message;\n            this.code = code;\n            this.name = Introspection.getClassName(this);\n            if (!skipstack) {\n                let error = new Error(this.message);\n                if (!BrowserSpecific.hasStackOnUnthrowedError()) {\n                    try {\n                        throw error;\n                    } catch (e) { }\n                }\n\n                this.stack = this.getStack(error);\n            }\n        }\n\n        public stack: string = null;\n        public name: string = null;\n        public message: string;\n        public code: number;\n        public get errorID(): number {\n            return this.code;\n        }\n\n        private _toString: string = null;\n        public toString() {\n            if (!this._toString) {\n                this._toString = this.name + ': ' + this.message;\n            }\n            return this._toString;\n        }\n\n        private getStack(e: Error): string {\n            let stack: string\n            stack = AdvancedError.getStacktrace(e);\n            if (!stack || stack === '') {\n                return this.toString() + '\\nstack unavailable';\n            }\n            let lines: Array<String> = stack.split('\\n');\n            if (lines[0] === ('Error: ' + this.message)) {\n                lines.shift();\n            }\n            let obj = this;\n            if (BrowserSpecific.errorHasExtenderConstructorLine()) {\n                while (obj instanceof AdvancedError) {\n                    obj = Introspection.getObjectProto(obj);\n                    lines.shift();\n                }\n            }\n            lines.unshift(this.toString());\n            return lines.join('\\n');\n        }\n\n        public static getStacktrace(error: Error): string {\n            let stack: string;\n            if (error) {\n                try {\n                    stack = (<any>error)['stack'];\n                } catch (e) { }\n            }\n            if (!stack) {\n                try {\n                    stack = '';\n                    let f = arguments.callee.caller.caller;\n                    while (f) {\n                        stack += (Introspection.getFunctionName(f) + '\\n');\n                        f = f.caller;\n                    }\n                } catch (e) { };\n            }\n            return stack;\n        }\n    }\n\n    export class NotImplementedError extends AdvancedError { };\n    export class ArgumentError extends AdvancedError { };\n    export class NotSupportedError extends AdvancedError { };\n}","///ts:ref=AdvancedError\n/// <reference path=\"../utils/AdvancedError.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport namespace UserAgentParser {\n\t\texport class ParseResult {\n\t\t\tpublic userAgent: string = 'unknown';\n\t\t\tpublic browser: string = 'unknown';\n\t\t\tpublic versionNumber: number = 0;\n\t\t\tpublic version: string = 'unknown'\n\t\t\tpublic parentBrowser: string = 'unknown'\n\t\t\tpublic parentVersion: string = 'unknown'\n\t\t\tpublic parentVersionNumber: number = 0;\n\t\t\tpublic osType: string = 'unknown';\n\t\t\tpublic osName: string = 'unknown';\n\t\t\tpublic osVersion: string = 'unknown';\n\t\t\tpublic osVersionNumber: number = 0;\n\t\t\tpublic archtecture: string = 'unknown';\n\t\t\tpublic parsedCorretly: boolean = false;\n\t\t\tpublic fatalParsingError: boolean = false;\n\t\t\tpublic mobileExperimental: boolean = null;\n\t\t\tpublic products: Array<Extended.Product> = [];\n\t\t\tpublic comments: Array<Extended.CommentToken> = [];\n\n\t\t\tprivate _productHash: any;\n\t\t\tpublic getFirstProductByName(name: string): Extended.Product {\n\t\t\t\tif (!this._productHash) {\n\t\t\t\t\tthis._productHash = new Object();\n\t\t\t\t\tfor (let product of this.products) {\n\t\t\t\t\t\tif (!this._productHash[product.browser]) {\n\t\t\t\t\t\t\tthis._productHash[product.browser] = product;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let token of this.comments) {\n\t\t\t\t\t\tif (token instanceof Extended.CommentProductToken) {\n\t\t\t\t\t\t\tlet product: Extended.Product = token.product;\n\t\t\t\t\t\t\tif (!this._productHash[product.browser]) {\n\t\t\t\t\t\t\t\tthis._productHash[product.browser] = product;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this._productHash[name];\n\t\t\t}\n\t\t}\n\n\t\texport function parse(agent: string): ParseResult {\n\t\t\tConsole.here;\n\t\t\tlet result: ParseResult = new ParseResult();\n\t\t\tresult.userAgent = agent;\n\t\t\ttry {\n\t\t\t\tlet splitted: Internal.SplitterResult = Internal.splitAgent(agent, false);\n\t\t\t\tif (!splitted) {\n\t\t\t\t\tresult.fatalParsingError = true;\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tresult.products = Internal.parseProducts(splitted);\n\t\t\t\tresult.comments = Internal.parseComments(splitted);\n\n\t\t\t\tInternal.fillOSProperties(result);\n\t\t\t\tInternal.fillBrowserProperties(result);\n\n\t\t\t} catch (splittingError) {\n\t\t\t\tConsole.errorUncritical(splittingError);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\texport namespace Extended {\n\t\t\texport class Product {\n\t\t\t\tpublic raw: string;\n\t\t\t\tpublic browser: string = 'unknown';\n\t\t\t\tpublic versionNumber: number = 0;\n\t\t\t\tpublic version: string = 'unknown';\n\t\t\t}\n\n\t\t\texport class CommentToken {\n\t\t\t\tpublic raw: string;\n\t\t\t}\n\n\t\t\texport class CommentUnknownToken extends CommentToken {\n\t\t\t}\n\n\t\t\texport class CommentOSToken extends CommentToken {\n\t\t\t\tpublic osType: string;\n\t\t\t\tpublic osName: string;\n\t\t\t\tpublic osVersion: string;\n\t\t\t\tpublic osVersionNumber: number;\n\t\t\t\tpublic architecture: string;\n\t\t\t}\n\n\t\t\texport class CommentArchitectureToken extends CommentToken {\n\t\t\t}\n\n\t\t\texport class CommentProductToken extends CommentToken {\n\t\t\t\tpublic product: Product;\n\t\t\t}\n\n\t\t\texport class CommentVersionToken extends CommentToken {\n\t\t\t\tpublic version: string;\n\t\t\t\tpublic versionNumber: number;\n\t\t\t}\n\t\t}\n\n\t\texport namespace Internal {\n\t\t\texport class ParseProductError extends AdvancedError {\n\t\t\t\tconstructor(message: string, code: number = 0) {\n\t\t\t\t\tsuper(message, code, true);\n\t\t\t\t}\n\t\t\t}\n\t\t\texport class SplitError extends AdvancedError {\n\t\t\t\tconstructor(message: string, code: number = 0) {\n\t\t\t\t\tsuper(message, code, true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texport namespace ProductName {\n\t\t\t\texport const Opera: string = 'Opera';\n\t\t\t\texport const Version: string = 'Version';\n\t\t\t\texport const Chrome: string = 'Chrome';\n\t\t\t\texport const Edge: string = 'Edge';\n\t\t\t\texport const AppleWebKit: string = 'AppleWebKit';\n\t\t\t\texport const Safari: string = 'Safari';\n\t\t\t\texport const Mozilla: string = 'Mozilla';\n\t\t\t\texport const OPR: string = 'OPR';\n\t\t\t\texport const YaBrowser: string = 'YaBrowser';\n\t\t\t\texport const Yowser: string = 'Yowser';\n\t\t\t\texport const Gecko: string = 'Gecko';\n\t\t\t\texport const Firefox: string = 'Firefox';\n\t\t\t\texport const Nichrome: string = 'Nichrome';\n\t\t\t\texport const Amigo: string = 'Amigo';\n\t\t\t\texport const Trident: string = 'Trident';\n\t\t\t\texport const MSIE: string = 'MSIE';\n\t\t\t\texport const CanvasFrame: string = 'CanvasFrame';\n\t\t\t\texport const PaleMoon: string = 'PaleMoon';\n\t\t\t\texport const Goanna: string = 'Goanna';\n\t\t\t\texport const AOL: string = 'AOL';\n\t\t\t\texport const AOLBuild: string = 'AOLBuild';\n\t\t\t\texport const Mobile: string = 'Mobile';\n\t\t\t\texport const CriOS: string = 'CriOS';\n\t\t\t\texport const FxiOS: string = 'FxiOS';\n\t\t\t\texport const AdobeAIR: string = 'AdobeAIR';\n\t\t\t}\n\n\t\t\texport function fillBrowserProperties(result: ParseResult): void {\n\t\t\t\tConsole.here;\n\t\t\t\tlet testers: Array<(result: ParseResult) => boolean> = [\n\t\t\t\t\ttryChrome, // обязательно сначала хром, наследники хрома на него опираются\n\t\t\t\t\ttryEdge,\n\t\t\t\t\ttryFirefox,\n\t\t\t\t\ttryOldOpera,\n\t\t\t\t\ttryNewOpera,\n\t\t\t\t\ttryYandex,\n\t\t\t\t\ttryFacebook,\n\t\t\t\t\ttryIE,\n\t\t\t\t\ttrySafari,\n\t\t\t\t\ttryAir,\n\t\t\t\t\ttryChromeIos,\n\t\t\t\t\ttryFirefoxIos,\n\t\t\t\t\ttryPaleMoon,\n\t\t\t\t\ttryAol,\n\t\t\t\t\ttryOneProductGoogleExtender,\n\t\t\t\t\ttryOneProductFirefoxExtender,\n\t\t\t\t];\n\t\t\t\tfor (let func of testers) {\n\t\t\t\t\tlet stopTrying: boolean = func(result);\n\t\t\t\t\tif (stopTrying) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (result.parsedCorretly) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texport function tryOldOpera(result: ParseResult): boolean {\n\t\t\t\tlet opera: Extended.Product = result.getFirstProductByName(ProductName.Opera);\n\t\t\t\tif (!opera) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet version: Extended.Product = result.getFirstProductByName(ProductName.Version);\n\t\t\t\tif (!version) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Old Opera without version', 130));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tresult.browser = opera.browser;\n\t\t\t\tresult.version = version.version;\n\t\t\t\tresult.versionNumber = version.versionNumber;\n\t\t\t\tresult.parentBrowser = opera.browser;\n\t\t\t\tresult.parentVersion = version.version;\n\t\t\t\tresult.parentVersionNumber = version.versionNumber;\n\t\t\t\tif (result.products.length === 3) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function tryChrome(result: ParseResult): boolean {\n\t\t\t\tlet chrome: Extended.Product = result.getFirstProductByName(ProductName.Chrome);\n\t\t\t\tif (!chrome) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet edge: Extended.Product = result.getFirstProductByName(ProductName.Edge);\n\t\t\t\tif (edge) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mozilla: Extended.Product = result.getFirstProductByName(ProductName.Mozilla);\n\t\t\t\tif (!mozilla) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Chrome without Mozilla', 131));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (mozilla.versionNumber !== 5) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Chrome with mozilla version !==5', 132));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet webKit: Extended.Product = result.getFirstProductByName(ProductName.AppleWebKit);\n\t\t\t\tif (!webKit) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Chrome without AppleWebKit', 133));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet safari: Extended.Product = result.getFirstProductByName(ProductName.Safari);\n\t\t\t\tif (!safari) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Chrome without Safari', 134));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = chrome.browser;\n\t\t\t\tresult.version = chrome.version;\n\t\t\t\tresult.versionNumber = chrome.versionNumber;\n\t\t\t\tresult.parentBrowser = chrome.browser;\n\t\t\t\tresult.parentVersion = chrome.version;\n\t\t\t\tresult.parentVersionNumber = chrome.versionNumber;\n\n\t\t\t\tif (result.products.length === 4) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\texport function tryChromeIos(result: ParseResult): boolean {\n\t\t\t\tlet crios: Extended.Product = result.getFirstProductByName(ProductName.CriOS);\n\t\t\t\tif (!crios) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mozilla: Extended.Product = result.getFirstProductByName(ProductName.Mozilla);\n\t\t\t\tif (!mozilla) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('CriOS without Mozilla', 131));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (mozilla.versionNumber !== 5) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('CriOS with mozilla version !==5', 132));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet webKit: Extended.Product = result.getFirstProductByName(ProductName.AppleWebKit);\n\t\t\t\tif (!webKit) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('CriOS without AppleWebKit', 133));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet safari: Extended.Product = result.getFirstProductByName(ProductName.Safari);\n\t\t\t\tif (!safari) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('CriOS without Safari', 134));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mobile: Extended.Product = result.getFirstProductByName(ProductName.Mobile);\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Mobile without Safari', 134));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = 'Chrome';\n\t\t\t\tresult.version = crios.version;\n\t\t\t\tresult.versionNumber = crios.versionNumber;\n\t\t\t\tresult.parentBrowser = 'Chrome';\n\t\t\t\tresult.parentVersion = crios.version;\n\t\t\t\tresult.parentVersionNumber = crios.versionNumber;\n\t\t\t\tresult.mobileExperimental = true;\n\n\t\t\t\tif (result.products.length === 5) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\texport function tryFirefoxIos(result: ParseResult): boolean {\n\t\t\t\tlet fxiOS: Extended.Product = result.getFirstProductByName(ProductName.FxiOS);\n\t\t\t\tif (!fxiOS) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mozilla: Extended.Product = result.getFirstProductByName(ProductName.Mozilla);\n\t\t\t\tif (!mozilla) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('FxiOS without Mozilla', 131));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (mozilla.versionNumber !== 5) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('FxiOS with mozilla version !==5', 132));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet webKit: Extended.Product = result.getFirstProductByName(ProductName.AppleWebKit);\n\t\t\t\tif (!webKit) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('FxiOS without AppleWebKit', 133));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet safari: Extended.Product = result.getFirstProductByName(ProductName.Safari);\n\t\t\t\tif (!safari) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('FxiOS without Safari', 134));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mobile: Extended.Product = result.getFirstProductByName(ProductName.Mobile);\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Mobile without Safari', 134));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = 'Firefox';\n\t\t\t\tresult.version = fxiOS.version;\n\t\t\t\tresult.versionNumber = fxiOS.versionNumber;\n\t\t\t\tresult.parentBrowser = 'Firefox';\n\t\t\t\tresult.parentVersion = fxiOS.version;\n\t\t\t\tresult.parentVersionNumber = fxiOS.versionNumber;\n\t\t\t\tresult.mobileExperimental = true;\n\n\t\t\t\tif (result.products.length === 5) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\texport function tryNewOpera(result: ParseResult): boolean {\n\t\t\t\tlet opr: Extended.Product = result.getFirstProductByName(ProductName.OPR);\n\t\t\t\tif (!opr) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (result.parentBrowser !== ProductName.Chrome) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('New Opera without Chrome', 134));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = ProductName.Opera;\n\t\t\t\tresult.version = opr.version;\n\t\t\t\tresult.versionNumber = opr.versionNumber;\n\n\t\t\t\tif (result.products.length === 5) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function tryEdge(result: ParseResult): boolean {\n\t\t\t\tlet edge: Extended.Product = result.getFirstProductByName(ProductName.Edge);\n\t\t\t\tif (!edge) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = edge.browser;\n\t\t\t\tresult.version = edge.version;\n\t\t\t\tresult.versionNumber = edge.versionNumber;\n\n\t\t\t\tif (result.products.length === 5) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\n\t\t\t\tresult.parentBrowser = edge.browser;\n\t\t\t\tresult.parentVersion = edge.version;\n\t\t\t\tresult.parentVersionNumber = edge.versionNumber;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function tryYandex(result: ParseResult): boolean {\n\t\t\t\tlet yabrowser: Extended.Product = result.getFirstProductByName(ProductName.YaBrowser);\n\t\t\t\tif (!yabrowser) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (result.parentBrowser !== ProductName.Chrome) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Yabrowser without Chrome', 135));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = yabrowser.browser;\n\t\t\t\tresult.version = yabrowser.version;\n\t\t\t\tresult.versionNumber = yabrowser.versionNumber;\n\n\t\t\t\tlet yozer: Extended.Product = result.getFirstProductByName(ProductName.Yowser);\n\t\t\t\tif ((result.products.length === 5 && yozer === undefined) || (result.products.length === 6 && yozer !== undefined)) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function tryFacebook(result: ParseResult): boolean {\n\t\t\t\tlet canvesFrame: Extended.Product = result.getFirstProductByName(ProductName.CanvasFrame);\n\t\t\t\tif (!canvesFrame) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (result.parentBrowser !== ProductName.Chrome) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Facebook canvesFrame without Chrome', 135));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = canvesFrame.browser;\n\t\t\t\tresult.version = canvesFrame.version;\n\t\t\t\tresult.versionNumber = canvesFrame.versionNumber;\n\n\t\t\t\tlet index = result.userAgent.indexOf('FacebookCanvasDesktop');\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\tresult.browser = 'FacebookCanvasDesktop';\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function trySafari(result: ParseResult): boolean {\n\t\t\t\tif (result.products.length !== 4 && result.products.length !== 5) { // 5 for mobile\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mobile: Extended.Product = result.getFirstProductByName(ProductName.Mobile);\n\t\t\t\tif (mobile && result.products.length !== 5) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet safari: Extended.Product = result.getFirstProductByName(ProductName.Safari);\n\t\t\t\tif (!safari) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet version: Extended.Product = result.getFirstProductByName(ProductName.Version);\n\t\t\t\tif (!version) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet mozilla: Extended.Product = result.getFirstProductByName(ProductName.Mozilla);\n\t\t\t\tif (!mozilla) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Safari without Mozilla', 131));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (mozilla.versionNumber !== 5) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Safari with mozilla version !==5', 132));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet webKit: Extended.Product = result.getFirstProductByName(ProductName.AppleWebKit);\n\t\t\t\tif (!webKit) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Safari without AppleWebKit', 133));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = safari.browser;\n\t\t\t\tresult.version = version.version;\n\t\t\t\tresult.versionNumber = version.versionNumber;\n\t\t\t\tresult.parentBrowser = safari.browser;\n\t\t\t\tresult.parentVersion = version.version;\n\t\t\t\tresult.parentVersionNumber = version.versionNumber;\n\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\tif (mobile) {\n\t\t\t\t\tresult.mobileExperimental = true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\texport function tryOneProductGoogleExtender(result: ParseResult): boolean {\n\t\t\t\tif (result.parentBrowser !== ProductName.Chrome) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (result.products.length !== 5) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet knownProducts: number = 0;\n\t\t\t\tlet unknownProduct: Extended.Product;\n\t\t\t\tfor (let prod of result.products) {\n\t\t\t\t\tswitch (prod.browser) {\n\t\t\t\t\t\tcase ProductName.Chrome:\n\t\t\t\t\t\tcase ProductName.Mozilla:\n\t\t\t\t\t\tcase ProductName.Safari:\n\t\t\t\t\t\tcase ProductName.AppleWebKit:\n\t\t\t\t\t\t\tknownProducts++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tunknownProduct = prod;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (knownProducts !== 4) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Chrome without Chrome/Mozilla/Safari/AppleWebKit', 136));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = unknownProduct.browser;\n\t\t\t\tresult.version = unknownProduct.version;\n\t\t\t\tresult.versionNumber = unknownProduct.versionNumber;\n\t\t\t\tresult.parsedCorretly = true;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function tryAol(result: ParseResult): boolean {\n\t\t\t\tif (result.parentBrowser !== ProductName.Chrome) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (result.products.length !== 6) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet aol: Extended.Product = result.getFirstProductByName(ProductName.AOL);\n\t\t\t\tlet aolBuild: Extended.Product = result.getFirstProductByName(ProductName.AOLBuild);\n\n\t\t\t\tif (!aol || !aolBuild) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = aol.browser;\n\t\t\t\tresult.version = aolBuild.version;\n\t\t\t\tresult.versionNumber = aolBuild.versionNumber;\n\t\t\t\tresult.parsedCorretly = true;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function tryFirefox(result: ParseResult): boolean {\n\t\t\t\tlet firefox: Extended.Product = result.getFirstProductByName(ProductName.Firefox);\n\t\t\t\tif (!firefox) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mozilla: Extended.Product = result.getFirstProductByName(ProductName.Mozilla);\n\t\t\t\tif (!mozilla) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Firefox without Mozilla', 136));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (mozilla.versionNumber !== 5) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Firefox with mozilla version !==5', 137));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet gecko: Extended.Product = result.getFirstProductByName(ProductName.Gecko);\n\t\t\t\tif (!gecko) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Firefox without gecko', 138));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = firefox.browser;\n\t\t\t\tresult.version = firefox.version;\n\t\t\t\tresult.versionNumber = firefox.versionNumber;\n\t\t\t\tresult.parentBrowser = firefox.browser;\n\t\t\t\tresult.parentVersion = firefox.version;\n\t\t\t\tresult.parentVersionNumber = firefox.versionNumber;\n\n\t\t\t\tif (result.products.length === 3) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\texport function tryAir(result: ParseResult): boolean {\n\t\t\t\tlet air: Extended.Product = result.getFirstProductByName(ProductName.AdobeAIR);\n\t\t\t\tif (!air) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mozilla: Extended.Product = result.getFirstProductByName(ProductName.Mozilla);\n\t\t\t\tif (!mozilla) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('AdobeAIR without Mozilla', 136));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (mozilla.versionNumber !== 5) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('AdobeAIR with mozilla version !==5', 137));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet webkit: Extended.Product = result.getFirstProductByName(ProductName.AppleWebKit);\n\t\t\t\tif (!webkit) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('AdobeAIR without webkit', 138));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = air.browser;\n\t\t\t\tresult.version = air.version;\n\t\t\t\tresult.versionNumber = air.versionNumber;\n\t\t\t\tresult.parentBrowser = air.browser;\n\t\t\t\tresult.parentVersion = air.version;\n\t\t\t\tresult.parentVersionNumber = air.versionNumber;\n\n\t\t\t\tif (result.products.length === 3) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\texport function tryPaleMoon(result: ParseResult): boolean {\n\t\t\t\tlet paleMoon: Extended.Product = result.getFirstProductByName(ProductName.PaleMoon);\n\t\t\t\tif (!paleMoon) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet firefox: Extended.Product = result.getFirstProductByName(ProductName.Firefox);\n\t\t\t\tif (!firefox) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Palemoon without Firefox', 136));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet mozilla: Extended.Product = result.getFirstProductByName(ProductName.Mozilla);\n\t\t\t\tif (!mozilla) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Palemoon without Mozilla', 136));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (mozilla.versionNumber !== 5) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Palemoon with mozilla version !==5', 137));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet gecko: Extended.Product = result.getFirstProductByName(ProductName.Gecko);\n\t\t\t\tif (!gecko) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Palemoon without gecko', 138));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = paleMoon.browser;\n\t\t\t\tresult.version = paleMoon.version;\n\t\t\t\tresult.versionNumber = paleMoon.versionNumber;\n\t\t\t\tresult.parentBrowser = firefox.browser;\n\t\t\t\tresult.parentVersion = firefox.version;\n\t\t\t\tresult.parentVersionNumber = firefox.versionNumber;\n\n\t\t\t\tif (result.products.length === 5 || result.products.length === 5) {\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\texport function tryOneProductFirefoxExtender(result: ParseResult): boolean {\n\t\t\t\tif (result.parentBrowser !== ProductName.Firefox) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (result.products.length !== 4) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet knownProducts: number = 0;\n\t\t\t\tlet unknownProduct: Extended.Product;\n\t\t\t\tfor (let prod of result.products) {\n\t\t\t\t\tswitch (prod.browser) {\n\t\t\t\t\t\tcase ProductName.Mozilla:\n\t\t\t\t\t\tcase ProductName.Gecko:\n\t\t\t\t\t\tcase ProductName.Firefox:\n\t\t\t\t\t\t\tknownProducts++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tunknownProduct = prod;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (knownProducts !== 3) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Firefox  Mozilla/Gecko/Firefox', 139));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tresult.browser = unknownProduct.browser;\n\t\t\t\tresult.version = unknownProduct.version;\n\t\t\t\tresult.versionNumber = unknownProduct.versionNumber;\n\t\t\t\tresult.parsedCorretly = true;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\tconst _ieRexp: RegExp = /^MSIE ([^ ]+)$/;\n\t\t\texport function tryIE(result: ParseResult): boolean {\n\t\t\t\tlet trident: Extended.Product = result.getFirstProductByName(ProductName.Trident);\n\t\t\t\tif (!trident) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet version: Extended.CommentVersionToken;\n\t\t\t\tlet ieTest: Array<string>;\n\t\t\t\tfor (let comment of result.comments) {\n\t\t\t\t\tif (!version && comment instanceof Extended.CommentVersionToken) {\n\t\t\t\t\t\tversion = comment;\n\t\t\t\t\t}\n\t\t\t\t\tif (!ieTest) {\n\t\t\t\t\t\tieTest = comment.raw.match(_ieRexp);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (version && version.versionNumber === 11) {\n\t\t\t\t\tresult.parentBrowser = ProductName.MSIE;\n\t\t\t\t\tresult.parentVersion = version.version;\n\t\t\t\t\tresult.parentVersionNumber = version.versionNumber;\n\t\t\t\t\tresult.browser = ProductName.MSIE;\n\t\t\t\t\tresult.version = version.version;\n\t\t\t\t\tresult.versionNumber = version.versionNumber;\n\t\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif (!ieTest || ieTest.length !== 2) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet versionString: string = ieTest[1];\n\t\t\t\tlet versionNumber: number = parseFloat(versionString) || 0;\n\n\t\t\t\tresult.parentBrowser = ProductName.MSIE;\n\t\t\t\tresult.parentVersion = versionString;\n\t\t\t\tresult.parentVersionNumber = versionNumber;\n\t\t\t\tresult.browser = ProductName.MSIE;\n\t\t\t\tresult.version = versionString;\n\t\t\t\tresult.versionNumber = versionNumber;\n\t\t\t\tresult.parsedCorretly = true;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\texport function fillOSProperties(result: ParseResult): void {\n\t\t\t\tlet parsedComments: Array<Extended.CommentToken> = result.comments\n\t\t\t\tlet osParsed: boolean = false;\n\t\t\t\tfor (let comment of parsedComments) {\n\t\t\t\t\tif (comment instanceof Extended.CommentOSToken) {\n\t\t\t\t\t\tif (osParsed) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.osType = comment.osType;\n\t\t\t\t\t\tresult.osName = comment.osName;\n\t\t\t\t\t\tresult.osVersion = comment.osVersion;\n\t\t\t\t\t\tresult.osVersionNumber = comment.osVersionNumber;\n\t\t\t\t\t\tresult.archtecture = comment.architecture;\n\t\t\t\t\t\tif (result.osName === 'Android') {\n\t\t\t\t\t\t\tresult.mobileExperimental = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tosParsed = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (comment instanceof Extended.CommentArchitectureToken) {\n\t\t\t\t\t\tif (result.archtecture !== 'unknown') {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.archtecture = comment.raw;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\texport function parseProducts(splitted: SplitterResult): Array<Extended.Product> {\n\t\t\t\tlet parsedProducts: Array<Extended.Product> = [];\n\t\t\t\tfor (let productString of splitted.products) {\n\t\t\t\t\tlet product: Extended.Product = parseProduct(productString, false);\n\t\t\t\t\tif (product) {\n\t\t\t\t\t\tparsedProducts.push(product);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parsedProducts\n\t\t\t}\n\n\t\t\texport function parseComments(splitted: SplitterResult): Array<Extended.CommentToken> {\n\t\t\t\tlet parsedComments: Array<Extended.CommentToken> = [];\n\t\t\t\tfor (let commentString of splitted.comments) {\n\t\t\t\t\tlet parsedComment: Array<Extended.CommentToken> = splitComment(commentString);\n\t\t\t\t\tparsedComments = parsedComments.concat(parsedComment);\n\t\t\t\t}\n\t\t\t\treturn parsedComments;\n\t\t\t}\n\n\n\t\t\texport function splitAgent(agent: string, throwErrors: boolean): SplitterResult {\n\t\t\t\tconst PRODUCT = 0;\n\t\t\t\tconst COMMENT = 1;\n\t\t\t\tconst UNKNOWN = 2;\n\n\t\t\t\tlet result: SplitterResult = new SplitterResult();\n\t\t\t\tlet comments: Array<string> = result.comments;\n\t\t\t\tlet products: Array<string> = result.products;\n\n\t\t\t\tlet state = UNKNOWN;\n\t\t\t\tlet part: string = '';\n\t\t\t\tlet commentOpenBrackets: number = 0;\n\n\t\t\t\tfunction writeAndReset(): void {\n\t\t\t\t\tif (commentOpenBrackets !== 0) {\n\t\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\t\tthrow new SplitError('Reset with commentOpenBrackets !== 0', 100);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (state === COMMENT) {\n\t\t\t\t\t\tcomments.push(part);\n\t\t\t\t\t}\n\t\t\t\t\tif (state === PRODUCT) {\n\t\t\t\t\t\tproducts.push(part);\n\t\t\t\t\t}\n\t\t\t\t\tpart = '';\n\t\t\t\t\tstate = UNKNOWN;\n\t\t\t\t}\n\n\t\t\t\tlet debugStr: string = '';\n\t\t\t\tlet l: number = agent.length;\n\t\t\t\tfor (let i: number = 0; i < l; i++) {\n\t\t\t\t\tlet char: string = agent.charAt(i);\n\t\t\t\t\tdebugStr += char;\n\t\t\t\t\tif (state === UNKNOWN) {\n\t\t\t\t\t\tswitch (char) {\n\t\t\t\t\t\t\tcase '(':\n\t\t\t\t\t\t\t\tstate = COMMENT;\n\t\t\t\t\t\t\t\tcommentOpenBrackets++;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tcase ')':\n\t\t\t\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\t\t\t\tthrow new SplitError('Closed bracket in unnown state', 101);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase ' ':\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tstate = PRODUCT;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (state === PRODUCT) {\n\t\t\t\t\t\tswitch (char) {\n\t\t\t\t\t\t\tcase '(':\n\t\t\t\t\t\t\tcase ')':\n\t\t\t\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\t\t\t\tthrow new SplitError('Bracket while product parsing', 102);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase ' ':\n\t\t\t\t\t\t\t\twriteAndReset();\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tpart += char;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (state === COMMENT) {\n\t\t\t\t\t\tswitch (char) {\n\t\t\t\t\t\t\tcase '(':\n\t\t\t\t\t\t\t\tcommentOpenBrackets++;\n\t\t\t\t\t\t\t\tpart += char;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tcase ')':\n\t\t\t\t\t\t\t\tcommentOpenBrackets--;\n\t\t\t\t\t\t\t\tif (commentOpenBrackets === 0) {\n\t\t\t\t\t\t\t\t\twriteAndReset();\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (commentOpenBrackets < 0) {\n\t\t\t\t\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\t\t\t\t\tthrow new SplitError('Logic error, commentOpenBrackets < 0', 103);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpart += char;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tpart += char;\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (state === PRODUCT) {\n\t\t\t\t\tproducts.push(part);\n\t\t\t\t}\n\t\t\t\tif (state === COMMENT) {\n\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\tthrow new SplitError('Unexpected comment end', 104);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\t// product like Chrome/46.0.2490.80\n\t\t\texport function parseProduct(product: string, throwErrors: boolean): Extended.Product {\n\n\t\t\t\tlet name: string = '';\n\t\t\t\tlet version: string = '';\n\n\t\t\t\tconst NAME = 0;\n\t\t\t\tconst VERSION = 1;\n\t\t\t\tconst UNKNOWN = 2;\n\n\t\t\t\tlet state: number = UNKNOWN;\n\n\t\t\t\tlet debugStr: string = '';\n\t\t\t\tlet l: number = product.length;\n\t\t\t\tfor (let i: number = 0; i < l; i++) {\n\t\t\t\t\tlet char: string = product.charAt(i);\n\t\t\t\t\tdebugStr += char;\n\n\t\t\t\t\tif (state === UNKNOWN) {\n\t\t\t\t\t\tif (char === '/') {\n\t\t\t\t\t\t\tif (name.length === 0) {\n\t\t\t\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\t\t\t\tthrow new ParseProductError('No name before / in unknown state', 110)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstate = VERSION;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate = NAME;\n\t\t\t\t\t}\n\t\t\t\t\tif (state === NAME) {\n\t\t\t\t\t\tif (char === '/') {\n\t\t\t\t\t\t\tif (name.length === 0) {\n\t\t\t\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\t\t\t\tthrow new ParseProductError('No name before / in name state', 111)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstate = VERSION;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tname += char;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (state === VERSION) {\n\t\t\t\t\t\tif (char === '/') {\n\t\t\t\t\t\t\tif (name === 'Nichrome' && version === 'self') { // Browser specific: Nichrome\n\t\t\t\t\t\t\t\tversion = '';\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\t\t\tthrow new ParseProductError('Unexpected / in version state', 112)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tversion += char;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (name.length === 0) {\n\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\tthrow new ParseProductError('No product name', 113);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (name === 'TO-Browser' && version.indexOf('TOB') === 0) {\n\t\t\t\t\tversion = version.slice(3);\n\t\t\t\t}\n\n\t\t\t\tif (version.length === 0) {\n\t\t\t\t\tif (throwErrors) {\n\t\t\t\t\t\tthrow new ParseProductError('No version', 114);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet result: Extended.Product = new Extended.Product();\n\t\t\t\tresult.raw = product;\n\t\t\t\tresult.browser = name;\n\t\t\t\tresult.version = version;\n\t\t\t\tresult.versionNumber = parseFloat(version) || 0;\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\texport function splitComment(comment: string): Array<Extended.CommentToken> {\n\t\t\t\tlet result: Array<Extended.CommentToken> = [];\n\t\t\t\tlet splitted = comment.split('; ');\n\t\t\t\tfor (let part of splitted) {\n\t\t\t\t\tlet token: Extended.CommentToken = null;\n\t\t\t\t\ttoken = tryParseOSToken(part) ||\n\t\t\t\t\t\ttryParseProductToken(part) ||\n\t\t\t\t\t\ttryParseVersionToken(part) ||\n\t\t\t\t\t\ttryParseAchitectureToken(part) ||\n\t\t\t\t\t\tnew Extended.CommentUnknownToken();\n\t\t\t\t\ttoken.raw = part;\n\t\t\t\t\tresult.push(token);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\texport function tryParseAchitectureToken(str: string): Extended.CommentArchitectureToken {\n\t\t\t\tif (str === 'WOW64' || str === 'Win64' || str === 'x64') {\n\t\t\t\t\treturn new Extended.CommentArchitectureToken();\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\texport function tryParseProductToken(str: string): Extended.CommentProductToken {\n\t\t\t\tlet parsed = parseProduct(str, false);\n\t\t\t\tif (!parsed) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tlet token = new Extended.CommentProductToken();\n\t\t\t\ttoken.product = parsed;\n\t\t\t\treturn token;\n\t\t\t}\n\n\t\t\texport function tryParseVersionToken(str: string): Extended.CommentVersionToken {\n\t\t\t\tlet splitResult: Array<string> = str.match(/rv\\:(.*)/);\n\t\t\t\tif (splitResult && splitResult.length === 2) {\n\t\t\t\t\tlet versionNumber: number = parseFloat(splitResult[1]);\n\t\t\t\t\tif (!isNaN(versionNumber)) {\n\t\t\t\t\t\tlet result: Extended.CommentVersionToken = new Extended.CommentVersionToken();\n\t\t\t\t\t\tresult.version = splitResult[1];\n\t\t\t\t\t\tresult.versionNumber = versionNumber;\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\texport function tryParseOSToken(str: string): Extended.CommentOSToken {\n\t\t\t\tlet result: Extended.CommentOSToken = null;\n\t\t\t\tlet splitResult: Array<string>\n\t\t\t\t//try { // Windows\n\t\t\t\tsplitResult = str.match(/Windows NT ?(.*)/);\n\t\t\t\tif (splitResult && splitResult.length === 2) {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tlet version = splitResult[1];\n\t\t\t\t\tif (version === '') {\n\t\t\t\t\t\tversion = 'unknown'\n\t\t\t\t\t}\n\t\t\t\t\tlet versionNumber = parseFloat(version) || 0;\n\t\t\t\t\tresult.osType = 'Windows';\n\t\t\t\t\tlet winNames: any = {\n\t\t\t\t\t\t\"Windows NT 10.0\": \"Windows 10\",\n\t\t\t\t\t\t\"Windows NT 6.3\": \"Windows 8.1\",\n\t\t\t\t\t\t\"Windows NT 6.2\": \"Windows 8\",\n\t\t\t\t\t\t\"Windows NT 6.1\": \"Windows 7\",\n\t\t\t\t\t\t\"Windows NT 6.0\": \"Windows Vista\",\n\t\t\t\t\t\t\"Windows NT 5.2\": \"Windows Server 2003; Windows XP x64 Edition\",\n\t\t\t\t\t\t\"Windows NT 5.1\": \"Windows XP\",\n\t\t\t\t\t\t\"Windows NT 5.01\": \"Windows 2000 SP1\",\n\t\t\t\t\t\t\"Windows NT 5.0\": \"Windows 2000\",\n\t\t\t\t\t\t\"Windows NT 4.0\": \"Windows NT 4.0\",\n\t\t\t\t\t\t\"Windows NT\": \"Windows Unknown\"\n\t\t\t\t\t}\n\t\t\t\t\tlet name: string = 'unknown';\n\t\t\t\t\tif (!winNames[str]) {\n\t\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Unknown windows name: ' + str, 150));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tname = winNames[str];\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.osName = name;\n\t\t\t\t\tresult.osVersion = version;\n\t\t\t\t\tresult.osVersionNumber = versionNumber;\n\t\t\t\t\tresult.architecture = 'unknown';\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { // OS X\n\t\t\t\tsplitResult = str.match(/Intel Mac OS X (.*)/);\n\t\t\t\tif (splitResult && splitResult.length === 2) {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tlet version = splitResult[1].replace(/_/g, '.');\n\t\t\t\t\tlet versionNumber = parseFloat(version) || 0;\n\t\t\t\t\tresult.osType = 'OS X'\n\t\t\t\t\tresult.osName = 'Intel Mac OS X'\n\t\t\t\t\tresult.osVersion = version;\n\t\t\t\t\tresult.osVersionNumber = versionNumber;\n\t\t\t\t\tresult.architecture = 'Intel Mac OS X';\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { //Chrom OS\n\t\t\t\tsplitResult = str.match(/CrOS ([^ ]+) (.*)/);\n\t\t\t\tif (splitResult && splitResult.length === 3) {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tlet version = splitResult[2];\n\t\t\t\t\tlet versionNumber = parseFloat(version) || 0;\n\t\t\t\t\tresult.osType = 'Chrome OS'\n\t\t\t\t\tresult.osName = 'Chrome OS'\n\t\t\t\t\tresult.osVersion = version;\n\t\t\t\t\tresult.osVersionNumber = versionNumber;\n\t\t\t\t\tresult.architecture = splitResult[1];\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { //Linux\n\t\t\t\tsplitResult = str.match(/Linux (.*)/);\n\t\t\t\tif (splitResult && splitResult.length === 2) {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tresult.osType = 'Linux'\n\t\t\t\t\tresult.osName = 'Linux'\n\t\t\t\t\tresult.osVersion = 'unknown';\n\t\t\t\t\tresult.osVersionNumber = 0;\n\t\t\t\t\tresult.architecture = splitResult[1];\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { // CPU iPhone OS 9_3_2 like Mac OS X\n\t\t\t\tsplitResult = str.match(/CPU iPhone OS (.*) like Mac OS X/);\n\t\t\t\tif (splitResult && splitResult.length === 2) {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tlet version = splitResult[1].replace(/_/g, '.');\n\t\t\t\t\tlet versionNumber = parseFloat(version) || 0;\n\t\t\t\t\tresult.osType = 'iPhone';\n\t\t\t\t\tresult.osName = 'iPhone';\n\t\t\t\t\tresult.osVersion = version;\n\t\t\t\t\tresult.osVersionNumber = versionNumber;\n\t\t\t\t\tresult.architecture = 'iPhone';\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { // iOS\n\t\t\t\tif (str == 'iOS') {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tresult.osType = 'iOS';\n\t\t\t\t\tresult.osName = 'iOS';\n\t\t\t\t\tresult.osVersion = 'unknown';\n\t\t\t\t\tresult.osVersionNumber = 0;\n\t\t\t\t\tresult.architecture = 'Air';\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { // CPU OS 9_3_2 like Mac OS X //ipad\n\t\t\t\tsplitResult = str.match(/CPU OS (.*) like Mac OS X/);\n\t\t\t\tif (splitResult && splitResult.length === 2) {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tlet version = splitResult[1].replace(/_/g, '.');\n\t\t\t\t\tlet versionNumber = parseFloat(version) || 0;\n\t\t\t\t\tresult.osType = 'iPad';\n\t\t\t\t\tresult.osName = 'iPad';\n\t\t\t\t\tresult.osVersion = version;\n\t\t\t\t\tresult.osVersionNumber = versionNumber;\n\t\t\t\t\tresult.architecture = 'iPad';\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { // Android 4.4.2\n\t\t\t\tsplitResult = str.match(/Android (.*)/);\n\t\t\t\tif (splitResult && splitResult.length === 2) {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tlet version = splitResult[1];\n\t\t\t\t\tlet versionNumber = parseFloat(version) || 0;\n\t\t\t\t\tresult.osType = 'Android'\n\t\t\t\t\tresult.osName = 'Android'\n\t\t\t\t\tresult.osVersion = version;\n\t\t\t\t\tresult.osVersionNumber = versionNumber;\n\t\t\t\t\tresult.architecture = 'Android';\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\t\t\t\t// try { // Android\n\t\t\t\tif (str == 'Android') {\n\t\t\t\t\tresult = new Extended.CommentOSToken();\n\t\t\t\t\tresult.osType = 'Android';\n\t\t\t\t\tresult.osName = 'Android';\n\t\t\t\t\tresult.osVersion = 'unknown';\n\t\t\t\t\tresult.osVersionNumber = 0;\n\t\t\t\t\tresult.architecture = 'Air';\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\t// } catch (e){\n\t\t\t\t// \tPandaConsole.errorUncritical(e)\n\t\t\t\t// };\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\texport class SplitterResult {\n\t\t\t\tpublic products: Array<string> = [];\n\t\t\t\tpublic comments: Array<string> = [];\n\t\t\t}\n\t\t}\n\t}\n}\n","///ts:ref=UserAgentParser\n/// <reference path=\"./UserAgentParser.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport class Browser {\n\t\tprivate static MSIE: string = 'MSIE';\n\t\tprivate static Edge: string = 'Edge';\n\t\tprivate static Chrome: string = 'Chrome';\n\t\tprivate static Firefox: string = 'Firefox';\n\t\tprivate static Opera: string = 'Opera';\n\t\tprivate static Safari: string = 'Safari';\n\t\tprivate static YaBrowser: string = 'YaBrowser';\n\t\tprivate static FacebookCanvasDesktop: string = 'FacebookCanvasDesktop';\n\n\t\tprivate static _userAgent: string = null;\n\t\tpublic static getUserAgent(): string {\n\t\t\tif (!Browser._userAgent) {\n\t\t\t\tBrowser._userAgent = navigator.userAgent;\n\t\t\t}\n\t\t\treturn Browser._userAgent;\n\t\t}\n\n\t\tprivate static _info: UserAgentParser.ParseResult = null;\n\t\tpublic static getInfo(): UserAgentParser.ParseResult {\n\t\t\tif (!Browser._info) {\n\t\t\t\tlet agent = Browser.getUserAgent();\n\t\t\t\tthis._info = UserAgentParser.parse(agent);\n\t\t\t}\n\t\t\treturn Browser._info;\n\t\t}\n\n\t\tpublic static isIe(): boolean {\n\t\t\treturn Browser.getInfo().parentBrowser === Browser.MSIE;\n\t\t}\n\n\t\tpublic static isEdge(): boolean {\n\t\t\treturn Browser.getInfo().parentBrowser === Browser.Edge;\n\t\t}\n\n\t\tpublic static isChrome(): boolean {\n\t\t\treturn Browser.getInfo().parentBrowser === Browser.Chrome;\n\t\t}\n\n\t\tpublic static isFireFox(): boolean {\n\t\t\treturn Browser.getInfo().parentBrowser === Browser.Firefox;\n\t\t}\n\n\t\tpublic static isFacebook(): boolean {\n\t\t\treturn Browser.getInfo().browser === Browser.FacebookCanvasDesktop;\n\t\t}\n\n\t\tpublic static isOldOpera(): boolean {\n\t\t\treturn Browser.getInfo().parentBrowser === Browser.Opera; // у новой оперы parentBrowser == Chrome\n\t\t}\n\n\t\tpublic static isSafari(): boolean {\n\t\t\treturn Browser.getInfo().parentBrowser === Browser.Safari;\n\t\t}\n\n\t\tpublic static isIos(): boolean {\n\t\t\treturn Browser.getInfo().osType === 'iPhone' || Browser.getInfo().osType === 'iPad' || Browser.getInfo().osType === 'iOs';\n\t\t}\n\n\t\tpublic static isAndroid(): boolean {\n\t\t\treturn Browser.getInfo().osType === 'Android';\n\t\t}\n\t}\n}","///ts:ref=Browser\n/// <reference path=\"./Browser.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport class BrowserSpecific {\n\t\tprivate static _hasStackOnUnthrowedError: boolean = null;\n\t\tpublic static hasStackOnUnthrowedError(): boolean {\n\t\t\tif (BrowserSpecific._hasStackOnUnthrowedError === null) {\n\t\t\t\tBrowserSpecific._hasStackOnUnthrowedError = Browser.isChrome() || Browser.isFireFox() || Browser.isEdge() || Browser.isOldOpera() || Browser.isSafari();\n\t\t\t}\n\t\t\treturn BrowserSpecific._hasStackOnUnthrowedError;\n\t\t}\n\n\t\tprivate static _errorHasExtenderConstructorLine: boolean = null;\n\t\tpublic static errorHasExtenderConstructorLine(): boolean {\n\t\t\tif (BrowserSpecific._errorHasExtenderConstructorLine === null) {\n\t\t\t\tBrowserSpecific._errorHasExtenderConstructorLine = !Browser.isOldOpera();\n\t\t\t}\n\t\t\treturn BrowserSpecific._errorHasExtenderConstructorLine;\n\t\t}\n\n\t\tprivate static _errorStackHasNoClass: boolean = null;\n\t\tpublic static errorStackHasNoClass(): boolean {\n\t\t\tif (BrowserSpecific._errorStackHasNoClass === null) {\n\t\t\t\tBrowserSpecific._errorStackHasNoClass = Browser.isSafari() || Browser.isIos();\n\t\t\t}\n\t\t\treturn BrowserSpecific._errorStackHasNoClass;\n\t\t}\n\n\t\tprivate static _colorsInConsole: boolean = null;\n\t\tpublic static colorsInConsole(): boolean {\n\t\t\tif (BrowserSpecific._colorsInConsole === null) {\n\t\t\t\tBrowserSpecific._colorsInConsole = Browser.isChrome() || Browser.isFireFox();\n\t\t\t}\n\t\t\treturn BrowserSpecific._colorsInConsole;\n\t\t}\n\n\t\tprivate static _inconsistenceUserAgent: boolean = null; // у IE 11 юзер агент который он отдаёт при запросах не содержит .NET комментов\n\t\tpublic static inconsistenceUserAgent(): boolean {\n\t\t\tif (BrowserSpecific._inconsistenceUserAgent === null) {\n\t\t\t\tBrowserSpecific._inconsistenceUserAgent = Browser.isIe();\n\t\t\t}\n\t\t\treturn BrowserSpecific._inconsistenceUserAgent;\n\t\t}\n\n\t\tprivate static _functionHoistingBug: boolean = null;\n\t\tpublic static functionHoistingBug(): boolean {\n\t\t\tif (BrowserSpecific._functionHoistingBug === null) {\n\t\t\t\tlet version = Math.floor(Browser.getInfo().versionNumber);\n\t\t\t\tBrowserSpecific._functionHoistingBug = Browser.isFireFox() && version >= 42 && version <= 45;\n\t\t\t}\n\t\t\treturn BrowserSpecific._functionHoistingBug;\n\t\t}\n\n\t\tprivate static _unhandledErrorHasNoCol: boolean = null;\n\t\tpublic static unhandledErrorHasNoCol(): boolean {\n\t\t\tif (BrowserSpecific._unhandledErrorHasNoCol === null) {\n\t\t\t\tBrowserSpecific._unhandledErrorHasNoCol = Browser.isOldOpera() || (Browser.isIe() && Browser.getInfo().versionNumber < 11);\n\t\t\t}\n\t\t\treturn BrowserSpecific._unhandledErrorHasNoCol;\n\t\t}\n\n\t\tprivate static _unhandledErrorBug: boolean = null;\n\t\tpublic static unhandledErrorBug(): boolean {\n\t\t\tif (BrowserSpecific._unhandledErrorBug === null) {\n\t\t\t\tBrowserSpecific._unhandledErrorBug = Browser.isEdge() || Browser.isSafari() || Browser.isIos() || Browser.isOldOpera() || (Browser.isIe() && Browser.getInfo().versionNumber < 11);\n\t\t\t}\n\t\t\treturn BrowserSpecific._unhandledErrorBug;\n\t\t}\n\n\t\tprivate static _onlyExperimentalWebGL: boolean = null;\n\t\tpublic static onlyExperimentalWebGL(): boolean {\n\t\t\tif (BrowserSpecific._onlyExperimentalWebGL === null) {\n\t\t\t\tBrowserSpecific._onlyExperimentalWebGL = Browser.isEdge() || Browser.isIe();\n\t\t\t}\n\t\t\treturn BrowserSpecific._onlyExperimentalWebGL;\n\t\t}\n\n\t\tprivate static _disabledWebGLDebugRendererInfo: boolean = null;\n\t\tpublic static disabledWebGLDebugRendererInfo(): boolean {\n\t\t\tif (BrowserSpecific._disabledWebGLDebugRendererInfo === null) {\n\t\t\t\tBrowserSpecific._disabledWebGLDebugRendererInfo = Browser.isFireFox() || Browser.isIos();\n\t\t\t}\n\t\t\treturn BrowserSpecific._disabledWebGLDebugRendererInfo;\n\t\t}\n\n\t\tprivate static _XDomainRequestNeeded: boolean = null;\n\t\tpublic static XDomainRequestNeeded(): boolean {\n\t\t\tif (BrowserSpecific._XDomainRequestNeeded === null) {\n\t\t\t\tBrowserSpecific._XDomainRequestNeeded = Browser.isIe() && (Math.floor(Browser.getInfo().versionNumber) === 8 || Math.floor(Browser.getInfo().versionNumber) === 9);\n\t\t\t}\n\t\t\treturn BrowserSpecific._XDomainRequestNeeded;\n\t\t}\n\n\t\tprivate static _noEventInHandlers: boolean = null;\n\t\tpublic static noEventInHandlers(): boolean {\n\t\t\tif (BrowserSpecific._noEventInHandlers === null) {\n\t\t\t\tBrowserSpecific._noEventInHandlers = Browser.isIe() && Math.floor(Browser.getInfo().versionNumber) <= 9;\n\t\t\t}\n\t\t\treturn BrowserSpecific._noEventInHandlers;\n\t\t}\n\n\t\tprivate static _scrrenSizeSupported: boolean = null;\n\t\tpublic static scrrenSizeSupported(): boolean {\n\t\t\tif (BrowserSpecific._scrrenSizeSupported === null) {\n\t\t\t\tif (window.screen && typeof window.screen.width === 'number') {\n\t\t\t\t\tBrowserSpecific._scrrenSizeSupported = true;\n\t\t\t\t} else {\n\t\t\t\t\tBrowserSpecific._scrrenSizeSupported = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn BrowserSpecific._scrrenSizeSupported;\n\t\t}\n\t}\n}","namespace panda {\n\texport class ErsatzSet<T extends UniqIdMarked> {\n\n\t\tpublic constructor(name: string = 'unnamed') {\n\t\t\tthis._name = name;\n\t\t}\n\n\t\tpublic hash: { [key: string]: T } = {};\n\t\tprivate _name: string;\n\n\t\tpublic addObject(obj: T): void {\n\t\t\tthis.hash[obj.uniqId] = obj;\n\t\t}\n\n\t\tpublic removeObject(obj: T): void {\n\t\t\tlet objInHash: T = this.hash[obj.uniqId];\n\t\t\tConsole.here;\n\n\t\t\tif (!objInHash) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Set ' + this._name + ' attemp to remove without object'));\n\t\t\t}\n\n\t\t\tdelete this.hash[obj.uniqId];\n\t\t}\n\n\t\tpublic hasObject(obj: T): boolean {\n\t\t\treturn !!this.hash[obj.uniqId];\n\t\t}\n\n\t\tpublic isEmpty(): boolean {\n\t\t\tfor (let key in this.hash) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n}","namespace panda {\n\texport class Console {\n\t\tpublic static $INIT(): void {\n\t\t\tlet origConsoleLog = console.log;\n\n\t\t\tconsole.log = function (...args: Array<any>) {\n\t\t\t\tConsole.logDebug('console.log', ...args);\n\t\t\t}\n\t\t\tconsole.warn = function (...args: Array<any>) {\n\t\t\t\tConsole.logWarn('console.warn', ...args);\n\t\t\t}\n\t\t\tconsole.error = function (...args: Array<any>) {\n\t\t\t\tConsole.logError('console.error', ...args);\n\t\t\t}\n\t\t\tconsole.exception = function (...args: Array<any>) {\n\t\t\t\tConsole.logError('console.exception', ...args);\n\t\t\t}\n\t\t\tconsole.assert = function (assert: any, ...args: Array<any>) {\n\t\t\t\tif (!assert) {\n\t\t\t\t\tConsole.logWarn('console.assert failed', ...args);\n\t\t\t\t} else {\n\t\t\t\t\tConsole.logDebug('console.assert ok', ...args);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tConsole.onErrorUncritical = new Signal<(error: Error | AdvancedError) => void>();\n\t\t\tConsole.onLog = new Signal<(level: ConsoleMessageLevel, message: string, args: Array<any>) => void>();\n\n\t\t\tGlobalErrorListener.onGlobalError.addListener(Console.handler_unhaltedError);\n\t\t\tthis.onErrorUncritical.addListener(function PandaConsole_handler_errorUncritical(error: Error | AdvancedError): void {\n\t\t\t\tConsole.logWarn('' + error);\n\t\t\t\tlet stack: string = AdvancedError.getStacktrace(error);\n\t\t\t\tif (stack) {\n\t\t\t\t\tConsole.logWarn(stack);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction colorConsoleWriter(level: ConsoleMessageLevel, message: string, args: Array<any>): void {\n\t\t\t\t// let argsCopy = args.slice();\n\t\t\t\t// if (PandaConsoleMessageStyles.hasStyle(level)) {\n\t\t\t\t// \targsCopy.unshift('%c ' + message, PandaConsoleMessageStyles.getStyle(level));\n\t\t\t\t// } else {\n\t\t\t\t// \targsCopy.unshift(message);\n\t\t\t\t// }\n\t\t\t\t// origConsoleLog.apply(console, argsCopy);\n\t\t\t\tlet argsArray = [message].concat(args);\n\t\t\t\tif (Console.filterFunc instanceof Function) {\n\t\t\t\t\tif (!Console.filterFunc.apply(null, argsArray)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\torigConsoleLog.apply(console, argsArray);\n\t\t\t}\n\n\t\t\tfunction normalConsoleWriter(level: ConsoleMessageLevel, message: string, args: Array<any>): void {\n\t\t\t\t// let argsCopy = args.slice();\n\t\t\t\t// argsCopy.unshift(message);\n\t\t\t\t// origConsoleLog.apply(console, argsCopy);\n\t\t\t\t\n\t\t\t\tlet argsArray = [message].concat(args);\n\t\t\t\tif (Console.filterFunc instanceof Function) {\n\t\t\t\t\tif (!Console.filterFunc.apply(null, argsArray)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\torigConsoleLog.apply(console, argsArray);\n\t\t\t}\n\n\t\t\tfunction stupidConsoleWriter(level: ConsoleMessageLevel, message: string, args: Array<any>): void {\n\t\t\t\tif (level === ConsoleMessageLevels.WARN) {\n\t\t\t\t\t//debugger;\n\t\t\t\t}\n\t\t\t\tlet argsArray = [message].concat(args);\n\t\t\t\tif (Console.filterFunc instanceof Function) {\n\t\t\t\t\tif (!Console.filterFunc.apply(null, argsArray)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\torigConsoleLog(level + ' ' + message + ' ' + args.join(' '));\n\t\t\t}\n\n\t\t\tif (typeof console === \"undefined\" || typeof origConsoleLog === \"undefined\") {\n\t\t\t\t// skip logging to console\n\t\t\t} else {\n\t\t\t\tif (origConsoleLog) {\n\t\t\t\t\tif (origConsoleLog.apply) {\n\t\t\t\t\t\tif (this.colorsSupport()) {\n\t\t\t\t\t\t\tthis.onLog.addListener(colorConsoleWriter);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.onLog.addListener(normalConsoleWriter);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.onLog.addListener(stupidConsoleWriter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tpublic static logExternal(message: string, ...args: Array<any>): void {\n\t\t\tthis.onLog.emit(ConsoleMessageLevels.EXTERNAL, message, args);\n\t\t}\n\n\t\tpublic static logInfo(message: string, ...args: Array<any>): void {\n\t\t\tthis.onLog.emit(ConsoleMessageLevels.INFO, message, args);\n\t\t}\n\n\t\tpublic static logDebug(message: string, ...args: Array<any>): void {\n\t\t\tthis.onLog.emit(ConsoleMessageLevels.DEBUG, message, args);\n\t\t}\n\n\t\tpublic static logWarn(message: string, ...args: Array<any>): void {\n\t\t\tif ((window as any).noWebGlDetected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onLog.emit(ConsoleMessageLevels.WARN, message, args);\n\t\t}\n\n\t\tpublic static logError(message: string, ...args: Array<any>): void {\n\t\t\tif ((window as any).noWebGlDetected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onLog.emit(ConsoleMessageLevels.ERROR, message, args);\n\t\t}\n\n\t\tpublic static errorUncritical(error: Error | AdvancedError): void {\n\t\t\tif ((window as any).noWebGlDetected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onErrorUncritical.emit(error);\n\t\t}\n\n\t\tpublic static here: boolean = true;\n\n\t\tpublic static onErrorUncritical: Signal<(error: Error | AdvancedError) => void> = null;\n\t\tpublic static onLog: Signal<(level: ConsoleMessageLevel, message: string, args: Array<any>) => void> = null;\n\t\tpublic static filterFunc: (...args: any[]) => boolean;\n\n\t\tprivate static handler_unhaltedError(msg: string, url: string, line: number, col: number, error: any): void {\n\t\t\tConsole.logError(msg, url, line, col, AdvancedError.getStacktrace(error));\n\t\t}\n\n\t\tprivate static _colorsSupport: boolean = null;\n\t\tprivate static colorsSupport(): boolean {\n\t\t\tif (this._colorsSupport == null) {\n\t\t\t\tthis._colorsSupport = BrowserSpecific.colorsInConsole();\n\t\t\t}\n\t\t\treturn this._colorsSupport;\n\t\t}\n\t}\n}\n","///ts:ref=Console\n/// <reference path=\"../console/Console.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport class List<T> {\n\t\tprivate static _ITERATOR_POOL: Array<ListIterator<any>> = [];\n\t\tpublic static _ITERATOR_POOL_MAX: number = 1000;\n\t\tpublic constructor(name: string) {\n\t\t\tthis.$name = name;\n\t\t}\n\n\t\tprivate _head: ListNode<T> = null;\n\t\tprivate _tail: ListNode<T> = null;\n\t\tpublic $name: string = null;\n\n\n\t\tpublic getHead(): ListIterator<T> {\n\t\t\tlet head = this.findValidHead();\n\t\t\treturn this.getIteratorForNode(head);\n\t\t}\n\n\t\tpublic getTail(): ListIterator<T> {\n\t\t\tlet tail = this.findValidTail();\n\t\t\treturn this.getIteratorForNode(tail);\n\t\t}\n\n\t\tpublic getIsEmpty(): boolean {\n\t\t\treturn this._length === 0;\n\t\t}\n\n\t\tprivate _length: number = 0;\n\t\tpublic getLength(): number {\n\t\t\treturn this._length;\n\t\t}\n\n\t\t/**\n\t\t* Destroys iterator after removing by default\n\t\t*/\n\t\tpublic remove(iterator: ListIterator<T>, destroyIterator: boolean = true): void {\n\t\t\titerator.$removeElement(destroyIterator);\n\t\t\tthis._length--;\n\t\t}\n\n\t\t/**\n\t\t* You MUST destroy iterator after accessing node, otherwise removed item will be zombie forever\n\t\t*/\n\t\tpublic search(searchable: T): ListIterator<T> {\n\t\t\tlet iterator = this.getTail();\n\t\t\twhile (!iterator.getEnded()) {\n\t\t\t\tif (iterator.getValue() === searchable) {\n\t\t\t\t\treturn iterator;\n\t\t\t\t}\n\t\t\t\titerator.prev();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tpublic has(searchable: T): boolean {\n\t\t\tlet iterator = this.getTail();\n\t\t\twhile (!iterator.getEnded()) {\n\t\t\t\tif (iterator.getValue() === searchable) {\n\t\t\t\t\titerator.destroy();\n\t\t\t\t\tthis.$returnIteratorToPool(iterator);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\titerator.prev();\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tpublic insert(insertable: T, priority: number = 0) {\n\t\t\tlet node = this._tail;\n\t\t\tlet insertableNode = new ListNode(this, insertable, priority);\n\n\t\t\twhile (node && node.priority < priority) {\n\t\t\t\tnode = node.prev;\n\t\t\t}\n\t\t\tif (!node) {\n\t\t\t\tthis.addBefore(insertableNode, this._head)\n\t\t\t} else {\n\t\t\t\tthis.addAfter(insertableNode, node);\n\t\t\t}\n\t\t\tthis._length++;\n\t\t}\n\n\t\tprivate findValidHead(): ListNode<T> {\n\t\t\tlet head = this._head;\n\t\t\twhile (head && !head.getIsValid()) {\n\t\t\t\thead = head.next;\n\t\t\t}\n\t\t\treturn head;\n\t\t}\n\n\t\tprivate findValidTail(): ListNode<T> {\n\t\t\tlet tail = this._tail;\n\t\t\twhile (tail && !tail.getIsValid()) {\n\t\t\t\ttail = tail.prev;\n\t\t\t}\n\t\t\treturn tail;\n\t\t}\n\n\t\tprivate getIteratorForNode<T>(node: ListNode<T>): ListIterator<T> {\n\t\t\tlet pool = List._ITERATOR_POOL;\n\t\t\tif (pool.length) {\n\t\t\t\tlet iter = pool.pop();\n\t\t\t\titer.$reSetup(node, this.$name);\n\t\t\t\tGlobalInstanceChecker.watch(iter);\n\t\t\t\treturn iter;\n\t\t\t} else {\n\t\t\t\treturn new ListIterator<T>(node, this.$name);\n\t\t\t}\n\t\t}\n\n\t\tpublic $returnIteratorToPool(iter: ListIterator<T>) {\n\t\t\tif (iter.getIsValid()) {\n\t\t\t\tthrow new AdvancedError('Attempt to return valid iterator to pool');\n\t\t\t}\n\t\t\tif (List._ITERATOR_POOL.length >= List._ITERATOR_POOL_MAX) {\n\t\t\t\tConsole.logWarn('List._ITERATOR_POOL.length >= List._ITERATOR_POOL_MAX, skipping');\n\t\t\t\t// do nothing with iter\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tGlobalInstanceChecker.unWatch(iter);\n\t\t\tList._ITERATOR_POOL.push(iter);\n\t\t}\n\n\t\tprivate addAfter(insertableNode: ListNode<T>, node: ListNode<T> = null): void {\n\t\t\tif (!node) {\n\t\t\t\tif (this._tail) {\n\t\t\t\t\tnode = this._tail;\n\t\t\t\t} else {\n\t\t\t\t\tthis._head = insertableNode;\n\t\t\t\t\tthis._tail = insertableNode;\n\t\t\t\t\tinsertableNode.next = null;\n\t\t\t\t\tinsertableNode.prev = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (node) {\n\t\t\t\tlet tail = node.next;\n\n\t\t\t\tnode.next = insertableNode;\n\t\t\t\tinsertableNode.prev = node;\n\n\t\t\t\tinsertableNode.next = tail;\n\t\t\t\tif (tail) {\n\t\t\t\t\ttail.prev = insertableNode\n\t\t\t\t} else {\n\t\t\t\t\tthis._tail = insertableNode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate addBefore(insertableNode: ListNode<T>, node: ListNode<T> = null): void {\n\t\t\tif (!node) {\n\t\t\t\tif (this._head) {\n\t\t\t\t\tnode = this._head;\n\t\t\t\t} else {\n\t\t\t\t\tthis._head = insertableNode;\n\t\t\t\t\tthis._tail = insertableNode;\n\t\t\t\t\tinsertableNode.next = null;\n\t\t\t\t\tinsertableNode.prev = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (node) {\n\t\t\t\tlet head = node.prev;\n\n\t\t\t\tnode.prev = insertableNode;\n\t\t\t\tinsertableNode.next = node;\n\n\t\t\t\tinsertableNode.prev = head;\n\t\t\t\tif (head) {\n\t\t\t\t\thead.next = insertableNode\n\t\t\t\t} else {\n\t\t\t\t\tthis._head = insertableNode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic $removeNode(node: ListNode<T>): void {\n\t\t\tConsole.here;\n\t\t\tif (node.getIsValid()) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attempt to remove valid Node from List'));\n\t\t\t}\n\t\t\tif (node.getRefCounter() !== 0) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attempt to remove Node from List with refcounter !== 0'));\n\t\t\t}\n\t\t\tlet prev = node.prev;\n\t\t\tif (prev) {\n\t\t\t\tprev.next = node.next;\n\t\t\t} else {\n\t\t\t\tthis._head = node.next;\n\t\t\t}\n\t\t\tlet next = node.next;\n\t\t\tif (next) {\n\t\t\t\tnext.prev = node.prev;\n\t\t\t} else {\n\t\t\t\tthis._tail = node.prev;\n\t\t\t}\n\t\t\tnode.next = null;\n\t\t\tnode.prev = null;\n\t\t}\n\t}\n\n\texport class ListNode<T> {\n\t\tpublic constructor(list: List<T>, value: T = null, priority: number, next: ListNode<T> = null, prev: ListNode<T> = null) {\n\t\t\tthis._list = list;\n\t\t\tthis.value = value;\n\t\t\tthis.priority = priority;\n\t\t\tthis.next = next;\n\t\t\tthis.prev = prev;\n\t\t\tthis._isValid = true;\n\t\t\tthis._listName = list.$name;\n\t\t}\n\n\t\tpublic value: T;\n\t\tpublic priority: number;\n\t\tpublic next: ListNode<T>;\n\t\tpublic prev: ListNode<T>;\n\t\tprivate _listName: string;\n\n\t\tprivate _isValid: boolean;\n\t\tpublic getIsValid(): boolean {\n\t\t\treturn this._isValid;\n\t\t}\n\n\t\tpublic _refCounter: number = 0;\n\t\tpublic getRefCounter(): number {\n\t\t\treturn this._refCounter;\n\t\t}\n\t\tpublic setRefCounter(value: number) {\n\t\t\tthis._refCounter = value;\n\t\t\tif (this._refCounter === 0 && this._isValid === false) {\n\t\t\t\tthis._list.$removeNode(this);\n\t\t\t}\n\t\t}\n\n\t\tpublic incRefcounter(): void {\n\t\t\tthis.setRefCounter(this._refCounter + 1);\n\t\t}\n\n\t\tpublic decRefcounter(): void {\n\t\t\tthis.setRefCounter(this._refCounter - 1);\n\t\t}\n\n\t\tpublic _list: List<T>;\n\n\t\tpublic invalidate(): void {\n\t\t\tthis._isValid = false;\n\t\t\tthis.value = null;\n\t\t}\n\t}\n\n\texport class ListIterator<T> implements UniqIdMarked {\n\t\tpublic constructor(node: ListNode<T>, listName: string) {\n\t\t\tthis.uniqId = UniqIdGenerator.getUniq();\n\t\t\tthis._listName = listName;\n\t\t\tGlobalInstanceChecker.watch(this);\n\t\t\t// @if PERF\n\t\t\t// PerfUtils.event(this._listName, 'ListIterator_constructor');\n\t\t\t// @endif\n\t\t\tthis.setNode(node);\n\t\t}\n\n\t\tpublic uniqId: number;\n\n\t\tpublic unWatch(): void {\n\t\t\tGlobalInstanceChecker.unWatch(this);\n\t\t}\n\n\t\tpublic $reSetup(node: ListNode<T>, listName: string): void {\n\t\t\tthis._listName = listName;\n\t\t\tthis.setNode(node);\n\t\t}\n\n\t\tpublic copyFrom(iter: ListIterator<T>): void {\n\t\t\tthis._listName = iter._listName;\n\t\t\tthis.setNode(iter.getNode());\n\t\t}\n\n\t\tpublic clone(): ListIterator<T> {\n\t\t\t// @if PERF\n\t\t\t// PerfUtils.event(this._listName, 'ListIterator_clone');\n\t\t\t// @endif\n\t\t\treturn new ListIterator(this.getNode(), this._listName);\n\t\t}\n\n\t\tprivate _listName: string;\n\n\t\tprivate $_node: ListNode<T>;\n\t\tprivate getNode(): ListNode<T> {\n\t\t\treturn this.$_node;\n\t\t}\n\t\tprivate setNode(node: ListNode<T>) {\n\t\t\tif (this.$_node === node) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// @if PERF\n\t\t\t//PerfUtils.event(this._listName, 'setNode');\n\t\t\t// @endif\n\t\t\tConsole.here;\n\t\t\tif (this.$_node) {\n\t\t\t\tthis.$_node.decRefcounter();\n\t\t\t}\n\t\t\tthis.$_node = node;\n\t\t\tif (this.$_node) {\n\t\t\t\tif (!this.$_node.getIsValid()) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Attempt set invalid node to iterator'));\n\t\t\t\t}\n\t\t\t\tthis.$_node.incRefcounter();\n\t\t\t}\n\t\t}\n\n\t\tpublic getEnded(): boolean {\n\t\t\treturn this.getNode() === null;\n\t\t}\n\n\t\tpublic getIsValid(): boolean {\n\t\t\treturn this.getNode() !== null;\n\t\t}\n\n\t\tpublic getValue(): T {\n\t\t\tlet node = this.getNode();\n\t\t\tConsole.here;\n\t\t\tif (!node) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attemt to get value from invalid iterator, without node'));\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!node.getIsValid()) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attemt to get value from invalid iterator, with invalid node'));\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn node.value;\n\t\t}\n\n\t\tpublic getPriority(): number {\n\t\t\tConsole.here;\n\t\t\tlet node = this.getNode();\n\t\t\tif (!node) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attemt to get value from invalid iterator, without node'));\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\tif (!node.getIsValid()) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attemt to get value from invalid iterator, with invalid node'));\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\treturn node.priority;\n\t\t}\n\n\t\tpublic $removeElement(destroyIterator: boolean): void {\n\t\t\tConsole.here;\n\t\t\tif (this.getEnded()) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attemt to remove element by invalid iterator'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.getNode().invalidate();\n\t\t\tif (destroyIterator) {\n\t\t\t\tthis.destroy();\n\t\t\t}\n\t\t}\n\n\t\tpublic next(): ListIterator<T> {\n\t\t\tConsole.here;\n\t\t\tlet node = this.getNode();\n\t\t\tif (!node) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attemt to find next on invalid iterator'));\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\twhile (true) {\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tif (node.getIsValid()) {\n\t\t\t\t\t\tthis.setNode(node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setNode(null);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tpublic prev(): ListIterator<T> {\n\t\t\tConsole.here;\n\t\t\tlet node = this.getNode();\n\t\t\tif (!node) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('Attemt to find prev on invalid iterator'));\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\twhile (true) {\n\t\t\t\tif (node.prev) {\n\t\t\t\t\tnode = node.prev;\n\t\t\t\t\tif (node.getIsValid()) {\n\t\t\t\t\t\tthis.setNode(node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setNode(null);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tpublic destroy(): void {\n\t\t\tthis.setNode(null);\n\t\t}\n\n\t\tpublic getName(): string {\n\t\t\treturn this._listName;\n\t\t}\n\t}\n}","namespace panda {\n\texport type ConsoleMessageLevel = \"Warn\" | \"Error\" | \"Debug\" | \"Info\" | \"External\";\n\n\texport class ConsoleMessageLevels {\n\t\tpublic static WARN: ConsoleMessageLevel = \"Warn\";\n\t\tpublic static ERROR: ConsoleMessageLevel = \"Error\";\n\t\tpublic static DEBUG: ConsoleMessageLevel = \"Debug\";\n\t\tpublic static INFO: ConsoleMessageLevel = \"Info\";\n\t\tpublic static EXTERNAL: ConsoleMessageLevel = \"External\";\n\t}\n\n\n\texport class ConsoleMessageStyles {\n\t\tpublic static Warn: string = \"background: #000000; color: #00ff5c;\";\n\t\tpublic static Error: string = \"background: #000000; color: #ff0000;\";\n\t\tpublic static Debug: string = \"background: #5b86ff; color: #000000;\";\n\t\tpublic static INFO: string = \"background: #5b86ff; color: #000000;\";\n\t\tpublic static EXTERNAL: string = \"background: #5b86ff; color: #000000;\";\n\n\t\tpublic static getStyle(level: ConsoleMessageLevel): string {\n\t\t\tlet style: string = (<any>ConsoleMessageStyles)[level];\n\t\t\treturn style;\n\t\t}\n\n\t\tpublic static hasStyle(level: ConsoleMessageLevel): boolean {\n\t\t\tlet style: string = (<any>ConsoleMessageStyles)[level];\n\t\t\treturn !!style;\n\t\t}\n\t}\n}\n","namespace panda {\n\texport namespace FlogsSenderPrivate {\n\t\texport class FlogsSender {\n\t\t\tpublic constructor(project:string = null, flogs2Project:string = null) {\n\t\t\t\tthis._project = project;\n\t\t\t\tthis._flogs2Project = flogs2Project;\n\t\t\t\tif (this._project.indexOf('NaszaKlasa') >= 0 || this._flogs2Project.indexOf('NaszaKlasa') >= 0) {\n\t\t\t\t\tthis.disabled = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.createChunk();\n\t\t\t\tthis._currenctChunk.add(true, 0, ConsoleMessageLevels.INFO, PlatformDescriber.getInfo().toString(), []);\n\t\t\t\tthis._startTimestamp = DateUtils.now();\n\t\t\t}\n\n\t\t\tprivate _logChuncks = new Array<Chunk>();\n\t\t\tprivate _currenctChunk: Chunk;\n\t\t\tprivate _startTimestamp: number;\n\t\t\tprivate _sendSheduled: boolean = false;\n\t\t\tprivate _errorMessage: string = null;\n\t\t\tprivate _counter: number = 0;\n\t\t\tprivate _project:string = null;\n\t\t\tprivate _flogs2Project:string = null;\n\t\t\tpublic  disabled:boolean = false;\n\n\t\t\tprivate createChunk(): void {\n\t\t\t\tthis._currenctChunk = new Chunk();\n\t\t\t\tthis._currenctChunk.onFull.addListener(this.handler_chunkFull);\n\t\t\t\tthis._logChuncks.push(this._currenctChunk);\n\t\t\t}\n\n\t\t\tpublic handler_log = (level: ConsoleMessageLevel, message: string, args: Array<any>) => {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet marker: boolean = level === ConsoleMessageLevels.WARN || level === ConsoleMessageLevels.ERROR;\n\t\t\t\tthis._currenctChunk.add(marker, DateUtils.now() - this._startTimestamp, level, message, args);\n\t\t\t\tlet fullMessage = [message].concat(args).join(' ');\n\t\t\t\t\n\t\t\t\tif (marker && !this._sendSheduled && this._counter < 10) {\n\t\t\t\t\tif (fullMessage.indexOf('out of memory') >= 0) {\n\t\t\t\t\t\tlet anyWindow = window as any;\n\t\t\t\t\t\tif (anyWindow.showNoWebGL) {\n\t\t\t\t\t\t\tanyWindow.showNoWebGL('Out_Of_Memory_text_match')\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tConsole.logDebug('send scheduled');\n\t\t\t\t\tsetTimeout(this.handler_send); // это не nextFrameCall, но и не мгновенная отправка, чтобы текущий стек доделался\n\t\t\t\t\tthis._sendSheduled = true;\n\t\t\t\t\tthis._errorMessage = fullMessage;\n\t\t\t\t\tthis._counter++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tprivate handler_chunkFull = () => {\n\t\t\t\tthis._currenctChunk.onFull.removeListener(this.handler_chunkFull);\n\t\t\t\tthis.createChunk();\n\t\t\t}\n\n\t\t\tprivate handler_send = () => {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet info = PlatformDescriber.getInfo();\n\t\t\t\tthis.sendTo('flogs.crazypanda.ru', this._project || info.project + '_JS');\n\t\t\t\tif (this._flogs2Project) {\n\t\t\t\t\tthis.sendTo('flogs2.crazypanda.ru', this._flogs2Project);\n\t\t\t\t}\n\t\t\t\tConsole.logDebug('sent');\n\t\t\t\tthis._sendSheduled = false;\n\t\t\t\tthis._errorMessage = null;\n\t\t\t}\n\t\t\t\n\t\t\tprivate sendTo(url:string, projectName:string) {\n\t\t\t\tif ((window as any).noWebGlDetected) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet uri = new Url({\n\t\t\t\t\thostname: url,\n\t\t\t\t\tpathname: 'addlog',\n\t\t\t\t\tquery: { 'rand': Math.random() }\n\t\t\t\t});\n\t\t\t\tlet data: URLVariables = new URLVariables();\n\t\t\t\tlet info = PlatformDescriber.getInfo();\n\t\t\t\tdata.data['project'] = projectName;\n\t\t\t\tdata.data['user_id'] = info.userId;\n\t\t\t\tdata.data['client_id'] = info.browserInfo.browser + ' ' + info.browserInfo.version;\n\t\t\t\tdata.data['username'] = info.username;\n\t\t\t\tdata.data['type'] = this._errorMessage;\n\t\t\t\tdata.data['log'] = this.getStringified();\n\t\t\t\tlet dataString = data.toString();\t\t\t\t\n\t\t\t\tlet req = new URLRequest(uri, 'POST');\n\t\t\t\treq.data = dataString;\n\t\t\t\treq.requestHeaders = new Array<URLRequestHeader>();\n\t\t\t\treq.requestHeaders.push(new URLRequestHeader('Content-Type', 'application/x-www-form-urlencoded'));\n\t\t\t\tlet loader = new URLLoader(req);\n\t\t\t\tloader.load();\n\t\t\t}\n\n\t\t\tpublic getStringified(): string {\n\t\t\t\treturn this._logChuncks.join('...\\nskipped\\n...\\n');\n\t\t\t}\n\t\t}\n\n\t\texport class Chunk {\n\n\t\t\tpublic constructor(contextSize: number = 50) {\n\t\t\t\tthis._contextSize = contextSize;\n\t\t\t}\n\n\t\t\tpublic onFull = new Signal<() => void>();\n\t\t\tprivate _items = new List<string>('FlogsSenderChunk');\n\t\t\tprivate _lastMarkerIndex: number = 0;\n\t\t\tprivate _contextSize: number;\n\n\t\t\tpublic add(marker: boolean, time: number, level: ConsoleMessageLevel, message: string, args: Array<any>): void {\n\t\t\t\tlet stringified = time + ' ' + level + ', ' + message;\n\t\t\t\tif (args.length) {\n\t\t\t\t\tstringified += ', ' + args.join(', ');\n\t\t\t\t}\n\t\t\t\tstringified += '\\n';\n\n\t\t\t\tlet items = this._items;\n\t\t\t\titems.insert(stringified);\n\t\t\t\tif (marker) {\n\t\t\t\t\tthis._lastMarkerIndex = items.getLength();\n\t\t\t\t}\n\n\t\t\t\tif (this._lastMarkerIndex === 0) {\n\t\t\t\t\tif (items.getLength() - this._lastMarkerIndex > this._contextSize) {\n\t\t\t\t\t\titems.remove(items.getHead());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (items.getLength() - this._lastMarkerIndex >= this._contextSize) {\n\t\t\t\t\t\tthis.onFull.emit();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tpublic toString(): string {\n\t\t\t\tlet stringified: string = '';\n\t\t\t\tlet iterator = this._items.getHead();\n\t\t\t\twhile (!iterator.getEnded()) {\n\t\t\t\t\tstringified += iterator.getValue();\n\t\t\t\t\titerator.next();\n\t\t\t\t}\n\t\t\t\treturn stringified;\n\t\t\t}\n\t\t}\n\t}\n\n\texport import FlogsSender = FlogsSenderPrivate.FlogsSender;\n}\n","///ts:ref=Browser\n/// <reference path=\"../browser/Browser.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport class PlatformDescriber {\n\t\tprivate static _info: PlatformDescriber;\n\t\tpublic static getInfo(): PlatformDescriber {\n\t\t\t//d381fdbe-4f45-4314-b3a7-0751809f14b1\n\t\t\tif (!this._info) {\n\t\t\t\tthis._info = new PlatformDescriber();\n\t\t\t}\n\t\t\treturn this._info;\n\t\t}\n\t\tconstructor() {\n\t\t\tConsole.here;\n\t\t\ttry {\n\t\t\t\tthis.runGuid = Guid.generate();\n\t\t\t\tthis.buildNumber = BuildInfo.buildNumber;\n\t\t\t\tthis.buildDate = parseInt(BuildInfo.buildDate);\n\t\t\t\tthis.locationHref = window.location.href;\n\n\t\t\t\tthis.browserInfo = Browser.getInfo();\n\t\t\t\tthis.project = 'UnknownProject';\n\t\t\t\tthis.userId = 'UnknownUsertId';\n\t\t\t\tthis.sns = 'UnknownSns';\n\t\t\t\tthis.username = 'UnknownUserName';\n\t\t\t\tthis.webGLInfo = WebGLDescriber.getInfo();\n\t\t\t} catch (e) {\n\t\t\t\tConsole.errorUncritical(e);\n\t\t\t}\n\t\t}\n\n\t\tpublic browserInfo: UserAgentParser.ParseResult;\n\t\tpublic buildDate: number;\n\t\tpublic buildNumber: string;\n\t\tpublic runGuid: string;\n\t\tpublic locationHref: string;\n\t\tpublic project: string;\n\t\tpublic userId: string;\n\t\tpublic sns: string;\n\t\tpublic username: string;\n\t\tpublic webGLInfo: WebGLDescriber;\n\n\t\tpublic getScreenWidth(): number {\n\t\t\tif (BrowserSpecific.scrrenSizeSupported()) {\n\t\t\t\treturn window.screen.width;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tpublic getScreenHeight(): number {\n\t\t\tif (BrowserSpecific.scrrenSizeSupported()) {\n\t\t\t\treturn window.screen.height;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tpublic getScreenAvailableWidth(): number {\n\t\t\treturn window.innerWidth;\n\t\t\t//return document.documentElement.clientWidth;\n\t\t}\n\n\t\tpublic getScreenAvailableHeight(): number {\n\t\t\treturn window.innerHeight;\n\t\t\t//return document.documentElement.clientHeight;\n\t\t}\n\n\n\t\tpublic toString(): string {\n\t\t\treturn JSON.stringify(this, (key: string, value: any) => { if (key !== '_productHash' && key !== 'comments' && key !== 'products') { return value } }, 4);\n\t\t}\n\t}\n}\n","namespace panda {\n\texport class URLRequest {\n\t\tpublic constructor(url: panda.url.Url, method: string = URLLoadingMethod.GET, data: string = null, requestHeaders: Array<URLRequestHeader> = null) {\n\t\t\tthis.url = url;\n\t\t\tthis.method = method;\n\t\t\tthis.data = data;\n\t\t\tthis.requestHeaders = requestHeaders;\n\t\t}\n\n\t\tpublic data: string | FormData;\n\t\tpublic method: string;\n\t\tpublic requestHeaders: Array<URLRequestHeader>;\n\t\tpublic url: panda.url.Url;\n\t\tpublic responseType: XMLHttpRequestResponseType = '';\n\t\tpublic numRetriesToDo: number = 3;\n\t\tpublic numTriesMade: number = 0;\n\t}\n\n\texport namespace URLLoadingMethod {\n\t\texport const GET: string = 'GET';\n\t\texport const POST: string = 'POST';\n\t}\n\n\texport class URLRequestHeader {\n\t\tpublic constructor(name: string, value: string) {\n\t\t\tthis.name = name;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tpublic name: string;\n\t\tpublic value: string;\n\n\t}\n\n\tdeclare var XDomainRequest: typeof XMLHttpRequest;\n\texport class URLLoader {\n\t\tconstructor(request: URLRequest = null, activityTimeout: number = 3000000) {\n\t\t\tthis.assignRequest(request);\n\t\t\tthis.resetProps();\n\t\t\tthis.activityTimeout = activityTimeout;\n\t\t}\n\n\t\tprotected _xhttp: XMLHttpRequest;\n\t\tpublic request: URLRequest;\n\t\tpublic activityTimeout: number = 0;\n\t\tpublic activityTimeoutHandle: any = 0;\n\n\t\tpublic onHTTPStatus = new Signal<(loader: URLLoader, HTTPStatus: number) => void>();\n\t\tpublic onProgress = new Signal<(loader: URLLoader, progress: number) => void>();\n\t\tpublic onComplete = new Signal<(loader: URLLoader, responce: any, wasError: boolean) => void>();\n\t\t// public onError = new Signal<(loader: URLLoader, responce: any, wasError: boolean) => void>();\n\n\n\t\tprivate _HTTPStatus: number;\n\t\tpublic getHTTPStatus(): number {\n\t\t\treturn this._HTTPStatus;\n\t\t}\n\n\t\tprivate _responce: any;\n\t\tpublic getResponce(): any {\n\t\t\treturn this._responce;\n\t\t}\n\n\t\tprivate _completed: boolean;\n\t\tpublic getCompleted(): boolean {\n\t\t\treturn this._completed;\n\t\t}\n\n\t\tprivate _loading: boolean;\n\t\tpublic getLoading(): boolean {\n\t\t\treturn this._loading;\n\t\t}\n\n\t\tprivate _progress: number;\n\t\t/**\n\t\t\tПрогресс загрузки от 0 до 1. При диспатчинге onComplete всегда строго равен 1\n\t\t*/\n\t\tpublic getProgress(): number {\n\t\t\treturn this._progress;\n\t\t}\n\n\t\tprivate _error: boolean;\n\t\tpublic getError(): boolean {\n\t\t\treturn this._error;\n\t\t}\n\n\t\tprivate resetProps(): void {\n\t\t\tif (this._loading) {\n\t\t\t\tthrow new URLLoaderError('Calling resetProps while loading');\n\t\t\t}\n\t\t\tthis._progress = 0;\n\t\t\tthis._HTTPStatus = 0;\n\t\t\tthis._responce = null;\n\t\t\tthis._completed = false;\n\t\t\tthis._loading = false;\n\t\t\tthis._error = false;\n\t\t\tthis.clearActivityTimeout();\n\t\t}\n\n\t\tpublic updateActivityTimeout(): void {\n\t\t\tif (!this.activityTimeout) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.clearActivityTimeout();\n\t\t\tthis.activityTimeoutHandle = setTimeout(this.handler_activityTimeout, this.activityTimeout);\n\t\t}\n\n\t\tprivate clearActivityTimeout(): void {\n\t\t\tif (this.activityTimeoutHandle) {\n\t\t\t\tclearTimeout(this.activityTimeoutHandle);\n\t\t\t\tthis.activityTimeoutHandle = 0;\n\t\t\t}\n\t\t}\n\n\t\tpublic load(req: URLRequest = null): void {\n\t\t\tif (this._loading) {\n\t\t\t\tthrow new URLLoaderError('Calling load while loading');\n\t\t\t}\n\t\t\tthis.resetProps();\n\t\t\tthis.assignRequest(req);\n\t\t\tlet request = this.request;\n\t\t\tif (!request) {\n\t\t\t\tthrow new URLLoaderError('No request while load called');\n\t\t\t}\n\t\t\t//PandaConsole.logDebug('URLLoader::load', request.url.href());\n\t\t\tlet xhttp: XMLHttpRequest = this.createXhttp();\n\n\t\t\tthis._xhttp = xhttp;\n\n\t\t\tthis._loading = true;\n\t\t\txhttp.open(request.method, request.url.format(), true);\n\t\t\txhttp.responseType = request.responseType;\n\t\t\tthis.addXhttpListeners(xhttp);\n\t\t\tif (this.requestHeadersSupported() && request.requestHeaders) {\n\t\t\t\tfor (let header of request.requestHeaders) {\n\t\t\t\t\txhttp.setRequestHeader(header.name, header.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\txhttp.send(request.data);\n\t\t\tthis.updateActivityTimeout();\n\t\t}\n\n\t\tpublic destroy(): void {\n\t\t\tthrow new NotImplementedError('URLLoader::destroy');\n\t\t}\n\n\t\tpublic requestHeadersSupported(): boolean {\n\t\t\treturn !BrowserSpecific.XDomainRequestNeeded();\n\t\t}\n\n\t\tprivate createXhttp(): XMLHttpRequest {\n\t\t\tif (BrowserSpecific.XDomainRequestNeeded()) {\n\t\t\t\treturn new XDomainRequest();\n\t\t\t} else {\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t}\n\t\t}\n\n\t\tprivate complete(error: boolean): void {\n\t\t\tthis._error = error;\n\t\t\tif (this._HTTPStatus != 200) {\n\t\t\t\tthis._error = true;\n\t\t\t\tConsole.logWarn('URLLoader::complete wrong status', this._HTTPStatus, this.request.url.format());\n\t\t\t}\n\t\t\t//PandaConsole.logDebug('URLLoader::complete', this.request.url.href());\n\t\t\tlet xhttp: XMLHttpRequest = this._xhttp;\n\t\t\tthis.removeXhttpListeners(xhttp);\n\t\t\tthis._progress = 1;\n\t\t\tthis._responce = xhttp.response;\n\t\t\tthis._completed = true;\n\t\t\tthis._loading = false;\n\t\t\tthis.clearActivityTimeout();\n\t\t\tlet request = this.request;\n\t\t\trequest.numTriesMade++;\n\t\t\tlet dispatchComplete = true;\n\t\t\tif (this._error && this._HTTPStatus != 404) {\n\t\t\t\tif (request.numTriesMade < request.numRetriesToDo) {\n\t\t\t\t\tthis.load(request);\n\t\t\t\t\tdispatchComplete = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (dispatchComplete) {\n\t\t\t\tthis.onComplete.emit(this, this._responce, this._error);\n\t\t\t}\n\t\t}\n\n\t\tprivate addXhttpListeners(xhttp: XMLHttpRequest): void {\n\t\t\txhttp.onprogress = this.handler_progress;\n\t\t\txhttp.onreadystatechange = this.handler_readyStateChange;\n\t\t\txhttp.onerror = this.handler_error;\n\t\t}\n\n\t\tprivate removeXhttpListeners(xhttp: XMLHttpRequest): void {\n\t\t\txhttp.onprogress = null;\n\t\t\txhttp.onreadystatechange = null;\n\t\t\txhttp.onerror = null;\n\t\t}\n\n\t\tprivate assignRequest(request: URLRequest = null): void {\n\t\t\tlet newRequest: URLRequest = null;\n\t\t\tif (request instanceof URLRequest) {\n\t\t\t\tnewRequest = request;\n\t\t\t} else if (request === null) {\n\t\t\t\tnewRequest = this.request;\n\t\t\t} else {\n\t\t\t\tthrow new URLLoaderError('Wrong URLRequest parameter');\n\t\t\t}\n\t\t\tthis.request = newRequest;\n\t\t}\n\n\t\tprivate handler_error = () => {\n\t\t\tConsole.logWarn('URLLoader_handler_error');\n\t\t\tthis.complete(true);\n\t\t};\n\n\t\tprivate handler_activityTimeout = () => {\n\t\t\tConsole.logWarn('URLLoader_handler_error activity_timeout');\n\t\t\tthis.complete(true);\n\t\t};\n\n\t\tprivate handler_progress = (event: ProgressEvent) => {\n\t\t\t// нет никаких гарантий что event.loaded отображает реальный размер.\n\t\t\t// Например при transfer-encoding: chunked длину предсказать не возможно,\n\t\t\t// при этом во всех браузерах указана event.total. и в конце загрузки она может не совпадать с responce.length\n\t\t\t// в Firefox в этом случае размер зипнутых байтов, в хроме анзипнутых.\n\t\t\tif (event.lengthComputable) {\n\t\t\t\tthis._progress = event.loaded / event.total;\n\t\t\t}\n\t\t\tthis.updateActivityTimeout();\n\t\t\tthis.onProgress.emit(this, this._progress);\n\t\t\t//PandaConsole.logInfo('event.lengthComputable', event.lengthComputable);\n\t\t};\n\n\t\tprivate handler_readyStateChange = () => {\n\t\t\t// это метод должен быть максимально лёгким, его будут вызывать много раз\n\t\t\tlet xhttp: XMLHttpRequest = this._xhttp;\n\t\t\tlet readyState: number = xhttp.readyState;\t\t\t\n\t\t\t// readyState === 3 dispatched many many times in firefox and slows system while loading\n\t\t\tif (this._HTTPStatus != xhttp.status) {\n\t\t\t\tthis._HTTPStatus = xhttp.status;\n\t\t\t\tthis.updateActivityTimeout();\n\t\t\t\tthis.onHTTPStatus.emit(this, this._HTTPStatus);\n\t\t\t}\t\t\t\n\t\t\tif (readyState === 2) {\n\t\t\t\tthis.updateActivityTimeout();\n\t\t\t} else if (readyState === 4) {\n\t\t\t\tthis.updateActivityTimeout();\n\t\t\t\tthis.complete(false);\n\t\t\t}\n\t\t}\n\t}\n\n\texport class URLVariables {\n\t\tpublic data: { [key: string]: string };\n\n\t\tconstructor(data: { [key: string]: string } = {}) {\n\t\t\tthis.data = data;\n\t\t}\n\n\t\tpublic toString(): string {\n\t\t\tlet arr = new Array<string>();\n\t\t\tfor (let key in this.data) {\n\t\t\t\tarr.push(encodeURIComponent(key) + '=' + encodeURIComponent(this.data[key]));\n\t\t\t}\n\t\t\treturn arr.join('&').replace(/%20/g, '+');\n\t\t}\n\n\n\t}\n\n\texport class URLLoaderError extends AdvancedError {\n\t}\n}\n\n","namespace panda.settings {\n\t/**\n\t * new panda.url.Url(string not null) always returns absolute path\n\t * @type {boolean}\n\t */\n\texport let URL_USE_ROOT = false;\n}\n\nnamespace panda.url {\n\tnamespace util {\n\t\texport function isString(obj: any): obj is string {\n\t\t\treturn typeof obj === 'string';\n\t\t}\n\n\t\texport function isObject(arg: any): arg is object {\n\t\t\treturn typeof(arg) === 'object' && arg !== null;\n\t\t}\n\n\t\texport function isUrl(arg: any): arg is panda.url.Url {\n\t\t\treturn arg instanceof panda.url.Url;\n\t\t}\n\t}\n\n\texport interface UriLike {\n\t\tprotocol?: string\n\t\tslashes?: boolean\n\t\tauth?: string\n\t\thost?: string\n\t\tport?: string\n\t\thostname?: string\n\t\thash?: string\n\t\tsearch?: string\n\t\t// { [key: string]: string | Array<string> } | string\n\t\tquery?: any\n\t\tpathname?: string\n\t\tpath?: string\n\t\thref?: string\n\t}\n\n\texport class Url {\n\t\tprotocol: string = null;\n\t\tslashes: boolean = null;\n\t\tauth: string = null;\n\t\thost: string = null;\n\t\tport: string = null;\n\t\thostname: string = null;\n\t\thash: string = null;\n\t\tsearch: string = null;\n\t\tquery: any = null;\n\t\tpathname: string = null;\n\t\tpath: string = null;\n\t\thref: string = null;\n\n\t\t/**\n\t\t * This is special gobi constructor on top of Node API\n\t\t * @param path\n\t\t */\n\t\tconstructor(path?: string | UriLike) {\n\t\t\tif (!path) return;\n\n\t\t\tif (typeof path !== 'string') {\n\t\t\t\tthis.copyFrom(path as UriLike);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (path == '') {\n\t\t\t\tif (panda.settings.URL_USE_ROOT) {\n\t\t\t\t\tthis.copyFrom(root);\n\t\t\t\t} else {\n\t\t\t\t\tthis.copyFrom(page);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet copyUrl = parse(path, false, true);\n\t\t\tif (!copyUrl.protocol && !copyUrl.hostname) {\n\t\t\t\tif (panda.settings.URL_USE_ROOT) {\n\t\t\t\t\troot.resolveObject(copyUrl, this);\n\t\t\t\t} else {\n\t\t\t\t\tpage.resolveObject(copyUrl, this);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.copyFrom(copyUrl);\n\t\t\t}\n\t\t}\n\n\t\tcopyFrom(url: UriLike): Url {\n\t\t\tlet anyUrl = url as any;\n\t\t\tlet anyThis = this as any;\n\t\t\tlet keys = Object.keys(anyUrl);\n\t\t\tfor (let v = 0; v < keys.length; v++) {\n\t\t\t\tlet k = keys[v];\n\t\t\t\tanyThis[k] = anyUrl[k];\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tparse(url: string, parseQueryString?: boolean, slashesDenoteHost?: boolean) {\n\t\t\tif (!util.isString(url)) {\n\t\t\t\tthrow new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n\t\t\t}\n\n\t\t\t// Copy chrome, IE, opera backslash-handling behavior.\n\t\t\t// Back slashes before the query string get converted to forward slashes\n\t\t\t// See: https://code.google.com/p/chromium/issues/detail?id=25916\n\t\t\tlet queryIndex = url.indexOf('?'),\n\t\t\t\tsplitter =\n\t\t\t\t\t(queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n\t\t\t\tuSplit = url.split(splitter),\n\t\t\t\tslashRegex = /\\\\/g;\n\t\t\tuSplit[0] = uSplit[0].replace(slashRegex, '/');\n\t\t\turl = uSplit.join(splitter);\n\n\t\t\tlet rest = url;\n\n\t\t\t// trim before proceeding.\n\t\t\t// This is to support parse stuff like \"  http://foo.com  \\n\"\n\t\t\trest = rest.trim();\n\n\t\t\tif (!slashesDenoteHost && url.split('#').length === 1) {\n\t\t\t\t// Try fast path regexp\n\t\t\t\tlet simplePath = simplePathPattern.exec(rest);\n\t\t\t\tif (simplePath) {\n\t\t\t\t\tthis.path = rest;\n\t\t\t\t\tthis.href = rest;\n\t\t\t\t\tthis.pathname = simplePath[1];\n\t\t\t\t\tif (simplePath[2]) {\n\t\t\t\t\t\tthis.search = simplePath[2];\n\t\t\t\t\t\tif (parseQueryString) {\n\t\t\t\t\t\t\tthis.query = querystring.decode(this.search.substr(1));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.query = this.search.substr(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (parseQueryString) {\n\t\t\t\t\t\tthis.search = '';\n\t\t\t\t\t\tthis.query = {};\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet protoArr = protocolPattern.exec(rest);\n\t\t\tlet proto: string = null;\n\t\t\tlet lowerProto: string = null;\n\t\t\tif (protoArr) {\n\t\t\t\tproto = protoArr[0];\n\t\t\t\tlowerProto = proto.toLowerCase();\n\t\t\t\tthis.protocol = lowerProto;\n\t\t\t\trest = rest.substr(proto.length);\n\t\t\t}\n\n\t\t\tlet slashes = false;\n\t\t\t// figure out if it's got a host\n\t\t\t// user@server is *always* interpreted as a hostname, and url\n\t\t\t// resolution will treat //foo/bar as host=foo,path=bar because that's\n\t\t\t// how the browser resolves relative URLs.\n\t\t\tif (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n\t\t\t\tslashes = rest.substr(0, 2) === '//';\n\t\t\t\tif (slashes && !(proto && hostlessProtocol[proto])) {\n\t\t\t\t\trest = rest.substr(2);\n\t\t\t\t\tthis.slashes = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!hostlessProtocol[proto] &&\n\t\t\t\t(slashes || (proto && !slashedProtocol[proto]))) {\n\n\t\t\t\t// there's a hostname.\n\t\t\t\t// the first instance of /, ?, ;, or # ends the host.\n\t\t\t\t//\n\t\t\t\t// If there is an @ in the hostname, then non-host chars *are* allowed\n\t\t\t\t// to the left of the last @ sign, unless some host-ending character\n\t\t\t\t// comes *before* the @-sign.\n\t\t\t\t// URLs are obnoxious.\n\t\t\t\t//\n\t\t\t\t// ex:\n\t\t\t\t// http://a@b@c/ => user:a@b host:c\n\t\t\t\t// http://a@b?@c => user:a host:c path:/?@c\n\n\t\t\t\t// v0.12 TODO(isaacs): This is not quite how Chrome does things.\n\t\t\t\t// Review our test case against browsers more comprehensively.\n\n\t\t\t\t// find the first instance of any hostEndingChars\n\t\t\t\tlet hostEnd = -1;\n\t\t\t\tfor (let i = 0; i < hostEndingChars.length; i++) {\n\t\t\t\t\tlet hec = rest.indexOf(hostEndingChars[i]);\n\t\t\t\t\tif (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n\t\t\t\t\t\thostEnd = hec;\n\t\t\t\t}\n\n\t\t\t\t// at this point, either we have an explicit point where the\n\t\t\t\t// auth portion cannot go past, or the last @ char is the decider.\n\t\t\t\tlet auth: string, atSign: number;\n\t\t\t\tif (hostEnd === -1) {\n\t\t\t\t\t// atSign can be anywhere.\n\t\t\t\t\tatSign = rest.lastIndexOf('@');\n\t\t\t\t} else {\n\t\t\t\t\t// atSign must be in auth portion.\n\t\t\t\t\t// http://a@b/c@d => host:b auth:a path:/c@d\n\t\t\t\t\tatSign = rest.lastIndexOf('@', hostEnd);\n\t\t\t\t}\n\n\t\t\t\t// Now we have a portion which is definitely the auth.\n\t\t\t\t// Pull that off.\n\t\t\t\tif (atSign !== -1) {\n\t\t\t\t\tauth = rest.slice(0, atSign);\n\t\t\t\t\trest = rest.slice(atSign + 1);\n\t\t\t\t\tthis.auth = decodeURIComponent(auth);\n\t\t\t\t}\n\n\t\t\t\t// the host is the remaining to the left of the first non-host char\n\t\t\t\thostEnd = -1;\n\t\t\t\tfor (let i = 0; i < nonHostChars.length; i++) {\n\t\t\t\t\tlet hec = rest.indexOf(nonHostChars[i]);\n\t\t\t\t\tif (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n\t\t\t\t\t\thostEnd = hec;\n\t\t\t\t}\n\t\t\t\t// if we still have not hit it, then the entire thing is a host.\n\t\t\t\tif (hostEnd === -1)\n\t\t\t\t\thostEnd = rest.length;\n\n\t\t\t\tthis.host = rest.slice(0, hostEnd);\n\t\t\t\trest = rest.slice(hostEnd);\n\n\t\t\t\t// pull out port.\n\t\t\t\tthis.parseHost();\n\n\t\t\t\t// we've indicated that there is a hostname,\n\t\t\t\t// so even if it's empty, it has to be present.\n\t\t\t\tthis.hostname = this.hostname || '';\n\n\t\t\t\t// if hostname begins with [ and ends with ]\n\t\t\t\t// assume that it's an IPv6 address.\n\t\t\t\tlet ipv6Hostname = this.hostname[0] === '[' &&\n\t\t\t\t\tthis.hostname[this.hostname.length - 1] === ']';\n\n\t\t\t\t// validate a little.\n\t\t\t\tif (!ipv6Hostname) {\n\t\t\t\t\tlet hostparts = this.hostname.split(/\\./);\n\t\t\t\t\tfor (let i = 0, l = hostparts.length; i < l; i++) {\n\t\t\t\t\t\tlet part = hostparts[i];\n\t\t\t\t\t\tif (!part) continue;\n\t\t\t\t\t\tif (!part.match(hostnamePartPattern)) {\n\t\t\t\t\t\t\tlet newpart = '';\n\t\t\t\t\t\t\tfor (let j = 0, k = part.length; j < k; j++) {\n\t\t\t\t\t\t\t\tif (part.charCodeAt(j) > 127) {\n\t\t\t\t\t\t\t\t\t// we replace non-ASCII char with a temporary placeholder\n\t\t\t\t\t\t\t\t\t// we need this to make sure size of hostname is not\n\t\t\t\t\t\t\t\t\t// broken by replacing non-ASCII by nothing\n\t\t\t\t\t\t\t\t\tnewpart += 'x';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewpart += part[j];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// we test again with ASCII char only\n\t\t\t\t\t\t\tif (!newpart.match(hostnamePartPattern)) {\n\t\t\t\t\t\t\t\tlet validParts = hostparts.slice(0, i);\n\t\t\t\t\t\t\t\tlet notHost = hostparts.slice(i + 1);\n\t\t\t\t\t\t\t\tlet bit = part.match(hostnamePartStart);\n\t\t\t\t\t\t\t\tif (bit) {\n\t\t\t\t\t\t\t\t\tvalidParts.push(bit[1]);\n\t\t\t\t\t\t\t\t\tnotHost.unshift(bit[2]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (notHost.length) {\n\t\t\t\t\t\t\t\t\trest = '/' + notHost.join('.') + rest;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.hostname = validParts.join('.');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.hostname.length > hostnameMaxLen) {\n\t\t\t\t\tthis.hostname = '';\n\t\t\t\t} else {\n\t\t\t\t\t// hostnames are always lower case.\n\t\t\t\t\tthis.hostname = this.hostname.toLowerCase();\n\t\t\t\t}\n\n\t\t\t\tif (!ipv6Hostname) {\n\t\t\t\t\t// IDNA Support: Returns a punycoded representation of \"domain\".\n\t\t\t\t\t// It only converts parts of the domain name that\n\t\t\t\t\t// have non-ASCII characters, i.e. it doesn't matter if\n\t\t\t\t\t// you call it with a domain that already is ASCII-only.\n\t\t\t\t\tthis.hostname = panda.url.punycode.toASCII(this.hostname);\n\t\t\t\t}\n\n\t\t\t\tlet p = this.port ? ':' + this.port : '';\n\t\t\t\tlet h = this.hostname || '';\n\t\t\t\tthis.host = h + p;\n\t\t\t\tthis.href += this.host;\n\n\t\t\t\t// strip [ and ] from the hostname\n\t\t\t\t// the host field still retains them, though\n\t\t\t\tif (ipv6Hostname) {\n\t\t\t\t\tthis.hostname = this.hostname.substr(1, this.hostname.length - 2);\n\t\t\t\t\tif (rest[0] !== '/') {\n\t\t\t\t\t\trest = '/' + rest;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// now rest is set to the post-host stuff.\n\t\t\t// chop off any delim chars.\n\t\t\tif (!unsafeProtocol[lowerProto]) {\n\n\t\t\t\t// First, make 100% sure that any \"autoEscape\" chars get\n\t\t\t\t// escaped, even if encodeURIComponent doesn't think they\n\t\t\t\t// need to be.\n\t\t\t\tfor (let i = 0, l = autoEscape.length; i < l; i++) {\n\t\t\t\t\tlet ae = autoEscape[i];\n\t\t\t\t\tif (rest.indexOf(ae) === -1)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tlet esc = encodeURIComponent(ae);\n\t\t\t\t\tif (esc === ae) {\n\t\t\t\t\t\t// Hackerham: there's no \"escape\" in JS\n\t\t\t\t\t\tesc = '%' + ae.charCodeAt(0).toString(16).toUpperCase();\n\t\t\t\t\t}\n\t\t\t\t\trest = rest.split(ae).join(esc);\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\t// chop off from the tail first.\n\t\t\tlet hash = rest.indexOf('#');\n\t\t\tif (hash !== -1) {\n\t\t\t\t// got a fragment string.\n\t\t\t\tthis.hash = rest.substr(hash);\n\t\t\t\trest = rest.slice(0, hash);\n\t\t\t}\n\t\t\tlet qm = rest.indexOf('?');\n\t\t\tif (qm !== -1) {\n\t\t\t\tthis.search = rest.substr(qm);\n\t\t\t\tthis.query = rest.substr(qm + 1);\n\t\t\t\tif (parseQueryString) {\n\t\t\t\t\tthis.query = querystring.decode(this.query);\n\t\t\t\t}\n\t\t\t\trest = rest.slice(0, qm);\n\t\t\t} else if (parseQueryString) {\n\t\t\t\t// no query string, but parseQueryString still requested\n\t\t\t\tthis.search = '';\n\t\t\t\tthis.query = {};\n\t\t\t}\n\t\t\tif (rest) this.pathname = rest;\n\t\t\tif (slashedProtocol[lowerProto] &&\n\t\t\t\tthis.hostname && !this.pathname) {\n\t\t\t\tthis.pathname = '/';\n\t\t\t}\n\n\t\t\t//to support http.request\n\t\t\tif (this.pathname || this.search) {\n\t\t\t\tvar p = this.pathname || '';\n\t\t\t\tvar s = this.search || '';\n\t\t\t\tthis.path = p + s;\n\t\t\t}\n\n\t\t\t// finally, reconstruct the href based on what has been validated.\n\t\t\tthis.href = this.format();\n\t\t\treturn this;\n\t\t}\n\n\t\ttoString() {\n\t\t\treturn this.format();\n\t\t}\n\n\t\tformat() {\n\t\t\tlet auth = this.auth || '';\n\t\t\tif (auth) {\n\t\t\t\tauth = encodeURIComponent(auth);\n\t\t\t\tauth = auth.replace(/%3A/i, ':');\n\t\t\t\tauth += '@';\n\t\t\t}\n\n\t\t\tlet protocol = this.protocol || '',\n\t\t\t\tpathname = this.pathname || '',\n\t\t\t\thash = this.hash || '',\n\t\t\t\thost: string = null,\n\t\t\t\tquery = '';\n\n\t\t\tif (this.host) {\n\t\t\t\thost = auth + this.host;\n\t\t\t} else if (this.hostname) {\n\t\t\t\thost = auth + (this.hostname.indexOf(':') === -1 ?\n\t\t\t\t\t\tthis.hostname :\n\t\t\t\t\t\t'[' + this.hostname + ']');\n\t\t\t\tif (this.port) {\n\t\t\t\t\thost += ':' + this.port;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.query &&\n\t\t\t\tutil.isObject(this.query) &&\n\t\t\t\tObject.keys(this.query).length) {\n\t\t\t\tquery = querystring.encode(this.query);\n\t\t\t}\n\n\t\t\tlet search = this.search || (query && ('?' + query)) || '';\n\n\t\t\tif (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n\t\t\t// only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n\t\t\t// unless they had them to begin with.\n\t\t\tif (this.slashes ||\n\t\t\t\t(!protocol || slashedProtocol[protocol]) && host !== null) {\n\t\t\t\thost = '//' + (host || '');\n\t\t\t\tif (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n\t\t\t} else if (!host) {\n\t\t\t\thost = '';\n\t\t\t}\n\n\t\t\tif (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n\t\t\tif (search && search.charAt(0) !== '?') search = '?' + search;\n\n\t\t\tpathname = pathname.replace(/[?#]/g, function (match) {\n\t\t\t\treturn encodeURIComponent(match);\n\t\t\t});\n\t\t\tsearch = search.replace('#', '%23');\n\n\t\t\treturn protocol + host + pathname + search + hash;\n\t\t}\n\n\t\tresolveObject(relative: string | Url, result?: Url): Url {\n\t\t\tif (util.isString(relative)) {\n\t\t\t\tlet rel = new Url();\n\t\t\t\trel.parse(relative, false, true);\n\t\t\t\trelative = rel;\n\t\t\t}\n\t\t\tif (!util.isUrl(relative)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tresult = result || new Url();\n\t\t\tlet anyResult = result as any;\n\t\t\tlet anyThis = this as any;\n\t\t\tlet anyRelative = relative as any;\n\t\t\tlet tkeys = Object.keys(this);\n\t\t\tfor (let tk = 0; tk < tkeys.length; tk++) {\n\t\t\t\tlet tkey = tkeys[tk];\n\t\t\t\tanyResult[tkey] = anyThis[tkey];\n\t\t\t}\n\n\t\t\t// hash is always overridden, no matter what.\n\t\t\t// even href=\"\" will remove it.\n\t\t\tresult.hash = relative.hash;\n\n\t\t\t// if the relative url is empty, then there's nothing left to do here.\n\t\t\tif (relative.href === '') {\n\t\t\t\tresult.href = result.format();\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\t// hrefs like //foo/bar always cut to the protocol.\n\t\t\tif (relative.slashes && !relative.protocol) {\n\t\t\t\t// take everything except the protocol from relative\n\t\t\t\tlet rkeys = Object.keys(relative);\n\t\t\t\tfor (let rk = 0; rk < rkeys.length; rk++) {\n\t\t\t\t\tlet rkey = rkeys[rk];\n\t\t\t\t\tif (rkey !== 'protocol')\n\t\t\t\t\t\tanyResult[rkey] = anyRelative[rkey];\n\t\t\t\t}\n\n\t\t\t\t//urlParse appends trailing / to urls like http://www.example.com\n\t\t\t\tif (slashedProtocol[result.protocol] &&\n\t\t\t\t\tresult.hostname && !result.pathname) {\n\t\t\t\t\tresult.path = result.pathname = '/';\n\t\t\t\t}\n\n\t\t\t\tresult.href = result.format();\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tif (relative.protocol && relative.protocol !== result.protocol) {\n\t\t\t\t// if it's a known url protocol, then changing\n\t\t\t\t// the protocol does weird things\n\t\t\t\t// first, if it's not file:, then we MUST have a host,\n\t\t\t\t// and if there was a path\n\t\t\t\t// to begin with, then we MUST have a path.\n\t\t\t\t// if it is file:, then the host is dropped,\n\t\t\t\t// because that's known to be hostless.\n\t\t\t\t// anything else is assumed to be absolute.\n\t\t\t\tif (!slashedProtocol[relative.protocol]) {\n\t\t\t\t\tlet keys = Object.keys(relative);\n\t\t\t\t\tfor (let v = 0; v < keys.length; v++) {\n\t\t\t\t\t\tlet k = keys[v];\n\t\t\t\t\t\tanyResult[k] = anyRelative[k];\n\t\t\t\t\t}\n\t\t\t\t\tresult.href = result.format();\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tresult.protocol = relative.protocol;\n\t\t\t\tif (!relative.host && !hostlessProtocol[relative.protocol]) {\n\t\t\t\t\tlet relPath = (relative.pathname || '').split('/');\n\t\t\t\t\twhile (relPath.length && !(relative.host = relPath.shift()));\n\t\t\t\t\tif (!relative.host) relative.host = '';\n\t\t\t\t\tif (!relative.hostname) relative.hostname = '';\n\t\t\t\t\tif (relPath[0] !== '') relPath.unshift('');\n\t\t\t\t\tif (relPath.length < 2) relPath.unshift('');\n\t\t\t\t\tresult.pathname = relPath.join('/');\n\t\t\t\t} else {\n\t\t\t\t\tresult.pathname = relative.pathname;\n\t\t\t\t}\n\t\t\t\tresult.search = relative.search;\n\t\t\t\tresult.query = relative.query;\n\t\t\t\tresult.host = relative.host || '';\n\t\t\t\tresult.auth = relative.auth;\n\t\t\t\tresult.hostname = relative.hostname || relative.host;\n\t\t\t\tresult.port = relative.port;\n\t\t\t\t// to support http.request\n\t\t\t\tif (result.pathname || result.search) {\n\t\t\t\t\tlet p = result.pathname || '';\n\t\t\t\t\tlet s = result.search || '';\n\t\t\t\t\tresult.path = p + s;\n\t\t\t\t}\n\t\t\t\tresult.slashes = result.slashes || relative.slashes;\n\t\t\t\tresult.href = result.format();\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tlet isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/') && true,\n\t\t\t\tisRelAbs = (\n\t\t\t\t\t\trelative.host ||\n\t\t\t\t\t\trelative.pathname && relative.pathname.charAt(0) === '/'\n\t\t\t\t\t) && true,\n\t\t\t\tmustEndAbs = (isRelAbs || isSourceAbs ||\n\t\t\t\t\t(result.host && relative.pathname)) && true,\n\t\t\t\tremoveAllDots = mustEndAbs,\n\t\t\t\tsrcPath = result.pathname && result.pathname.split('/') || [],\n\t\t\t\trelPath = relative.pathname && relative.pathname.split('/') || [],\n\t\t\t\tpsychotic = result.protocol && !slashedProtocol[result.protocol];\n\n\t\t\t// if the url is a non-slashed url, then relative\n\t\t\t// links like ../.. should be able\n\t\t\t// to crawl up to the hostname, as well.  This is strange.\n\t\t\t// result.protocol has already been set by now.\n\t\t\t// Later on, put the first path part into the host field.\n\t\t\tif (psychotic) {\n\t\t\t\tresult.hostname = '';\n\t\t\t\tresult.port = null;\n\t\t\t\tif (result.host) {\n\t\t\t\t\tif (srcPath[0] === '') srcPath[0] = result.host;\n\t\t\t\t\telse srcPath.unshift(result.host);\n\t\t\t\t}\n\t\t\t\tresult.host = '';\n\t\t\t\tif (relative.protocol) {\n\t\t\t\t\trelative.hostname = null;\n\t\t\t\t\trelative.port = null;\n\t\t\t\t\tif (relative.host) {\n\t\t\t\t\t\tif (relPath[0] === '') relPath[0] = relative.host;\n\t\t\t\t\t\telse relPath.unshift(relative.host);\n\t\t\t\t\t}\n\t\t\t\t\trelative.host = null;\n\t\t\t\t}\n\t\t\t\tmustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n\t\t\t}\n\n\t\t\tif (isRelAbs) {\n\t\t\t\t// it's absolute.\n\t\t\t\tresult.host = (relative.host || relative.host === '') ?\n\t\t\t\t\trelative.host : result.host;\n\t\t\t\tresult.hostname = (relative.hostname || relative.hostname === '') ?\n\t\t\t\t\trelative.hostname : result.hostname;\n\t\t\t\tresult.search = relative.search;\n\t\t\t\tresult.query = relative.query;\n\t\t\t\tsrcPath = relPath;\n\t\t\t\t// fall through to the dot-handling below.\n\t\t\t} else if (relPath.length) {\n\t\t\t\t// it's relative\n\t\t\t\t// throw away the existing file, and take the new path instead.\n\t\t\t\tif (!srcPath) srcPath = [];\n\t\t\t\tsrcPath.pop();\n\t\t\t\tsrcPath = srcPath.concat(relPath);\n\t\t\t\tresult.search = relative.search;\n\t\t\t\tresult.query = relative.query;\n\t\t\t} else if (relative.search !== null && relative.search !== undefined) {\n\t\t\t\t// just pull out the search.\n\t\t\t\t// like href='?foo'.\n\t\t\t\t// Put this after the other two cases because it simplifies the booleans\n\t\t\t\tif (psychotic) {\n\t\t\t\t\tresult.hostname = result.host = srcPath.shift();\n\t\t\t\t\t//occationaly the auth can get stuck only in host\n\t\t\t\t\t//this especially happens in cases like\n\t\t\t\t\t//url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n\t\t\t\t\tlet authInHost = result.host && result.host.indexOf('@') > 0 ?\n\t\t\t\t\t\tresult.host.split('@') : false;\n\t\t\t\t\tif (authInHost) {\n\t\t\t\t\t\tresult.auth = authInHost.shift();\n\t\t\t\t\t\tresult.host = result.hostname = authInHost.shift();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresult.search = relative.search;\n\t\t\t\tresult.query = relative.query;\n\t\t\t\t//to support http.request\n\t\t\t\tif (result.pathname !== null || result.search !== null) {\n\t\t\t\t\tresult.path = (result.pathname ? result.pathname : '') +\n\t\t\t\t\t\t(result.search ? result.search : '');\n\t\t\t\t}\n\t\t\t\tresult.href = result.format();\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tif (!srcPath.length) {\n\t\t\t\t// no path at all.  easy.\n\t\t\t\t// we've already handled the other stuff above.\n\t\t\t\tresult.pathname = null;\n\t\t\t\t//to support http.request\n\t\t\t\tif (result.search) {\n\t\t\t\t\tresult.path = '/' + result.search;\n\t\t\t\t} else {\n\t\t\t\t\tresult.path = null;\n\t\t\t\t}\n\t\t\t\tresult.href = result.format();\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\t// if a url ENDs in . or .., then it must get a trailing slash.\n\t\t\t// however, if it ends in anything else non-slashy,\n\t\t\t// then it must NOT get a trailing slash.\n\t\t\tlet last = srcPath.slice(-1)[0];\n\t\t\tlet hasTrailingSlash = (\n\t\t\t(result.host || relative.host || srcPath.length > 1) &&\n\t\t\t(last === '.' || last === '..') || last === '');\n\n\t\t\t// strip single dots, resolve double dots to parent dir\n\t\t\t// if the path tries to go above the root, `up` ends up > 0\n\t\t\tlet up = 0;\n\t\t\tfor (let i = srcPath.length; i >= 0; i--) {\n\t\t\t\tlast = srcPath[i];\n\t\t\t\tif (last === '.') {\n\t\t\t\t\tsrcPath.splice(i, 1);\n\t\t\t\t} else if (last === '..') {\n\t\t\t\t\tsrcPath.splice(i, 1);\n\t\t\t\t\tup++;\n\t\t\t\t} else if (up) {\n\t\t\t\t\tsrcPath.splice(i, 1);\n\t\t\t\t\tup--;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if the path is allowed to go above the root, restore leading ..s\n\t\t\tif (!mustEndAbs && !removeAllDots) {\n\t\t\t\tfor (; up--; up) {\n\t\t\t\t\tsrcPath.unshift('..');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (mustEndAbs && srcPath[0] !== '' &&\n\t\t\t\t(!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n\t\t\t\tsrcPath.unshift('');\n\t\t\t}\n\n\t\t\tif (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n\t\t\t\tsrcPath.push('');\n\t\t\t}\n\n\t\t\tlet isAbsolute = srcPath[0] === '' ||\n\t\t\t\t(srcPath[0] && srcPath[0].charAt(0) === '/');\n\n\t\t\t// put the host back\n\t\t\tif (psychotic) {\n\t\t\t\tresult.hostname = result.host = isAbsolute ? '' :\n\t\t\t\t\tsrcPath.length ? srcPath.shift() : '';\n\t\t\t\t//occationaly the auth can get stuck only in host\n\t\t\t\t//this especially happens in cases like\n\t\t\t\t//url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n\t\t\t\tlet authInHost = result.host && result.host.indexOf('@') > 0 ?\n\t\t\t\t\tresult.host.split('@') : false;\n\t\t\t\tif (authInHost) {\n\t\t\t\t\tresult.auth = authInHost.shift();\n\t\t\t\t\tresult.host = result.hostname = authInHost.shift();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmustEndAbs = mustEndAbs || (result.host && srcPath.length > 0);\n\n\t\t\tif (mustEndAbs && !isAbsolute) {\n\t\t\t\tsrcPath.unshift('');\n\t\t\t}\n\n\t\t\tif (!srcPath.length) {\n\t\t\t\tresult.pathname = null;\n\t\t\t\tresult.path = null;\n\t\t\t} else {\n\t\t\t\tresult.pathname = srcPath.join('/');\n\t\t\t}\n\n\t\t\t//to support request.http\n\t\t\tif (result.pathname !== null || result.search !== null) {\n\t\t\t\tresult.path = (result.pathname ? result.pathname : '') +\n\t\t\t\t\t(result.search ? result.search : '');\n\t\t\t}\n\t\t\tresult.auth = relative.auth || result.auth;\n\t\t\tresult.slashes = result.slashes || relative.slashes;\n\t\t\tresult.href = result.format();\n\t\t\treturn result;\n\t\t}\n\n\t\tresolve(relative: string | Url) {\n\t\t\treturn this.resolveObject(parse(relative, false, true)).format();\n\t\t}\n\n\t\tparseHost() {\n\t\t\tlet host = this.host;\n\t\t\tlet ports = portPattern.exec(host);\n\t\t\tlet port: string = null;\n\t\t\tif (ports) {\n\t\t\t\tport = ports[0];\n\t\t\t\tif (port !== ':') {\n\t\t\t\t\tthis.port = port.substr(1);\n\t\t\t\t}\n\t\t\t\thost = host.substr(0, host.length - port.length);\n\t\t\t}\n\t\t\tif (host) this.hostname = host;\n\t\t}\n\t}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\n\tlet protocolPattern = /^([a-z0-9.+-]+:)/i,\n\t\tportPattern = /:[0-9]*$/,\n\n\t\t// Special case for a simple path URL\n\t\tsimplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n\t\t// RFC 2396: characters reserved for delimiting URLs.\n\t\t// We actually just auto-escape these.\n\t\tdelims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n\t\t// RFC 2396: characters not allowed for various reasons.\n\t\tunwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n\t\t// Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n\t\tautoEscape = ['\\''].concat(unwise),\n\t\t// Characters that are never ever allowed in a hostname.\n\t\t// Note that any invalid chars are also handled, but these\n\t\t// are the ones that are *expected* to be seen, so we fast-path\n\t\t// them.\n\t\tnonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n\t\thostEndingChars = ['/', '?', '#'],\n\t\thostnameMaxLen = 255,\n\t\thostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n\t\thostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n\t\t// protocols that can allow \"unsafe\" and \"unwise\" chars.\n\t\tunsafeProtocol: { [key: string]: boolean } = {\n\t\t\t'javascript': true,\n\t\t\t'javascript:': true\n\t\t},\n\t\t// protocols that never have a hostname.\n\t\thostlessProtocol: { [key: string]: boolean } = {\n\t\t\t'javascript': true,\n\t\t\t'javascript:': true\n\t\t},\n\t\t// protocols that always contain a // bit.\n\t\tslashedProtocol: { [key: string]: boolean } = {\n\t\t\t'http': true,\n\t\t\t'https': true,\n\t\t\t'ftp': true,\n\t\t\t'gopher': true,\n\t\t\t'file': true,\n\t\t\t'http:': true,\n\t\t\t'https:': true,\n\t\t\t'ftp:': true,\n\t\t\t'gopher:': true,\n\t\t\t'file:': true\n\t\t};\n\n\texport function parse(url: any, parseQueryString?: boolean, slashesDenoteHost?: boolean): Url {\n\t\tif (url && util.isObject(url) && url instanceof Url) return url;\n\n\t\tlet u = new Url();\n\t\tu.parse(url, parseQueryString, slashesDenoteHost);\n\t\treturn u;\n\t}\n\n\texport function format(obj: any) {\n\t\t// ensure it's an object, and not a string url.\n\t\t// If it's an obj, this is a no-op.\n\t\t// this way, you can call url_format() on strings\n\t\t// to clean up potentially wonky urls.\n\t\tif (util.isString(obj)) obj = parse(obj);\n\t\tif (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n\t\treturn obj.format();\n\t}\n\n\texport function resolve(source: string | Url, relative: string | Url): string {\n\t\treturn parse(source, false, true).resolve(relative);\n\t}\n\n\texport function resolveObject(source: string | Url, relative: string | Url): Url {\n\t\tif (!source) return relative as Url;\n\t\treturn parse(source, false, true).resolveObject(relative);\n\t}\n\n\texport const page = new Url();\n\tif (typeof window !== 'undefined') {\n\t\tpage.protocol = window.location.protocol;\n\t\tpage.hostname = window.location.hostname;\n\t\tpage.pathname = window.location.pathname;\n\t}\n\n\texport const root = new Url();\n\tif (typeof window !== 'undefined') {\n\t\troot.protocol = window.location.protocol;\n\t\troot.hostname = window.location.hostname;\n\t\troot.pathname = '/';\n\t}\n}\n","// port of https://github.com/bestiejs/punycode.js/\n\nnamespace panda.url.punycode {\n\tlet /** Highest positive signed 32-bit float value */\n\t\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t\t/** Bootstring parameters */\n\t\tbase = 36,\n\t\ttMin = 1,\n\t\ttMax = 26,\n\t\tskew = 38,\n\t\tdamp = 700,\n\t\tinitialBias = 72,\n\t\tinitialN = 128, // 0x80\n\t\tdelimiter = '-', // '\\x2D'\n\n\t\t/** Regular expressions */\n\t\tregexPunycode = /^xn--/,\n\t\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\t\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t\t/** Error messages */\n\t\terrors: { [key: string]: string } = {\n\t\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t\t'invalid-input': 'Invalid input'\n\t\t},\n\n\t\t/** Convenience shortcuts */\n\t\tbaseMinusTMin = base - tMin,\n\t\tfloor = Math.floor,\n\t\tstringFromCharCode = String.fromCharCode,\n\n\t\t/** Temporary variable */\n\t\tkey: string;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type: string) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map<T, U>(array: Array<T>, callback: (t: T) => U): Array<U> {\n\t\tlet length = array.length;\n\t\tlet result: Array<U> = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = callback(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(domain: string, callback: (t: string) => string) {\n\t\tlet parts = domain.split('@');\n\t\tlet result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tdomain = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tdomain = domain.replace(regexSeparators, '\\x2E');\n\t\tlet labels = domain.split('.');\n\t\tlet encoded = map(labels, callback).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} str The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(str: string) {\n\t\tlet output: Array<number> = [],\n\t\t\tcounter = 0,\n\t\t\tlength = str.length,\n\t\t\tvalue,\n\t\t\textra;\n\t\twhile (counter < length) {\n\t\t\tvalue = str.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = str.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(codePoints: Array<number>) {\n\t\treturn map(codePoints, function (value) {\n\t\t\tlet output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {number} codePoint The basic numeric code point value.\n\t * @returns {number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint: number) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {number} digit The numeric value of a basic code point.\n\t * @param {number} flag The flag.\n\t * @returns {number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit: number, flag: number) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26 ? 1 : 0) - ((flag != 0 ? 1 : 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta: number, numPoints: number, firstTime: boolean) {\n\t\tlet k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\texport function decode(input: string) {\n\t\t// Don't use UCS-2\n\t\tlet output: Array<number> = [],\n\t\t\tinputLength = input.length,\n\t\t\tout: number,\n\t\t\ti = 0,\n\t\t\tn = initialN,\n\t\t\tbias = initialBias,\n\t\t\tbasic,\n\t\t\tj: number,\n\t\t\tindex: number,\n\t\t\toldi: number,\n\t\t\tw: number,\n\t\t\tk: number,\n\t\t\tdigit: number,\n\t\t\tt: number,\n\t\t\t/** Cached calculation results */\n\t\t\tbaseMinusT: number;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} inputStr The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\texport function encode(inputStr: string) {\n\t\tlet n: number,\n\t\t\tdelta: number,\n\t\t\thandledCPCount: number,\n\t\t\tbasicLength: number,\n\t\t\tbias: number,\n\t\t\tj: number,\n\t\t\tm: number,\n\t\t\tq: number,\n\t\t\tk: number,\n\t\t\tt: number,\n\t\t\tcurrentValue: number,\n\t\t\toutput: Array<string> = [],\n\t\t\t/** `inputLength` will hold the number of code points in `input`. */\n\t\t\tinputLength: number,\n\t\t\t/** Cached calculation results */\n\t\t\thandledCPCountPlusOne: number,\n\t\t\tbaseMinusT: number,\n\t\t\tqMinusT: number;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tlet input = ucs2decode(inputStr);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\texport function toUnicode(input: string) {\n\t\treturn mapDomain(input, function (str: string) {\n\t\t\treturn regexPunycode.test(str)\n\t\t\t\t? decode(str.slice(4).toLowerCase())\n\t\t\t\t: str;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\texport function toASCII(input: string) {\n\t\treturn mapDomain(input, function (str: string) {\n\t\t\treturn regexNonASCII.test(str)\n\t\t\t\t? 'xn--' + encode(str)\n\t\t\t\t: str;\n\t\t});\n\t}\n\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\texport const version = '1.3.2';\n\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\texport namespace ucs2 {\n\t\texport const encode : (codePoints: Array<number>) => string = ucs2encode;\n\t\texport const decode : (str: string) => Array<number> = ucs2decode;\n\t}\n}\n","namespace panda.url.querystring {\n\tfunction stringifyPrimitive(v: any): string {\n\t\tswitch (typeof v) {\n\t\t\tcase 'string':\n\t\t\t\treturn v;\n\n\t\t\tcase 'boolean':\n\t\t\t\treturn v ? 'true' : 'false';\n\n\t\t\tcase 'number':\n\t\t\t\treturn isFinite(v) ? v : '';\n\n\t\t\tdefault:\n\t\t\t\treturn '';\n\t\t}\n\t}\n\n\texport function encode(obj: any, sep?: string, eq?: string, name?: string) {\n\t\tsep = sep || '&';\n\t\teq = eq || '=';\n\t\tif (obj === null) {\n\t\t\tobj = undefined;\n\t\t}\n\n\t\tif (typeof obj === 'object') {\n\t\t\treturn Object.keys(obj).map(function (k) {\n\t\t\t\tlet ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\t\t\t\tif (Array.isArray(obj[k])) {\n\t\t\t\t\treturn obj[k].map(function (v: any) {\n\t\t\t\t\t\treturn ks + encodeURIComponent(stringifyPrimitive(v));\n\t\t\t\t\t}).join(sep);\n\t\t\t\t} else {\n\t\t\t\t\treturn ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n\t\t\t\t}\n\t\t\t}).join(sep);\n\n\t\t}\n\n\t\tif (!name) return '';\n\t\treturn encodeURIComponent(stringifyPrimitive(name)) + eq +\n\t\t\tencodeURIComponent(stringifyPrimitive(obj));\n\t}\n\n\n\texport function decode(qs: string, sep?: string, eq?: string, options?: any) {\n\t\tsep = sep || '&';\n\t\teq = eq || '=';\n\t\tlet obj: { [key: string]: any } = {};\n\n\t\tif (typeof qs !== 'string' || qs.length === 0) {\n\t\t\treturn obj;\n\t\t}\n\n\t\tlet regexp = /\\+/g;\n\t\tlet qs_ = qs.split(sep);\n\n\t\tlet maxKeys = 1000;\n\t\tif (options && typeof options.maxKeys === 'number') {\n\t\t\tmaxKeys = options.maxKeys;\n\t\t}\n\n\t\tlet len = qs_.length;\n\t\t// maxKeys <= 0 means that we should not limit keys count\n\t\tif (maxKeys > 0 && len > maxKeys) {\n\t\t\tlen = maxKeys;\n\t\t}\n\n\t\tfor (let i = 0; i < len; ++i) {\n\t\t\tlet x = qs_[i].replace(regexp, '%20'),\n\t\t\t\tidx = x.indexOf(eq),\n\t\t\t\tkstr, vstr, k, v;\n\n\t\t\tif (idx >= 0) {\n\t\t\t\tkstr = x.substr(0, idx);\n\t\t\t\tvstr = x.substr(idx + 1);\n\t\t\t} else {\n\t\t\t\tkstr = x;\n\t\t\t\tvstr = '';\n\t\t\t}\n\n\t\t\tk = decodeURIComponent(kstr);\n\t\t\tv = decodeURIComponent(vstr);\n\n\t\t\tif (!obj.hasOwnProperty(k)) {\n\t\t\t\tobj[k] = v;\n\t\t\t} else if (Array.isArray(obj[k])) {\n\t\t\t\tobj[k].push(v);\n\t\t\t} else {\n\t\t\t\tobj[k] = [obj[k], v];\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t}\n}\n","namespace panda {\n\texport class NewSignal<T extends Function = () => void>{\n\t\tpublic constructor(name: string = 'NewSignal') {\n\t\t\tthis._name = name;\n\t\t}\n\t\tprivate _name: string;\n\t\tprivate _listeners: Array<SignalNode<T> | null> | null = null;\n\t\tprivate _inRun: boolean = false;\n\t\tprivate _addQueue: Array<SignalNode<T> | null> | null = null; // may contain duplicates\n\n\t\tprotected createListenersList(): void {\n\t\t\tthis._listeners = new Array();\n\t\t}\n\n\t\tpublic addListener(listener: T, priority: number = 0): T {\n\t\t\tif (this._inRun) {\n\t\t\t\tif (!this._addQueue) {\n\t\t\t\t\tthis._addQueue = new Array();\n\t\t\t\t}\n\t\t\t\tthis._addQueue.push(new SignalNode(listener, priority));\n\t\t\t} else {\n\t\t\t\tthis.addNode(listener, priority);\n\t\t\t}\n\t\t\treturn listener;\n\t\t}\n\n\t\tprivate addNode(node: SignalNode<T>): T\n\t\tprivate addNode(listener: T, priority: number): T\n\t\tprivate addNode(arg1: any, arg2?: any): T {\n\t\t\tlet listener: T = null;\n\t\t\tlet node: SignalNode<T> = null;\n\t\t\tlet priority: number = 0;\n\t\t\tif (arg1 instanceof SignalNode) {\n\t\t\t\tnode = arg1;\n\t\t\t\tlistener = node.listener;\n\t\t\t\tpriority = node.priority;\n\t\t\t} else {\n\t\t\t\tlistener = arg1;\n\t\t\t\tpriority = arg2;\n\t\t\t}\n\t\t\tif (!this._listeners) {\n\t\t\t\tthis.createListenersList();\n\t\t\t}\n\t\t\tif (this.hasListener(listener)) {\n\t\t\t\treturn listener;\n\t\t\t}\n\t\t\tlet i = this._listeners.length - 1;\n\t\t\tnode = node || new SignalNode(listener, priority);\n\t\t\twhile (i >= 0) { // todo: binary search. But backward linear search is the fastest way when 0 priority used.\n\t\t\t\tlet cur = this._listeners[i];\n\t\t\t\tif (!cur || cur.priority < priority) {\n\t\t\t\t\ti--;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (cur.priority >= priority) {\n\t\t\t\t\tthis._listeners.splice(i + 1, 0, node); // todo: check next and fill if null\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i < 0) {\n\t\t\t\tthis._listeners.unshift(node);\n\t\t\t}\n\t\t\treturn listener;\n\t\t}\n\n\t\tpublic hasListener(listener: T): boolean {\n\t\t\tif (this._listeners) {\n\t\t\t\tfor (let node of this._listeners) {\n\t\t\t\t\tif (node && node.listener == listener) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._addQueue) {\n\t\t\t\tfor (let node of this._addQueue) {\n\t\t\t\t\tif (node && node.listener == listener) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tpublic addListenerOnce(listener: T, priority: number = 0): T {\n\t\t\tlet fakeListener: any = (...args: Array<any>) => {\n\t\t\t\tlistener.apply(null, args);\n\t\t\t\tthis.removeListener(fakeListener);\n\t\t\t}\n\t\t\tthis.addListener(fakeListener as T, priority);\n\t\t\treturn fakeListener;\n\t\t}\n\n\t\tpublic removeListener(listener: T): void {\n\t\t\tif (this._listeners) {\n\t\t\t\tfor (let i = 0; i < this._listeners.length; i++) {\n\t\t\t\t\tlet node = this._listeners[i];\n\t\t\t\t\tif (node && node.listener == listener) {\n\t\t\t\t\t\tthis._listeners[i] = null;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._addQueue) {\n\t\t\t\tfor (let i = 0; i < this._addQueue.length; i++) {\n\t\t\t\t\tlet node = this._addQueue[i];\n\t\t\t\t\tif (node && node.listener == listener) {\n\t\t\t\t\t\tthis._addQueue[i] = null;\n\t\t\t\t\t\t// without break, because here may be duplicates\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic emit: T;\n\t\t/**\n\t\t * alias for emit\n\t\t * @type {any}\n\t\t */\n\t\tpublic dispatch: T;\n\n\t\tpublic clear() {\n\t\t\tthis._listeners = null;\n\t\t\tthis._addQueue = null;\n\t\t}\n\n\t\tprivate static EMIT(this: NewSignal<any>, ...args: Array<any>): void {\n\t\t\tif (!this._listeners) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._inRun = true;\n\t\t\ttry {\n\t\t\t\tfor (let i = 0; i < this._listeners.length; i++) {\n\t\t\t\t\tlet node = this._listeners[i];\n\t\t\t\t\tif (!node) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet listener = node.listener;\n\t\t\t\t\tlistener.apply(null, args);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis._inRun = false;\n\t\t\t\tlet j = 0;\n\t\t\t\tfor (let i = 0; i < this._listeners.length; i++) {\n\t\t\t\t\tlet node = this._listeners[i];\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\tthis._listeners[j] = node;\n\t\t\t\t\t\tj++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._listeners.length = j;\n\t\t\t\tlet queue = this._addQueue;\n\t\t\t\tif (queue) {\n\t\t\t\t\tthis._addQueue = null;\n\t\t\t\t\tfor (let i = 0; i < queue.length; i++) {\n\t\t\t\t\t\tlet node = queue[i];\n\t\t\t\t\t\tif (node) {\n\t\t\t\t\t\t\tthis.addNode(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tpublic add(listener: T, priority?: number): T {\n\t\t\treturn this.addListener(listener, priority);\n\t\t}\n\n\t\tpublic addOnce(listener: T, priority: number = 0): T {\n\t\t\treturn this.addListenerOnce(listener, priority);\n\t\t}\n\n\t\tpublic hasListeners(): boolean {\n\t\t\tif (this._listeners) {\n\t\t\t\tfor (let node of this._listeners) {\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._addQueue) {\n\t\t\t\tfor (let node of this._addQueue) {\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tpublic numListeners(): number {\n\t\t\tif (!this._listeners && !this._addQueue) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tlet set = new Set();\n\t\t\tif (this._listeners) {\n\t\t\t\tfor (let node of this._listeners) {\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\tset.add(node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._addQueue) {\n\t\t\t\tfor (let node of this._addQueue) {\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\tset.add(node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn set.size;\n\t\t}\n\t}\n\n\tclass SignalNode<T> {\n\t\tconstructor(listener: T, priority: number) {\n\t\t\tthis.listener = listener;\n\t\t\tthis.priority = priority;\n\t\t}\n\n\t\tpublic readonly listener: T;\n\t\tpublic readonly priority: number;\n\t}\n\t\n\tNewSignal.prototype.emit = NewSignal['EMIT'];\n\tNewSignal.prototype.dispatch = NewSignal['EMIT'];\n}\n","namespace panda {\n\texport class OldSignal<T extends Function = () => void> {\n\t\tpublic constructor(name: string = 'OldSignal') {\n\t\t\tthis._name = name;\n\t\t\tthis.emit = OldSignal.EMIT as any;\n\t\t\tthis.dispatch = OldSignal.EMIT as any;\n\t\t}\n\t\tprivate _name: string;\n\t\tprivate _listeners: List<T> | null = null;\n\n\t\tprotected createListenersList(): void {\n\t\t\tthis._listeners = new List<T>(this._name);\n\t\t}\n\n\t\tpublic addListener(listener: T, priority: number = 0): T {\n\t\t\tif (!this._listeners) {\n\t\t\t\tthis.createListenersList();\n\t\t\t}\n\t\t\tif (this.hasListener(listener)) {\n\t\t\t\treturn listener;\n\t\t\t}\n\t\t\tthis._listeners.insert(listener, priority);\n\t\t\treturn listener;\n\t\t}\n\n\t\tpublic hasListener(listener: T): boolean {\n\t\t\tif (!this._listeners) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this._listeners.has(listener);\n\t\t}\n\n\t\tpublic addListenerOnce(listener: T, priority: number = 0): T {\n\t\t\tlet fakeListener: any = (...args: Array<any>) => {\n\t\t\t\tlistener.apply(null, args);\n\t\t\t\tthis.removeListener(fakeListener);\n\t\t\t}\n\t\t\tthis.addListener(fakeListener as T, priority);\n\t\t\treturn fakeListener;\n\t\t}\n\n\t\tpublic removeListener(listener: T): void {\n\t\t\tif (!this._listeners) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet node = this._listeners.search(listener);\n\t\t\tif (!node) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._listeners.remove(node);\n\t\t}\n\n\t\tpublic emit: T;\n\t\t/**\n\t\t * alias for emit\n\t\t * @type {any}\n\t\t */\n\t\tpublic dispatch: T;\n\n\t\tpublic clear() {\n\t\t\tthis._listeners = null;\n\t\t}\n\n\t\tprivate static EMIT(this: OldSignal<any>, ...args: Array<any>): void {\n\t\t\tif (!this._listeners) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet iter = this._listeners.getHead();\t\t\n\t\t\ttry {\n\t\t\t\twhile (!iter.getEnded()) {\n\t\t\t\t\titer.getValue().apply(null, args);\n\t\t\t\t\titer.next();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\titer.destroy();\n\t\t\t\tthis._listeners.$returnIteratorToPool(iter);\n\t\t\t}\n\n\t\t};\n\n\t\tpublic add(listener: T, priority?: number): T {\n\t\t\treturn this.addListener(listener, priority);\n\t\t}\n\n\t\tpublic addOnce(listener: T, priority: number = 0): T {\n\t\t\treturn this.addListenerOnce(listener, priority);\n\t\t}\n\t\t\n\t\tpublic hasListeners(): boolean {\n\t\t\treturn this.numListeners() > 0;\n\t\t}\n\t\t\n\t\tpublic numListeners(): number {\n\t\t\tif (!this._listeners) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn this._listeners.getLength();\n\t\t}\n\t}\n}\n","namespace panda {\n\texport import Signal = panda.NewSignal;\n}\n","///ts:ref=Console\n/// <reference path=\"../console/Console.ts\"/> ///ts:ref:generated\n\nnamespace panda {\n\texport class StatEvent {\n\t\tconstructor(projectName: string, siteName: string, eventType: string = null) {\n\t\t\tthis.addUniq('project', projectName, StatDataType.noType);\n\t\t\tthis.addUniq('site', siteName, StatDataType.noType);\n\t\t\tif (eventType !== null) {\n\t\t\t\tthis.setType(eventType);\n\t\t\t}\n\t\t\tthis.addUniq('v', 2, StatDataType.noType);\n\t\t}\n\n\t\tprivate _unqs: { [uniqName: string]: StatUniq } = {};\n\n\t\tpublic setType(eventType: string) {\n\t\t\tthis.addUniq('type', eventType, StatDataType.noType);\n\t\t}\n\n\t\tpublic addUniq(uniqName: string, value: string | number, type: string) {\n\t\t\tConsole.here;\n\t\t\tthis.checkUniqName(uniqName);\n\t\t\tif (!StatDataType.isTypeValid(type)) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('PandaStat type is wrong ' + uniqName));\n\t\t\t}\n\t\t\tif (this.hasUniq(uniqName)) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('PandaStat uniq name duplicate ' + uniqName));\n\t\t\t}\n\t\t\tthis._unqs[uniqName] = new StatUniq(uniqName, value, type);\n\t\t}\n\n\t\tpublic hasUniq(uniqName: string): boolean {\n\t\t\treturn !!this._unqs[uniqName];\n\t\t}\n\n\t\tpublic $getData(): any {\n\t\t\tlet obj: any = {};\n\n\t\t\tfor (let key in this._unqs) {\n\t\t\t\tlet uniq: StatUniq = this._unqs[key];\n\t\t\t\tif (uniq.type === StatDataType.noType) {\n\t\t\t\t\tobj[uniq.uniqName] = uniq.value;\n\t\t\t\t} else {\n\t\t\t\t\tobj[uniq.uniqName + '/' + uniq.type] = uniq.value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t}\n\n\t\tprivate _uniqNameRegexp: RegExp = /[A-Z]/;\n\t\tprivate checkUniqName(uniqName: string): boolean {\n\t\t\tlet valid: boolean = true;\n\t\t\tConsole.here;\n\t\t\tif (uniqName.match(this._uniqNameRegexp)) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('PandaStat uniqName contains UPPERCASE symbols ' + uniqName));\n\t\t\t\tvalid = false;\n\t\t\t}\n\t\t\tif (uniqName.indexOf('/') >= 0) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('PandaStat uniq name contains \"/\" ' + uniqName));\n\t\t\t\tvalid = false;\n\t\t\t}\n\t\t\treturn valid;\n\t\t}\n\t}\n\n\texport class StatUniq {\n\t\tpublic constructor(uniqName: string, value: string | number, type: string) {\n\t\t\tthis.uniqName = uniqName;\n\t\t\tthis.value = value;\n\t\t\tthis.type = type;\n\t\t}\n\t\tpublic uniqName: string;\n\t\tpublic value: string | number;\n\t\tpublic type: string;\n\t}\n\n\texport class StatDataType {\n\t\tpublic static noType: string = 'noType';\n\t\tpublic static string: string = 's';\n\t\tpublic static money: string = 'm';\n\t\tpublic static date: string = 'date';\n\n\t\tpublic static projDict8: string = 'pd8';\n\t\tpublic static projDict16: string = 'pd16';\n\t\tpublic static projDict32: string = 'pd32';\n\n\t\tpublic static typeDict8: string = 'td8';\n\t\tpublic static typeDict16: string = 'td16';\n\t\tpublic static typeDict32: string = 'td32';\n\n\t\tpublic static sideDict8: string = 'sd8';\n\t\tpublic static sideDict16: string = 'sd16';\n\t\tpublic static sideDict32: string = 'sd32';\n\n\t\tpublic static typeGroupDict8: string = 'gd8';\n\t\tpublic static typeGroupDict16: string = 'gd16';\n\t\tpublic static typeGroupDict32: string = 'gd32';\n\n\t\tpublic static i8: string = 'i8';\n\t\tpublic static i16: string = 'i16';\n\t\tpublic static i32: string = 'i32';\n\t\tpublic static i64: string = 'i64';\n\n\t\tpublic static ui8: string = 'ui8';\n\t\tpublic static ui16: string = 'ui16';\n\t\tpublic static ui32: string = 'ui32';\n\t\tpublic static ui64: string = 'ui64';\n\n\t\tprivate static _typeCache: { [type: string]: boolean };\n\t\tpublic static isTypeValid(typeName: string): boolean {\n\t\t\tif (!StatDataType._typeCache) {\n\t\t\t\tlet cache: { [type: string]: boolean } = {};\n\t\t\t\tfor (let key in StatDataType) {\n\t\t\t\t\tcache[(<any>StatDataType)[key]] = true;\n\t\t\t\t}\n\t\t\t\tthis._typeCache = cache;\n\t\t\t}\n\t\t\treturn !!this._typeCache[typeName];\n\t\t}\n\t}\n}","///ts:ref=StatEvent\n/// <reference path=\"./StatEvent.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport class PlatformDescribingStatEvent extends StatEvent {\n\t\tconstructor(projectName: string, siteName: string, eventType: string = null) {\n\t\t\tsuper(projectName, siteName, eventType);\n\t\t\tlet info = PlatformDescriber.getInfo();\n\n\t\t\tthis.addUniq('uid', info.userId, StatDataType.noType);\n\t\t\tthis.addUniq('build', info.buildNumber, StatDataType.i32);\n\t\t\tthis.addUniq('run_guid', info.runGuid, StatDataType.string);\n\t\t\tthis.addUniq('build_date', Math.floor(info.buildDate / 1000).toString(), StatDataType.string);\n\t\t\t//this.addUniq('location_href', info.locationHref, StatDataType.projDict8); на vk например палит кучу ненужной штуки\n\n\t\t\tthis.addUniq('user_agent', info.browserInfo.userAgent, StatDataType.projDict32);\n\n\t\t\tthis.addUniq('browser', info.browserInfo.browser, StatDataType.projDict32);\n\t\t\tthis.addUniq('browser_version', info.browserInfo.version, StatDataType.projDict32);\n\t\t\tthis.addUniq('browser_version_number', info.browserInfo.versionNumber, StatDataType.money);\n\n\t\t\tthis.addUniq('parent_browser', info.browserInfo.parentBrowser, StatDataType.projDict32);\n\t\t\tthis.addUniq('parent_browser_version', info.browserInfo.parentVersion, StatDataType.projDict32);\n\t\t\tthis.addUniq('parent_browser_version_number', info.browserInfo.parentVersionNumber, StatDataType.money);\n\n\t\t\tthis.addUniq('os_type', info.browserInfo.osType, StatDataType.projDict16);\n\t\t\tthis.addUniq('os_name', info.browserInfo.osName, StatDataType.projDict16);\n\t\t\tthis.addUniq('os_version', info.browserInfo.osVersion, StatDataType.projDict16);\n\t\t\tthis.addUniq('os_version_number', info.browserInfo.osVersionNumber, StatDataType.money);\n\t\t\tthis.addUniq('archtecture', info.browserInfo.archtecture, StatDataType.projDict16);\n\n\t\t\tthis.addUniq('parsed_corretly', '' + info.browserInfo.parsedCorretly, StatDataType.projDict8);\n\t\t\tthis.addUniq('fatal_parsing_error', '' + info.browserInfo.fatalParsingError, StatDataType.projDict8);\n\t\t\tthis.addUniq('mobile_experimental', '' + info.browserInfo.mobileExperimental, StatDataType.projDict8);\n\n\t\t\tlet glInfo = info.webGLInfo;\n\t\t\tthis.addUniq('video_card', glInfo.videoCard, StatDataType.projDict32);\n\t\t\tthis.addUniq('webgl_oficially_supported', '' + glInfo.officiallySupported, StatDataType.projDict8);\n\t\t\tthis.addUniq('webgl_supported', '' + glInfo.supported, StatDataType.projDict8);\n\t\t\tthis.addUniq('version', glInfo.version, StatDataType.projDict16);\n\t\t\tthis.addUniq('shading_vesion', glInfo.shadingVesion, StatDataType.projDict16);\n\t\t}\n\t}\n}\n","namespace panda {\n\texport class Stat {\n\t\tpublic static intance: Stat = null;\n\n\t\tconstructor(url: panda.url.Url, collectTimeout: number) {\n\t\t\tthis._url = url;\n\t\t\tthis._collectTimeout = collectTimeout;\n\t\t\tthis._loader.onComplete.addListener((loader, responce, wasError: boolean) => {\n\t\t\t\tthis.onSended.emit(wasError);\n\t\t\t});\n\t\t}\n\n\t\tprivate _url: panda.url.Url;\n\t\tprivate _collectTimeout: number;\n\t\tprivate _queue: Array<StatEvent> = new Array();\n\t\tprivate _timeout: any = NaN;\n\t\tprivate _loader: URLLoader = new URLLoader();\n\n\t\tpublic send(event: StatEvent): void {\n\t\t\tif (BuildInfo.online !== 'true') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tConsole.here;\n\t\t\tif (!event.hasUniq('type')) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('event has no type'));\n\t\t\t}\n\t\t\tif (!event.hasUniq('project')) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('event has no project, type: ' + event.$getData()['type']));\n\t\t\t}\n\t\t\tif (!event.hasUniq('site')) {\n\t\t\t\tConsole.errorUncritical(new AdvancedError('event has no site, type: ' + event.$getData()['type']));\n\t\t\t}\n\t\t\t//PandaConsole.logDebug('PandaStat::send', 'event.type', event.$getData()['type']);\n\t\t\tthis._queue.push(event);\n\t\t\tthis.scheduleSend();\n\t\t}\n\n\t\tpublic onSended = new Signal<(wasError: boolean) => void>();\n\n\t\tprivate scheduleSend(): void {\n\t\t\t//PandaConsole.logDebug('PandaStat::scheduleSend', 'timeout', this._timeout);\n\t\t\tif (isNaN(this._timeout)) {\n\t\t\t\tthis._timeout = setTimeout(this.handler_collectTimeOutEnded, this._collectTimeout);\n\t\t\t}\n\t\t}\n\n\t\tprivate handler_collectTimeOutEnded = () => {\n\t\t\t//PandaConsole.logDebug('PandaStat::collectTimeOutEnded', 'timeout', this._timeout);\n\t\t\tthis._timeout = NaN;\n\t\t\tif (this._loader.getLoading()) {\n\t\t\t\t//PandaConsole.logDebug('PandaStat::collectTimeOutEnded', 'this._loader.loading');\n\t\t\t\tthis._loader.onComplete.addListener(this.sendToServer);\n\t\t\t} else {\n\t\t\t\t//PandaConsole.logDebug('PandaStat::collectTimeOutEnded', 'sendToServer');\n\t\t\t\tthis.sendToServer();\n\t\t\t}\n\t\t}\n\n\t\tprivate sendToServer = () => {\n\t\t\tConsole.logDebug('PandaStat::sendToServer');\n\t\t\tthis._loader.onComplete.removeListener(this.sendToServer);\n\t\t\tlet data: string = this.stringifyEvents();\n\t\t\t//PandaConsole.logInfo(JSON.stringify(this._queue.map(e=>e.$getData()), null, 4));\n\t\t\tthis._queue.length = 0;\n\t\t\tlet req = new URLRequest(this._url, 'POST', data);\n\t\t\treq.numRetriesToDo = 0; // for stat retries is bad idea\n\t\t\tthis._loader.load(req);\n\t\t}\n\n\t\tprivate stringifyEvents(): string {\n\t\t\treturn JSON.stringify(this._queue.map(e => e.$getData()));\n\t\t}\n\t}\n}\n","///ts:ref=Console\n/// <reference path=\"../console/Console.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport namespace WebGLUtils {\n\t\texport function getGLContext(canvas: HTMLCanvasElement, attributes: WebGLContextAttributes = null): WebGLRenderingContext {\n\t\t\tConsole.here;\n\t\t\tif (!canvas) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (!canvas.getContext) {\n\t\t\t\t\tConsole.logDebug('WebGLUtils::getGLContext: getContext is not supported');\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tlet context = canvas.getContext(\"webgl\", attributes) || canvas.getContext(\"experimental-webgl\", attributes);\n\t\t\t\treturn context as WebGLRenderingContext;\n\t\t\t} catch (e) {\n\t\t\t\tConsole.errorUncritical(e);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tlet dummyCanvas: HTMLCanvasElement = null;\n\n\t\texport function getDummyCanvas(): HTMLCanvasElement {\n\t\t\tif (dummyCanvas == null) {\n\t\t\t\tdummyCanvas = document.createElement('canvas');\n\t\t\t}\n\t\t\treturn dummyCanvas;\n\t\t}\n\n\t\tlet dummyContext: WebGLRenderingContext = null;\n\n\t\texport function getDummyContext(): WebGLRenderingContext {\n\t\t\tif (dummyContext == null) {\n\t\t\t\tdummyContext = getGLContext(getDummyCanvas());\n\t\t\t}\n\t\t\treturn dummyContext;\n\t\t}\n\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"ANGLE_instanced_arrays\"): ANGLEInstancedArrays;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"EXT_blend_minmax\"): EXTBlendMinMax;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"EXT_color_buffer_half_float\"): EXTColorBufferHalfFloat;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"EXT_frag_depth\"): EXTFragDepth;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"EXT_sRGB\"): EXTsRGB;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"EXT_shader_texture_lod\"): EXTShaderTextureLOD;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"EXT_texture_filter_anisotropic\"): EXTTextureFilterAnisotropic;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"OES_element_index_uint\"): OESElementIndexUint;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"OES_standard_derivatives\"): OESStandardDerivatives;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"OES_texture_float\"): OESTextureFloat;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"OES_texture_float_linear\"): OESTextureFloatLinear;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"OES_texture_half_float\"): OESTextureHalfFloat;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"OES_texture_half_float_linear\"): OESTextureHalfFloatLinear;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"OES_vertex_array_object\"): OESVertexArrayObject;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_color_buffer_float\"): WebGLColorBufferFloat;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_compressed_texture_atc\"): WebGLCompressedTextureATC;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_compressed_texture_etc1\"): WebGLCompressedTextureETC1;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_compressed_texture_pvrtc\"): WebGLCompressedTexturePVRTC;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_compressed_texture_s3tc\"): WebGLCompressedTextureS3TC;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_debug_renderer_info\"): WebGLDebugRendererInfo;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_debug_shaders\"): WebGLDebugShaders;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_depth_texture\"): WebGLDepthTexture;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_draw_buffers\"): WebGLDrawBuffers;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_lose_context\"): WebGLLoseContext;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"EXT_frag_depth\"): EXTFragDepth;\n\t\texport function getExtension(context: WebGLRenderingContext, name: \"WEBGL_depth_texture\"): WebGLDepthTexture;\n\t\texport function getExtension(context: WebGLRenderingContext, name: string): any;\n\t\texport function getExtension(context: WebGLRenderingContext, name: string): any {\n\t\t\tConsole.here;\n\t\t\tif (!context) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tlet extension: any = context.getExtension(name);\n\t\t\t\tif (extension) {\n\t\t\t\t\treturn extension;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let prefix of browserPrefixes) {\n\t\t\t\t\t\textension = context.getExtension(prefix + name);\n\t\t\t\t\t\tif (extension) {\n\t\t\t\t\t\t\treturn extension;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tConsole.errorUncritical(e);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tconst browserPrefixes = ['MOZ_', 'WEBKIT_'];\n\n\t\texport namespace extensions {\n\t\t\texport const ANGLE_instanced_arrays: 'ANGLE_instanced_arrays' = 'ANGLE_instanced_arrays';\n\t\t\texport const OES_texture_float: 'OES_texture_float' = 'OES_texture_float';\n\t\t\texport const OES_texture_float_linear: 'OES_texture_float_linear' = 'OES_texture_float_linear';\n\t\t\texport const EXT_texture_filter_anisotropic: 'EXT_texture_filter_anisotropic' = 'EXT_texture_filter_anisotropic';\n\t\t\texport const OES_standard_derivatives: 'OES_standard_derivatives' = 'OES_standard_derivatives';\n\t\t\texport const OES_element_index_uint: 'OES_element_index_uint' = 'OES_element_index_uint';\n\t\t}\n\n\t\texport namespace optionalExtensions {\n\t\t\texport const WEBGL_debug_renderer_info: 'WEBGL_debug_renderer_info' = 'WEBGL_debug_renderer_info';\n\t\t\texport const WEBGL_compressed_texture_s3tc: 'WEBGL_compressed_texture_s3tc' = 'WEBGL_compressed_texture_s3tc';\n\t\t\texport const WEBGL_compressed_texture_pvrtc: 'WEBGL_compressed_texture_pvrtc' = 'WEBGL_compressed_texture_pvrtc';\n\t\t\texport const WEBGL_lose_context: 'WEBGL_lose_context' = 'WEBGL_lose_context';\n\t\t\texport const EXT_frag_depth: 'EXT_frag_depth' = 'EXT_frag_depth';\n\t\t\texport const WEBGL_depth_texture: 'WEBGL_depth_texture' = 'WEBGL_depth_texture';\n\t\t\texport const OES_vertex_array_object: 'OES_vertex_array_object' = 'OES_vertex_array_object';\n\t\t}\n\t}\n}","///ts:ref=PlatformDescriber\n/// <reference path=\"../console/PlatformDescriber.ts\"/> ///ts:ref:generated\n///ts:ref=PlatformDescribingStatEvent\n/// <reference path=\"./PlatformDescribingStatEvent.ts\"/> ///ts:ref:generated\n///ts:ref=WebGLUtils\n/// <reference path=\"../webgl/WebGLUtils.ts\"/> ///ts:ref:generated\n\nnamespace panda {\n\texport class WebGlDescribingStatEvent extends PlatformDescribingStatEvent {\n\t\tconstructor(projectName: string, siteName: string, eventType: string = null) {\n\t\t\tsuper(projectName, siteName, eventType);\n\t\t\tlet glInfo = PlatformDescriber.getInfo().webGLInfo;\n\n\t\t\tthis.addUniq('max_vertex_attributes', glInfo.maxVertexAttributes, StatDataType.i32);\n\t\t\tthis.addUniq('max_vertex_uniform_vectors', glInfo.maxVertexUniformVectors, StatDataType.i32);\n\t\t\tthis.addUniq('max_vertex_texture_image_units', glInfo.maxVertexTextureImageUnits, StatDataType.i32);\n\t\t\tthis.addUniq('max_varying_vectors', glInfo.maxVaryingVectors, StatDataType.i32);\n\n\t\t\tthis.addUniq('aliased_line_width_range_0', glInfo.aliasedLineWidthRange[0], StatDataType.i32);\n\t\t\tthis.addUniq('aliased_line_width_range_1', glInfo.aliasedLineWidthRange[1], StatDataType.i32);\n\n\t\t\tthis.addUniq('aliased_point_size_range_0', glInfo.aliasedPointSizeRange[0], StatDataType.i32);\n\t\t\tthis.addUniq('aliased_point_size_range_1', glInfo.aliasedPointSizeRange[1], StatDataType.i32);\n\n\t\t\tthis.addUniq('max_fragment_uniform_vectors', glInfo.maxFragmentUniformVectors, StatDataType.i32);\n\t\t\tthis.addUniq('max_texture_image_units', glInfo.maxTextureImageUnits, StatDataType.i32);\n\n\t\t\tthis.addUniq('red_bits', glInfo.redBits, StatDataType.i8);\n\t\t\tthis.addUniq('green_bits', glInfo.greenBits, StatDataType.i8);\n\t\t\tthis.addUniq('blue_bits', glInfo.blueBits, StatDataType.i8);\n\t\t\tthis.addUniq('alpha_bits', glInfo.alphaBits, StatDataType.i8);\n\t\t\tthis.addUniq('depth_bits', glInfo.depthBits, StatDataType.i8);\n\t\t\tthis.addUniq('stencil_bits', glInfo.stencilBits, StatDataType.i8);\n\n\t\t\tthis.addUniq('max_renderbuffer_size', glInfo.maxRenderbufferSize, StatDataType.i32);\n\t\t\tthis.addUniq('max_viewport_dims_0', glInfo.maxViewportDims[0], StatDataType.i32);\n\t\t\tthis.addUniq('max_viewport_dims_1', glInfo.maxViewportDims[1], StatDataType.i32);\n\t\t\tthis.addUniq('max_texture_size', glInfo.maxTextureSize, StatDataType.i32);\n\t\t\tthis.addUniq('max_cube_map_texture_size', glInfo.maxCubeMapTextureSize, StatDataType.i32);\n\t\t\tthis.addUniq('max_combined_texture_image_units', glInfo.maxCombinedTextureImageUnits, StatDataType.i32);\n\t\t\tthis.addUniq('major_performance_caveat', glInfo.majorPerformanceCaveat, StatDataType.projDict8);\n\n\t\t\tlet context = WebGLUtils.getDummyContext();\n\t\t\tthis.addUniq('angle_instanced_arrays', WebGLUtils.getExtension(context, WebGLUtils.extensions.ANGLE_instanced_arrays) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('oes_texture_float', WebGLUtils.getExtension(context, WebGLUtils.extensions.OES_texture_float) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('oes_texture_float_linear', WebGLUtils.getExtension(context, WebGLUtils.extensions.OES_texture_float_linear) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('ext_texture_filter_anisotropic', WebGLUtils.getExtension(context, WebGLUtils.extensions.EXT_texture_filter_anisotropic) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('oes_standard_derivatives', WebGLUtils.getExtension(context, WebGLUtils.extensions.OES_standard_derivatives) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('oes_element_index_uint', WebGLUtils.getExtension(context, WebGLUtils.extensions.OES_element_index_uint) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('webgl_debug_renderer_info', WebGLUtils.getExtension(context, WebGLUtils.optionalExtensions.WEBGL_debug_renderer_info) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('webgl_compressed_texture_s3tc', WebGLUtils.getExtension(context, WebGLUtils.optionalExtensions.WEBGL_compressed_texture_s3tc) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('webgl_compressed_texture_pvrtc', WebGLUtils.getExtension(context, WebGLUtils.optionalExtensions.WEBGL_compressed_texture_pvrtc) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('webgl_lose_context', WebGLUtils.getExtension(context, WebGLUtils.optionalExtensions.WEBGL_lose_context) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('webgl_depth_texture', WebGLUtils.getExtension(context, WebGLUtils.optionalExtensions.WEBGL_depth_texture) ? 'true' : 'false', StatDataType.projDict8);\n\t\t\tthis.addUniq('ext_frag_depth', WebGLUtils.getExtension(context, WebGLUtils.optionalExtensions.EXT_frag_depth) ? 'true' : 'false', StatDataType.projDict8);\n\t\t}\n\t}\n}","namespace panda {\n    export interface AnyFunc {\n        (...args: any[]): any;\n    }\n}","namespace panda {\n\texport namespace ArrayUtils {\n\t\t/**\n\t\t* shuffles specified array. Modifies argument\n\t\t* knuth-shuffle\n\t\t* http://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n\t\t*\n\t\t*/\n\t\texport function shuffle<T>(array: Array<T>, randomFunc: () => number = Math.random): void {\n\t\t\tlet currentIndex = array.length;\n\t\t\tlet temporaryValue: T;\n\t\t\tlet randomIndex: number;\n\n\t\t\twhile (0 !== currentIndex) {\n\t\t\t\trandomIndex = Math.floor(randomFunc() * currentIndex);\n\t\t\t\tcurrentIndex -= 1;\n\n\t\t\t\ttemporaryValue = array[currentIndex];\n\t\t\t\tarray[currentIndex] = array[randomIndex];\n\t\t\t\tarray[randomIndex] = temporaryValue;\n\t\t\t}\n\t\t}\n\n\t\texport function shuffleCopy<T>(src: ReadonlyArray<T>, randomFunc: () => number = Math.random): Array<T> {\n\t\t\tlet res: Array<T> = src.concat();\n\t\t\tlet currentIndex = res.length;\n\t\t\tlet temporaryValue: T;\n\t\t\tlet randomIndex: number;\n\n\t\t\twhile (0 !== currentIndex) {\n\t\t\t\trandomIndex = Math.floor(randomFunc() * currentIndex);\n\t\t\t\tcurrentIndex -= 1;\n\n\t\t\t\ttemporaryValue = res[currentIndex];\n\t\t\t\tres[currentIndex] = res[randomIndex];\n\t\t\t\tres[randomIndex] = temporaryValue;\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\texport function equalContent<T>(a1: ArrayLike<T>, a2: ArrayLike<T>, comparator: (a: any, b: any) => boolean = equalFuncDefault, checkDense: boolean = true): boolean {\n\t\t\tif (a1 === a2) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (a1.length != a2.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet l = a1.length;\n\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\tif (checkDense && !(i in a1) || !(i in a2)) {\n\t\t\t\t\tthrow new AdvancedError(\"arrays must be dense\");\n\t\t\t\t}\n\t\t\t\tif (!comparator(a1[i], a2[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\texport function equalContentUnordered(a1: ArrayLike<any>, a2: ArrayLike<any>, comparator: (a: any, b: any) => boolean = equalFuncDefault): boolean {\n\t\t\tif (a1 === a2) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (a1.length != a2.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar len: number = a1.length;\n\t\t\tvar checked = new Array(len);\n\t\t\tfor (var i: number = 0; i < len; i++) {\n\t\t\t\tvar v1: any = a1[i];\n\t\t\t\tvar found: boolean = false;\n\t\t\t\tfor (var j: number = 0; j < len; j++) {\n\t\t\t\t\tif (checked[j]) continue;\n\t\t\t\t\tvar v2: any = a2[j];\n\t\t\t\t\tif (comparator(v1, v2)) {\n\t\t\t\t\t\tchecked[j] = true;\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!found) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\texport function equalContentUnorderedUsigMap(a1: ReadonlyArray<any>, a2: ReadonlyArray<any>): boolean {\n\t\t\tif (a1 === a2) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (a1.length != a2.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet map1 = makeCountMap(a1);\n\t\t\tlet map2 = makeCountMap(a2);\n\t\t\tlet equals = true;\n\t\t\tmap1.forEach((v, k) => {\n\t\t\t\tif (map2.get(k) !== v) {\n\t\t\t\t\tequals = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn equals;\n\t\t}\n\n\t\texport function makeCountMap(a: ReadonlyArray<any>): Map<any, number> {\n\t\t\tvar map: Map<any, number> = new Map();\n\t\t\tfor (let e of a) {\n\t\t\t\tvar count = map.get(e);\n\t\t\t\tif (!count) {\n\t\t\t\t\tmap.set(e, 1);\n\t\t\t\t} else {\n\t\t\t\t\tmap.set(e, count + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn map;\n\t\t}\n\n\t\texport function equalFuncDefault(v1: any, v2: any): boolean {\n\t\t\tif (v1 === v2) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tIntrospection.isNumber(v1) &&\n\t\t\t\tIntrospection.isNumber(v2) &&\n\t\t\t\tisNaN(v1) &&\n\t\t\t\tisNaN(v2)\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\texport function max(array: Array<number>): number {\n\t\t\tif (array.length === 0) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\tlet max = Number.NEGATIVE_INFINITY;\n\t\t\tlet l = array.length;\n\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\tlet element = array[i];\n\t\t\t\tif (element > max) {\n\t\t\t\t\tmax = element\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn max;\n\t\t}\n\n\t\texport function min(array: Array<number>): number {\n\t\t\tif (array.length === 0) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\tlet min = Number.POSITIVE_INFINITY;\n\t\t\tlet l = array.length;\n\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\tlet element = array[i];\n\t\t\t\tif (element < min) {\n\t\t\t\t\tmin = element\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn min;\n\t\t}\n\n\t\texport function sum(array: Array<number>): number {\n\t\t\tif (array.length === 0) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\tlet sum = 0;\n\t\t\tlet l = array.length;\n\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\tsum += array[i];\n\t\t\t}\n\t\t\treturn sum;\n\t\t}\n\n\t\texport function avg(array: Array<number>, startIndex:number = 0, endIndex:number = array.length): number {\n\t\t\tif (array.length === 0 || startIndex < 0 || startIndex >= endIndex) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\tlet sum = 0;\n\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\tsum += array[i];\n\t\t\t}\n\t\t\treturn sum / (endIndex - startIndex);\n\t\t}\n\n\t\texport function copy<T>(array: Array<T>): Array<T> {\n\t\t\treturn array.concat();\n\t\t}\n\n\t\t/**\n\t\t* Sorts specified array ascending. Modifies argument/\n\t\t*\n\t\t*/\n\t\texport function sortAscending(array: Array<number>): Array<number> {\n\t\t\treturn array.sort((a, b) => a - b);\n\t\t}\n\n\t\t/**\n\t\t* Sorts specified array descending. Modifies argument/\n\t\t*\n\t\t*/\n\t\texport function sortDescending(array: Array<number>): Array<number> {\n\t\t\treturn array.sort((a, b) => b - a);\n\t\t}\n\n\t\t/**\n\t\t* Sorts specified array ascending. Modifies argument/\n\t\t*\n\t\t*/\n\t\texport function sortStringsAscending(array: Array<string>): Array<string> {\n\t\t\treturn array.sort((a, b) => {\n\t\t\t\tif (a > b) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else if (a < b) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\texport function sortStringsDescending(array: Array<string>): Array<string> {\n\t\t\treturn array.sort((a, b) => {\n\t\t\t\tif (a > b) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (a < b) {\n\t\t\t\t\treturn 1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\texport function sortOn<T>(a: Array<T>, fieldName: keyof T): void;\n\t\texport function sortOn<T>(a: Array<T>, fieldNames: Array<keyof T>): void;\n\t\texport function sortOn<T>(a: Array<T>, fieldNames: (Array<keyof T>) | (keyof T)): void {\n\t\t\t//todo: add props and implement\n\t\t\tthrow new AdvancedError('not implemented yet');\n\t\t}\n\n\t\t/**\n\t\t* Reverses specified array. Modifies argument/\n\t\t*\n\t\t*/\n\t\texport function reverse(array: Float32Array, step?: number): Float32Array\n\t\texport function reverse<T>(array: Array<T>, step?: number): Array<T>\n\t\texport function reverse(array: any, step: number = 1): any {\n\t\t\tlet right = array.length - step;\n\t\t\tlet left = 0;\n\t\t\twhile (left < right) {\n\t\t\t\tfor (let i: number = 0; i < step; i++) {\n\t\t\t\t\tlet tmp = array[left + i];\n\t\t\t\t\tarray[left + i] = array[right + i];\n\t\t\t\t\tarray[right + i] = tmp;\n\t\t\t\t}\n\t\t\t\tleft += step;\n\t\t\t\tright -= step;\n\t\t\t}\n\t\t\treturn array;\n\t\t}\n\n\t\texport function percentile(array: Array<number>, percentile: number): number {\n\t\t\tif (array.length === 0) {\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\tlet sorted = ArrayUtils.sortAscending(ArrayUtils.copy(array));\n\t\t\tlet index = Math.ceil((sorted.length - 1) * percentile);\n\t\t\treturn sorted[index];\n\t\t}\n\n\t\texport interface Counter {\n\t\t\tcounter: number;\n\t\t\tmax: number;\n\t\t}\n\n\t\texport function powerArray<T>(a: Array<Array<T>>, mult: number): Array<Array<T>> {\n\t\t\tlet result: Array<Array<T>> = [[]];\n\t\t\twhile (mult--) {\n\t\t\t\tresult = this.multiplyArrays(result, a);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\texport function multiplyArrays<T>(a: Array<Array<T>>, b: Array<Array<T>>): Array<Array<T>> {\n\t\t\tlet result: Array<Array<T>> = [];\n\t\t\tfor (let ae of a) {\n\t\t\t\tfor (let be of b) {\n\t\t\t\t\tresult.push(ae.concat(be));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\texport function getArraySubCombination<T>(a: Array<T>, length: number): Array<Array<T>> {\n\t\t\tlet result: Array<Array<T>> = [];\n\t\t\tlet counters: Array<Counter> = [];\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tcounters[i] = { max: a.length, counter: 0 };\n\t\t\t}\n\t\t\tdo {\n\t\t\t\tlet combination: Array<T> = [];\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tcombination.push(a[counters[i].counter]);\n\t\t\t\t}\n\t\t\t\tresult.push(combination);\n\t\t\t} while (ArrayUtils.arraySubCombinationNext(counters, 0));\n\t\t\treturn result;\n\t\t}\n\n\t\texport function arraySubCombinationNext(counters: Array<Counter>, depth: number): boolean {\n\t\t\tif (depth == counters.length) return false;\n\t\t\tcounters[depth].counter++;\n\t\t\tif (counters[depth].counter == counters[depth].max) {\n\t\t\t\tlet ret = ArrayUtils.arraySubCombinationNext(counters, depth + 1);\n\t\t\t\tif (ret) {\n\t\t\t\t\tcounters[depth].counter = counters[depth + 1].counter;\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\texport function getAllSublines<T>(arrays: Array<Array<T>>, callback: (arr: Array<T>) => void = null): Array<Array<T>> {\n\t\t\tlet result: Array<Array<T>> = [];\n\t\t\tlet counters: Array<Counter> = [];\n\t\t\tfor (let i = 0; i < arrays.length; i++) {\n\t\t\t\tcounters[i] = { max: arrays[i].length, counter: 0 };\n\t\t\t}\n\t\t\tdo {\n\t\t\t\tlet combination: Array<T> = [];\n\t\t\t\tfor (let i = 0; i < arrays.length; i++) {\n\t\t\t\t\tcombination.push(arrays[i][counters[i].counter]);\n\t\t\t\t}\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback(combination)\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(combination);\n\t\t\t\t}\n\t\t\t} while (ArrayUtils.arraySubLineNext(counters, 0));\n\t\t\treturn result;\n\t\t}\n\n\t\texport function filterFileNamesByExtensions(fileNames: Array<string>, extensions: Array<string>): Array<string>\n\t\texport function filterFileNamesByExtensions(fileNames: Array<string>, ext1: string): Array<string>\n\t\texport function filterFileNamesByExtensions(fileNames: Array<string>, ext1: string, ext2: string): Array<string>\n\t\texport function filterFileNamesByExtensions(fileNames: Array<string>, ext1: string, ext2: string, ...exts: Array<string>): Array<string>\n\t\texport function filterFileNamesByExtensions(fileNames: Array<string>, ...args: Array<any>): Array<string> {\n\t\t\tif (args.length <= 1) {\n\t\t\t\tthrow new AdvancedError('wrong arguments count');\n\t\t\t}\n\t\t\tlet extensions = (false as true) && ArrayUtils.arrayToHash(null as Array<string>);\n\t\t\textensions = {};\n\t\t\tif (Introspection.isArray(args[0])) {\n\t\t\t\tif (args.length >= 1) {\n\t\t\t\t\tthrow new AdvancedError('If second argument is array, no more than two arguments allowed');\n\t\t\t\t}\n\t\t\t\textensions = ArrayUtils.arrayToHash(args[0]);\n\t\t\t} else {\n\t\t\t\textensions = ArrayUtils.arrayToHash(args);\n\t\t\t}\n\t\t\tlet res = new Array<string>();\n\t\t\tfor (let fileName of fileNames) {\n\t\t\t\tlet dotPosition = fileName.lastIndexOf('.');\n\t\t\t\tif (dotPosition == -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet ext = fileName.substr(dotPosition + 1); // +1 for dot itself\n\t\t\t\tif (extensions[ext] == true) {\n\t\t\t\t\tres.push(fileName);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\texport function arrayToHash(arr: Array<string>): { [key: string]: true | undefined }\n\t\texport function arrayToHash(arr: Array<number>): { [key: number]: true | undefined }\n\t\texport function arrayToHash(arr: Array<string | number>): any {\n\t\t\tlet hash: any = Object.create(null);\n\t\t\tfor (let arg of arr) {\n\t\t\t\thash[arg] = true;\n\t\t\t}\n\t\t\treturn hash;\n\t\t}\n\n\t\texport function arraySubLineNext(counters: Array<Counter>, depth: number): boolean {\n\t\t\tif (depth == counters.length) return false;\n\t\t\tlet curCounter = counters[depth];\n\t\t\tcurCounter.counter++;\n\t\t\tif (curCounter.counter == curCounter.max) {\n\t\t\t\tcurCounter.counter = 0;\n\t\t\t\treturn ArrayUtils.arraySubLineNext(counters, depth + 1);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n}\n","class BuildInfo {\n\t// get values form BuildProperties in exists\n\tpublic static get buildDate(): string { return this.getPropByName('buildDate', '0')}\n\tpublic static get buildNumber(): string { return this.getPropByName('buildNumber', '0')}\n\tpublic static get online(): string { return this.getPropByName('online', 'true')}\n\n\tprivate static getPropByName(name: string, defaultValue: string) {\n\t\tlet buildProps: any = (window as any)['BuildProperties'];\n\t\treturn buildProps ? buildProps[name] : defaultValue;\n\t}\n}\n","///ts:ref=AnyFunc\n/// <reference path=\"./AnyFunc.ts\"/> ///ts:ref:generated\n///ts:ref=Console\n/// <reference path=\"../console/Console.ts\"/> ///ts:ref:generated\nnamespace panda {\n    export namespace ChainerSync {\n        export function chain(thisArg: any, first: AnyFunc, second: AnyFunc, ...anotherFuncs: AnyFunc[]): AnyFunc;\n        export function chain(thisArg: any, ...funcs: AnyFunc[]): AnyFunc {\n            return function (...args: any[]): any {\n                Console.here;\n                let result: any;\n                let l: number = funcs.length;\n                for (let i: number = 0; i < l; i++) {\n                    let func: AnyFunc = funcs[i];\n                    if (!func) {\n                        continue;\n                    }\n                    try {\n                        result = func.apply(thisArg, args);\n                    } catch (e) {\n                        Console.errorUncritical(e);\n                    }\n                }\n                return result;\n            }\n        }\n    }\n}","namespace panda {\n    export class Clipboard {\n        // see https://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\n        public static setClipboardContent(text: string) {\n            let n = navigator as any;\n            if (!n.clipboard) {\n                Clipboard.fallbackCopyTextToClipboard(text);\n                return;\n            }\n            n.clipboard.writeText(text).then(function () {\n                console.log('Async: Copying to clipboard was successful!');\n            }, function (err: any) {\n                console.error('Async: Could not copy text: ', err);\n            });\n        }\n\n        private static fallbackCopyTextToClipboard(text: string) {\n            var textArea = document.createElement(\"textarea\");\n            textArea.value = text;\n\n            // Avoid scrolling to bottom\n            textArea.style.top = \"0\";\n            textArea.style.left = \"0\";\n            textArea.style.position = \"fixed\";\n\n            document.body.appendChild(textArea);\n            textArea.focus();\n            textArea.select();\n\n            try {\n                var successful = document.execCommand('copy');\n                var msg = successful ? 'successful' : 'unsuccessful';\n                console.log('Fallback: Copying text command was ' + msg);\n            } catch (err) {\n                console.error('Fallback: Oops, unable to copy', err);\n            }\n\n            document.body.removeChild(textArea);\n        }\n    }\n}","// Based on https://github.com/zeh/prando\nnamespace panda {\n\texport class DRandom {\n\t\tprivate static MIN: number = -2147483648; // Int32 min\n\t\tprivate static MAX: number = 2147483647; // Int32 max\n\n\t\tprivate _seed: number;\n\t\tprivate _value: number;\n\n\t\tconstructor(seed: number | string) {\n\t\t\tif (typeof (seed) === \"string\") {\n\t\t\t\tthis._seed = this.hashCode(<string>seed);\n\t\t\t\tthis._value = this._seed;\n\t\t\t} else if (typeof (seed) === \"number\") {\n\t\t\t\tthis._seed = <number>seed;\n\t\t\t\tthis._value = this._seed;\n\t\t\t} else {\n\t\t\t\tthrow new Error('DRandom incorrect seed');\n\t\t\t}\n\n\t\t}\n\n\t\tpublic next(min: number = 0, pseudoMax: number = 1): number {\n\t\t\tthis.recalculate();\n\t\t\treturn this.map(this._value, DRandom.MIN, DRandom.MAX, min, pseudoMax);\n\t\t}\n\n\t\tprivate recalculate(): void {\n\t\t\t// Xorshift*32\n\t\t\t// Based on George Marsaglia's work: http://www.jstatsoft.org/v08/i14/paper\n\t\t\tthis._value ^= this._value << 13;\n\t\t\tthis._value ^= this._value >> 17;\n\t\t\tthis._value ^= this._value << 5;\n\t\t}\n\n\t\tprivate map(val: number, minFrom: number, maxFrom: number, minTo: number, maxTo: number) {\n\t\t\treturn ((val - minFrom) / (maxFrom - minFrom)) * (maxTo - minTo) + minTo;\n\t\t}\n\n\t\tprivate hashCode(str: string): number {\n\t\t\tlet hash: number = 0;\n\t\t\tif (str) {\n\t\t\t\tlet l: number = str.length;\n\t\t\t\tfor (let i = 0; i < l; i++) {\n\t\t\t\t\thash = ((hash << 5) - hash) + str.charCodeAt(i);\n\t\t\t\t\thash |= 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hash;\n\t\t}\n\t}\n}","namespace panda {\n\texport namespace DateUtils {\n\t\texport function now(): number {\n\t\t\tif (Date.now) {\n\t\t\t\treturn Date.now();\n\t\t\t} else {\n\t\t\t\treturn (new Date()).getTime();\n\t\t\t}\n\t\t}\n\t}\n}","\nnamespace panda {\n    export const enum Ordering {\n        Less = -1,\n        Equal = 0,\n        Greater = 1,\n    }\n\n    export interface IDigits {\n        readonly radix: number;\n        readonly data: ReadonlyArray<number>;\n        compare(other: IDigits): Ordering;\n        toString(): string;\n    }\n\n    export class Digits {\n        private static __pow2__pows = new Map<number, Array<Digits>>();\n        public static pow2(radix: number, pow: number): IDigits {\n            if (!Digits.__pow2__pows.has(radix)) {\n                const one = Digits.radixToPrefix(radix) + '1';\n                Digits.__pow2__pows.set(radix, [new Digits(one)]);\n            }\n\n            const pows = Digits.__pow2__pows.get(radix);\n            for (let i = pows.length; i <= pow; ++i) {\n                const prevPow2 = pows[i - 1];\n                const pow2 = new Digits(prevPow2);\n                pow2.mul2();\n                pows.push(pow2);\n            }\n\n            return pows[pow];\n        }\n\n        _radix: number;\n        _data: Array<number>;\n\n        public get radix(): number { return this._radix; }\n\n        public get data(): ReadonlyArray<number> { return this._data; }\n\n        constructor(value: number | IDigits | string = '0') {\n            this._radix = 10;\n            this._data = [];\n            if (typeof value === 'number') {\n                this.setFromNumber(value);\n            }\n            else if (typeof value === 'string') {\n                this.setFromString(value);\n            }\n            else {\n                this.setFromDigits(value);\n            }\n        }\n\n        public setFromDigits(other: IDigits): void {\n            this._radix = other.radix;\n            this._data.length = 0;\n            this._data.push(...other.data);\n        }\n\n        public setFromNumber(value: number): void {\n            if (value < 0) throw new Error('negative values are not supported');\n\n            this.setToZero(10);\n\n            while (value > 0) {\n                let digit = value % 10;\n                this._data.push(digit);\n\n                value = (value - digit) / 10;\n            }\n        }\n\n        public setFromString(value: string = '0'): void {\n            this._radix = Digits.parseRadix(value);\n            if (this._radix !== 10) {\n                value = value.slice(2);\n            }\n\n            this._data.length = 0;\n            for (let i = value.length - 1; i >= 0; --i) {\n                let digit = Digits.charToDigit(value.charCodeAt(i));\n                if (digit >= this._radix) {\n                    throw new Error(`digit ${digit} bigger than radix ${this._radix}`);\n                }\n                this._data.push(digit);\n            }\n\n            this.shrink();\n        }\n\n        private static __setBitFields__digits = new Digits();\n        public setFromBitFields(fieldSizes: Array<number>, fields: Array<number>): void {\n            this.setToZero(2);\n\n            let digits = Digits.__setBitFields__digits;\n            for (let i = 0; i < fields.length; ++i) {\n                let field = fields[i];\n                let fieldSize = fieldSizes[i];\n\n                digits.setFromNumber(field);\n                digits.setRadix(2);\n                for (let j = 0; j < fieldSize; ++j) {\n                    let bit = j < digits._data.length ? digits._data[j] : 0;\n                    this._data.push(bit);\n                }\n            }\n\n            this.shrink();\n        }\n\n        private static __readBitFields__digits = new Digits();\n        public readBitFields(fieldSizes: Array<number>): Array<number> {\n            let digits: Digits = this;\n            if (this._radix != 2) {\n                digits = Digits.__readBitFields__digits;\n                digits.setFromDigits(this);\n                digits.setRadix(2);\n            }\n\n            let fields = [];\n            let offset = 0;\n            for (let size of fieldSizes) {\n                let field = 0;\n                for (let pow = 0; pow < size; ++pow) {\n                    let bit = offset < digits._data.length ? digits._data[offset] : 0;\n                    if (bit !== 0) {\n                        field += Math.pow(2, pow);\n                    }\n\n                    ++offset;\n                }\n                fields.push(field);\n            }\n\n            return fields;\n        }\n\n        public setToZero(radix: number = -1): void {\n            if (radix !== -1) {\n                Digits.radixToPrefix(radix);\n                this._radix = radix;\n            }\n            this._data.length = 0;\n        }\n\n        private static __convertToRadix__digits = new Digits();\n        public setRadix(radix_: number | string): void {\n            const radix = typeof radix_ === 'number' ? radix_ : Digits.parseRadix(radix_);\n            if (radix === this._radix) return;\n            Digits.radixToPrefix(radix);\n\n            if (radix === 2) {\n                let bitsCount = 0;\n                while (true) {\n                    const nextPow = bitsCount;\n                    const nextPow2 = Digits.pow2(this._radix, nextPow);\n                    if (this.compare(nextPow2) === Ordering.Less) {\n                        break;\n                    }\n\n                    ++bitsCount;\n                }\n\n                let digits = Digits.__convertToRadix__digits;\n                digits.setFromDigits(this);\n\n                this.setToZero(2);\n\n                for (let pow = bitsCount; pow >= 0; --pow) {\n                    let pow2 = Digits.pow2(digits._radix, pow);\n                    if (pow2.compare(digits) === Ordering.Greater) {\n                        this._data.push(0);\n                    }\n                    else {\n                        this._data.push(1);\n                        digits.sub(pow2);\n                    }\n                }\n                this._data.reverse();\n\n                this.shrink();\n            }\n            else {\n                this.setRadix(2);\n\n                let digits = Digits.__convertToRadix__digits;\n                digits.setToZero(radix);\n\n                for (let pow = 0; pow < this._data.length; ++pow) {\n                    const bit = this._data[pow];\n                    if (bit === 1) {\n                        const pow2 = Digits.pow2(radix, pow);\n                        digits.add(pow2);\n                    }\n                }\n\n                this.setFromDigits(digits);\n            }\n        }\n\n        private static __compare__digits = new Digits();\n        public compare(other: IDigits): Ordering {\n            if (this._radix !== other.radix) {\n                Digits.__compare__digits.setFromDigits(other);\n                Digits.__compare__digits.setRadix(this._radix);\n                other = Digits.__compare__digits;\n            }\n\n            if (this._data.length !== other.data.length) {\n                return this._data.length > other.data.length ? Ordering.Greater : Ordering.Less;\n            }\n\n            for (let i = this._data.length - 1; i >= 0; --i) {\n                let a = this._data[i];\n                let b = other.data[i];\n                if (a < b) return Ordering.Less;\n                if (a > b) return Ordering.Greater;\n            }\n            return Ordering.Equal;\n        }\n\n        private static __add__digits = new Digits();\n        public add(other: IDigits): void {\n            if (this._radix !== other.radix) {\n                Digits.__add__digits.setFromDigits(other);\n                Digits.__add__digits.setRadix(this._radix);\n                other = Digits.__add__digits;\n            }\n\n            const maxLen = Math.max(this._data.length, other.data.length);\n\n            let t = 0;\n            for (let i = 0; i < maxLen; ++i) {\n                let a = i < this._data.length ? this._data[i] : 0;\n                let b = i < other.data.length ? other.data[i] : 0;\n\n                let r = -this._radix + a + b + t;\n                if (r < 0) {\n                    r += this._radix;\n                    t = 0;\n                }\n                else {\n                    t = 1;\n                }\n\n                this._data[i] = r;\n            }\n            if (t != 0) {\n                this._data.push(t);\n            }\n        }\n\n        private static __sub__digits = new Digits();\n        public sub(other: IDigits): void {\n            if (this._radix !== other.radix) {\n                Digits.__sub__digits.setFromDigits(other);\n                Digits.__sub__digits.setRadix(this._radix);\n                other = Digits.__sub__digits;\n            }\n\n            let cmp = this.compare(other);\n            if (cmp === Ordering.Less) throw new Error('cant subtract a larger value');\n            if (cmp === Ordering.Equal) {\n                this.setToZero();\n                return;\n            }\n\n            let t = 0;\n            for (let i = 0; i < this._data.length; ++i) {\n                let a = this._data[i];\n                let b = i < other.data.length ? other.data[i] : 0;\n\n                let r = a - b + t;\n                if (r < 0) {\n                    r += this._radix;\n                    t = -1;\n                }\n                else {\n                    t = 0;\n                }\n\n                this._data[i] = r;\n            }\n\n            this.shrink();\n        }\n\n        public mul2(): void {\n            let t = 0;\n            for (let i = 0; i < this._data.length; ++i) {\n                let a = this._data[i];\n\n                let r = -this._radix + a + a + t;\n                if (r < 0) {\n                    r += this._radix;\n                    t = 0;\n                }\n                else {\n                    t = 1;\n                }\n\n                this._data[i] = r;\n            }\n            if (t != 0) {\n                this._data.push(t);\n            }\n        }\n\n        private shrink(): void {\n            let lastSignificantDigit = this._data.length - 1;\n            while (lastSignificantDigit >= 0 && this._data[lastSignificantDigit] === 0) {\n                --lastSignificantDigit;\n            }\n            this._data.length = lastSignificantDigit + 1;\n        }\n\n        public toString() {\n            if (this._data.length === 0) {\n                return Digits.radixToPrefix(this._radix) + '0';\n            }\n\n            let str = '';\n            for (const digit of this._data) {\n                str = Digits.digitToChar(digit) + str;\n            }\n            return Digits.radixToPrefix(this._radix) + str;\n        }\n\n        public static codeOf(char: string): number {\n            return char.charCodeAt(0);\n        }\n\n        public static parseRadix(value: string): number {\n            if (value.charCodeAt(0) === Digits.codeOf('0')) {\n                switch (value.charCodeAt(1)) {\n                    case Digits.codeOf('K'): return 1000000000000000;\n                    case Digits.codeOf('x'): return 16;\n                    case Digits.codeOf('o'): return 8;\n                    case Digits.codeOf('b'): return 2;\n                }\n            }\n            return 10;\n        }\n\n        public static radixToPrefix(radix: number): string {\n            switch (radix) {\n                case 1000000000000000: return '0K';\n                case 16: return '0x';\n                case 10: return '';\n                case 8: return '0o';\n                case 2: return '0b';\n            }\n            throw new Error(`unsupported radix: ${radix}`);\n        }\n\n        public static charToDigit(char: number): number {\n            switch (char) {\n                case Digits.codeOf('0'): return 0;\n                case Digits.codeOf('1'): return 1;\n                case Digits.codeOf('2'): return 2;\n                case Digits.codeOf('3'): return 3;\n                case Digits.codeOf('4'): return 4;\n                case Digits.codeOf('5'): return 5;\n                case Digits.codeOf('6'): return 6;\n                case Digits.codeOf('7'): return 7;\n                case Digits.codeOf('8'): return 8;\n                case Digits.codeOf('9'): return 9;\n                case Digits.codeOf('a'):\n                case Digits.codeOf('A'): return 10;\n                case Digits.codeOf('b'):\n                case Digits.codeOf('B'): return 11;\n                case Digits.codeOf('c'):\n                case Digits.codeOf('C'): return 12;\n                case Digits.codeOf('d'):\n                case Digits.codeOf('D'): return 13;\n                case Digits.codeOf('e'):\n                case Digits.codeOf('E'): return 14;\n                case Digits.codeOf('f'):\n                case Digits.codeOf('F'): return 15;\n            }\n            throw new Error(`unknown character of digit: ${char}`);\n        }\n\n        public static digitToChar(digit: number): string {\n            switch (digit) {\n                case 0: return '0';\n                case 1: return '1';\n                case 2: return '2';\n                case 3: return '3';\n                case 4: return '4';\n                case 5: return '5';\n                case 6: return '6';\n                case 7: return '7';\n                case 8: return '8';\n                case 9: return '9';\n                case 10: return 'A';\n                case 11: return 'B';\n                case 12: return 'C';\n                case 13: return 'D';\n                case 14: return 'E';\n                case 15: return 'F';\n            }\n            throw new Error(`unsupported digit: ${digit}`);\n        }\n    }\n}","namespace panda {\n\texport interface Factory<T> {\n\t\tnew(...args: any[]): T;\n\t}\n}\n","namespace panda {\n\texport namespace GlobalErrorListener {\n\t\texport var onGlobalError: Signal<(msg: string, url: string, line: number, col: number, error: any) => void> = null;\n\t\texport function init(): void {\n\t\t\tonGlobalError = new Signal<(msg: string, url: string, line: number, col: number, error: any) => void>();\n\t\t}\n\t\tvar _suppresOtput: boolean = false;\n\t\texport function suppresNextOtput() {\n\t\t\t_suppresOtput = true;\n\t\t}\n\t\texport function isOutputSupressed(): boolean {\n\t\t\tlet supress = _suppresOtput;\n\t\t\t_suppresOtput = false;\n\t\t\treturn supress;\n\t\t}\n\t}\n}","///ts:ref=Console\n/// <reference path=\"../console/Console.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport namespace GlobalInstanceChecker {\n\t\texport type ItemType = { getIsValid: () => boolean, getName: () => string, uniqId: number };\n\t\tvar set: Set<ItemType> = new Set();\n\n\t\texport function watch(item: ItemType) {\n\t\t\tset.add(item);\n\t\t}\n\n\t\texport function unWatch(item: ItemType) {\n\t\t\tset.delete(item);\n\t\t}\n\n\t\texport function check(): void {\n\t\t\tset.forEach(item => {\n\t\t\t\tif (item && item.getIsValid()) {\n\t\t\t\t\tConsole.errorUncritical(new AdvancedError('Valid leaked iterator ' + item.getName()));\n\t\t\t\t}\n\t\t\t});\n\t\t\tset = new Set();\n\t\t}\n\t}\n}","namespace panda {\n\texport namespace Guid {\n\t\texport function generate(): string {\n\t\t\t//http://stackoverflow.com/a/2117523\n\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\t\t\tvar r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n\t\t\t\treturn v.toString(16);\n\t\t\t});\n\t\t}\n\t}\n}","namespace panda {\n\texport namespace HTMLUtils {\n\t\texport function addClass(elem: HTMLElement, cls: string): void {\n\t\t\tif (elem.className.length === 0) {\n\t\t\t\telem.className = cls;\n\t\t\t} else {\n\t\t\t\tlet list = elem.className.split(' ');\n\t\t\t\tif (list.indexOf(cls) < 0) {\n\t\t\t\t\telem.className += ' ' + cls;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\texport function removeClass(elem: HTMLElement, cls: string): void {\n\t\t\tlet list = elem.className.split(' ');\n\t\t\tlet index = list.indexOf(cls);\n\t\t\tif (index >= 0) {\n\t\t\t\tlist.splice(index, 1);\n\t\t\t\telem.className = list.join(' ');\n\t\t\t}\n\t\t}\n\n\t\texport function createXML(rootName: string = '') {\n\t\t\tvar xmlDoc = CreateMSXMLDocumentObject();\n\t\t\tif (xmlDoc) {\n\t\t\t\tif (rootName) {\n\t\t\t\t\tvar rootNode = xmlDoc.createElement(rootName);\n\t\t\t\t\txmlDoc.appendChild(rootNode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (document.implementation && document.implementation.createDocument) {\n\t\t\t\t\txmlDoc = document.implementation.createDocument('', rootName, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn xmlDoc;\n\t\t}\n\n\t\tfunction CreateMSXMLDocumentObject() {\n\t\t\tif (typeof (ActiveXObject) != \"undefined\") {\n\t\t\t\tvar progIDs = [\n\t\t\t\t\t\"Msxml2.DOMDocument.6.0\",\n\t\t\t\t\t\"Msxml2.DOMDocument.5.0\",\n\t\t\t\t\t\"Msxml2.DOMDocument.4.0\",\n\t\t\t\t\t\"Msxml2.DOMDocument.3.0\",\n\t\t\t\t\t\"MSXML2.DOMDocument\",\n\t\t\t\t\t\"MSXML.DOMDocument\"\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < progIDs.length; i++) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject(progIDs[i]);\n\t\t\t\t\t} catch (e) { };\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\texport function setXMLTextContent(elem: any, text: string): void {\n\t\t\tif (elem.textContent) {\n\t\t\t\telem.textContent = text;\n\t\t\t} else {\n\t\t\t\telem.text = text;\n\t\t\t}\n\t\t}\n\n\t\texport function setTextContent(elem: HTMLElement, text: string): void {\n\t\t\tif (elem.textContent) {\n\t\t\t\telem.textContent = text;\n\t\t\t} else {\n\t\t\t\telem.innerText = text;\n\t\t\t}\n\t\t}\n\n\t\texport function getEventTarget(e: Event): EventTarget {\n\t\t\treturn e.target || e.srcElement;\n\t\t}\n\n\t\texport function init() {\n\t\t\tonWindowResize = new Signal<() => void>();\n\t\t}\n\n\t\texport var onWindowResize: Signal<() => void>;\n\t}\n}","///ts:ref=Url\n/// <reference path=\"../net/url/Url.ts\"/> ///ts:ref:generated\nnamespace panda {\n\texport import Url = panda.url.Url;\n\texport function Initializer(usePerfMonior: boolean = true, initSocialInfo:()=>void = initSocialInfoDefault): void {\n\t\taddPolyfills();\n\t\taddMapFlashMethods();\n\t\tpanda.settings.URL_USE_ROOT = true;\n\t\tGlobalErrorListener.init();\n\t\twindow.onerror = ChainerSync.chain(window, window.onerror, function (msg: string, url: string, line: number, col?: number, error?: any): boolean {\n\t\t\tGlobalErrorListener.onGlobalError.emit(msg, url, line, col, error);\n\t\t\treturn GlobalErrorListener.isOutputSupressed();\n\t\t});\n\n\t\tHTMLUtils.init();\n\t\twindow.onresize = ChainerSync.chain(window, window.onresize, function (): void {\n\t\t\tHTMLUtils.onWindowResize.emit();\n\t\t});\n\n\n\t\tConsole.$INIT();\n\t\t// if (BuildInfo.online === 'true') {\n\t\t// \tlet sender = new FlogsSender();\n\t\t// \t(window as any)['FlogsSenderInst'] = sender;\n\t\t// \tConsole.onLog.addListener(sender.handler_log);\n\t\t// }\n\t\tinitSocialInfo();\n\t\tlet statUrl: panda.url.Url = new panda.url.Url();\n\t\tstatUrl.hostname = 'stat.crazypanda.ru';\n\t\tstatUrl.pathname = 'event';\n\t\tStat.intance = new Stat(statUrl, 100);\n\t\tGlobalInstanceChecker.check();\n\t\tMainLoop.init(usePerfMonior);\n\t}\n\t\n\tfunction addMapFlashMethods() {\t\t\n\t\tfunction transformKey (key:any):any {\n\t\t\tlet keyType = typeof key;\n\t\t\tif (keyType === 'object' && key !== null ) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t\tif (keyType === 'string') {\n\t\t\t\tlet parsed = parseInt(key);\n\t\t\t\tif (Introspection.isUint(parsed) && (''+ parsed) === key && parsed <= 268435455) {\n\t\t\t\t\treturn parsed;\n\t\t\t\t}\n\t\t\t\treturn key;\n\t\t\t}\n\t\t\tif (keyType === 'number' && Introspection.isUint(key) && key <= 268435455) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t\treturn \"\" + key;\n\t\t}\n\t\t\n\t\tlet mapProto:any = Map.prototype;\n\t\t// delete(key: K): boolean;\n\t\tmapProto.fdelete = function(key:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.delete(newKey);\n\t\t}\n\t\t\n\t\t// get(key: K): V | undefined;\n\t\tmapProto.fget = function(key:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.get(newKey);\n\t\t}\n\t\t\n\t\t// has(key: K): boolean;\n\t\tmapProto.fhas = function(key:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.has(newKey);\n\t\t}\n\t\t\n\t\t// set(key: K, value: V): this;\n\t\tmapProto.fset = function(key:any, value:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.set(newKey, value);\n\t\t}\n\t\t\n\t\tmapProto = WeakMap.prototype;\n\t\t\n\t\t// delete(key: K): boolean;\n\t\tmapProto.fdelete = function(key:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.delete(newKey);\n\t\t}\n\t\t\n\t\t// get(key: K): V | undefined;\n\t\tmapProto.fget = function(key:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.get(newKey);\n\t\t}\n\t\t\n\t\t// has(key: K): boolean;\n\t\tmapProto.fhas = function(key:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.has(newKey);\n\t\t}\n\t\t\n\t\t// set(key: K, value: V): this;\n\t\tmapProto.fset = function(key:any, value:any) {\n\t\t\tlet newKey = transformKey(key);\n\t\t\treturn this.set(newKey, value);\n\t\t}\n\t}\n\n\tfunction addPolyfills() {\n\t\tif (!(Error as any).throwError) {\n\t\t\t(Error as any).throwError = function (cls: any, code: any, type: any): Error {\n\t\t\t\tthrow new cls(type);\n\t\t\t}\n\t\t}\n\n\t\tif (!Date.prototype.toISOString) {\n\t\t\t(function () {\n\t\t\t\tfunction pad(val: any) {\n\t\t\t\t\tif (val < 10) {\n\t\t\t\t\t\treturn '0' + val;\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\n\t\t\t\tDate.prototype.toISOString = function () {\n\t\t\t\t\treturn this.getUTCFullYear() +\n\t\t\t\t\t\t'-' + pad(this.getUTCMonth() + 1) +\n\t\t\t\t\t\t'-' + pad(this.getUTCDate()) +\n\t\t\t\t\t\t'T' + pad(this.getUTCHours()) +\n\t\t\t\t\t\t':' + pad(this.getUTCMinutes()) +\n\t\t\t\t\t\t':' + pad(this.getUTCSeconds()) +\n\t\t\t\t\t\t'.' + (this.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +\n\t\t\t\t\t\t'Z';\n\t\t\t\t};\n\t\t\t}());\n\t\t}\n\t\tif (!(<any>Date).prototype.hours) {\n\t\t\tlet readWrite: any = {\n\t\t\t\t'date': 'Date',\n\t\t\t\t'dateUTC': 'UTCDate',\n\t\t\t\t'fullYear': 'FullYear',\n\t\t\t\t'fullYearUTC': 'UTCFullYear',\n\t\t\t\t'hours': 'Hours',\n\t\t\t\t'hoursUTC': 'UTCHours',\n\t\t\t\t'milliseconds': 'Milliseconds',\n\t\t\t\t'millisecondsUTC': 'UTCMilliseconds',\n\t\t\t\t'minutes': 'Minutes',\n\t\t\t\t'minutesUTC': 'UTCMinutes',\n\t\t\t\t'month': 'Month',\n\t\t\t\t'monthUTC': 'UTCMonth',\n\t\t\t\t'seconds': 'Seconds',\n\t\t\t\t'secondsUTC': 'UTCSeconds',\n\t\t\t\t'time': 'Time',\n\n\t\t\t}\n\t\t\tlet readonly: any = {\n\t\t\t\t'day': 'Day',\n\t\t\t\t'dayUTC': 'UTCDay',\n\t\t\t\t'timezoneOffset': 'TimezoneOffset',\n\t\t\t}\n\n\t\t\tfor (let propName in readWrite) {\n\t\t\t\tObject.defineProperty(Date.prototype, propName, {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tget: (<any>Date).prototype['get' + readWrite[propName]],\n\t\t\t\t\tset: (<any>Date).prototype['set' + readWrite[propName]]\n\t\t\t\t})\n\t\t\t}\n\t\t\tfor (let propName in readonly) {\n\t\t\t\tObject.defineProperty(Date.prototype, propName, {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tget: (<any>Date).prototype['get' + readonly[propName]]\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tif (!Array.prototype.filter) {\n\t\t\tArray.prototype.filter = function (fun: Function/*, thisArg*/) {\n\t\t\t\t'use strict';\n\n\t\t\t\tif (this === void 0 || this === null) {\n\t\t\t\t\tthrow new TypeError();\n\t\t\t\t}\n\n\t\t\t\tvar t = Object(this);\n\t\t\t\tvar len = t.length >>> 0;\n\t\t\t\tif (typeof fun !== 'function') {\n\t\t\t\t\tthrow new TypeError();\n\t\t\t\t}\n\n\t\t\t\tvar res = new Array<any>();\n\t\t\t\tvar thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n\t\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\t\tif (i in t) {\n\t\t\t\t\t\tvar val = t[i];\n\n\t\t\t\t\t\t// NOTE: Technically this should Object.defineProperty at\n\t\t\t\t\t\t//       the next index, as push can be affected by\n\t\t\t\t\t\t//       properties on Object.prototype and Array.prototype.\n\t\t\t\t\t\t//       But that method's new, and collisions should be\n\t\t\t\t\t\t//       rare, so use the more-compatible alternative.\n\t\t\t\t\t\tif (fun.call(thisArg, val, i, t)) {\n\t\t\t\t\t\t\tres.push(val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\tif (!Array.prototype.indexOf) {\n\t\t\tArray.prototype.indexOf = function Array_indexOf(elt /*, from*/) {\n\t\t\t\tvar len = this.length >>> 0;\n\t\t\t\tvar from = Number(arguments[1]) || 0;\n\t\t\t\tfrom = (from < 0)\n\t\t\t\t\t? Math.ceil(from)\n\t\t\t\t\t: Math.floor(from);\n\t\t\t\tif (from < 0)\n\t\t\t\t\tfrom += len;\n\n\t\t\t\tfor (; from < len; from++) {\n\t\t\t\t\tif (from in this &&\n\t\t\t\t\t\tthis[from] === elt)\n\t\t\t\t\t\treturn from;\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t};\n\t\t}\n\t\t//https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\n\t\t// Production steps of ECMA-262, Edition 5, 15.4.4.21\n\t\t// Reference: http://es5.github.io/#x15.4.4.21\n\n\t\tif (!Array.prototype.reduce) {\n\t\t\tArray.prototype.reduce = function Array_reduce(callback: Function /*, initialValue*/) {\n\t\t\t\t'use strict';\n\t\t\t\tif (this === null) {\n\t\t\t\t\tthrow new TypeError('Array.prototype.reduce called on null or undefined');\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'function') {\n\t\t\t\t\tthrow new TypeError(callback + ' is not a function');\n\t\t\t\t}\n\t\t\t\tvar t = Object(this), len = t.length >>> 0, k = 0, value: any;\n\t\t\t\tif (arguments.length == 2) {\n\t\t\t\t\tvalue = arguments[1];\n\t\t\t\t} else {\n\t\t\t\t\twhile (k < len && !(k in t)) {\n\t\t\t\t\t\tk++;\n\t\t\t\t\t}\n\t\t\t\t\tif (k >= len) {\n\t\t\t\t\t\tthrow new TypeError('Reduce of empty array with no initial value');\n\t\t\t\t\t}\n\t\t\t\t\tvalue = t[k++];\n\t\t\t\t}\n\t\t\t\tfor (; k < len; k++) {\n\t\t\t\t\tif (k in t) {\n\t\t\t\t\t\tvalue = callback(value, t[k], k, t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t};\n\t\t}\n\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\n\t\t// Production steps of ECMA-262, Edition 5, 15.4.4.19\n\t\t// Reference: http://es5.github.io/#x15.4.4.19\n\t\tif (!Array.prototype.map) {\n\t\t\tArray.prototype.map = <any>function Array_map(callback: Function, thisArg: any) {\n\t\t\t\tvar T: any, A: any, k: any;\n\t\t\t\tif (this === null) {\n\t\t\t\t\tthrow new TypeError(' this is null or not defined');\n\t\t\t\t}\n\n\t\t\t\t// 1. Let O be the result of calling ToObject passing the |this| \n\t\t\t\t//    value as the argument.\n\t\t\t\tvar O = Object(this);\n\n\t\t\t\t// 2. Let lenValue be the result of calling the Get internal \n\t\t\t\t//    method of O with the argument \"length\".\n\t\t\t\t// 3. Let len be ToUint32(lenValue).\n\t\t\t\tvar len = O.length >>> 0;\n\n\t\t\t\t// 4. If IsCallable(callback) is false, throw a TypeError exception.\n\t\t\t\t// See: http://es5.github.com/#x9.11\n\t\t\t\tif (typeof callback !== 'function') {\n\t\t\t\t\tthrow new TypeError(callback + ' is not a function');\n\t\t\t\t}\n\n\t\t\t\t// 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n\t\t\t\tif (arguments.length > 1) {\n\t\t\t\t\tT = thisArg;\n\t\t\t\t}\n\n\t\t\t\t// 6. Let A be a new array created as if by the expression new Array(len) \n\t\t\t\t//    where Array is the standard built-in constructor with that name and \n\t\t\t\t//    len is the value of len.\n\t\t\t\tA = new Array(len);\n\n\t\t\t\t// 7. Let k be 0\n\t\t\t\tk = 0;\n\n\t\t\t\t// 8. Repeat, while k < len\n\t\t\t\twhile (k < len) {\n\n\t\t\t\t\tvar kValue: any, mappedValue: any;\n\n\t\t\t\t\t// a. Let Pk be ToString(k).\n\t\t\t\t\t//   This is implicit for LHS operands of the in operator\n\t\t\t\t\t// b. Let kPresent be the result of calling the HasProperty internal \n\t\t\t\t\t//    method of O with argument Pk.\n\t\t\t\t\t//   This step can be combined with c\n\t\t\t\t\t// c. If kPresent is true, then\n\t\t\t\t\tif (k in O) {\n\n\t\t\t\t\t\t// i. Let kValue be the result of calling the Get internal \n\t\t\t\t\t\t//    method of O with argument Pk.\n\t\t\t\t\t\tkValue = O[k];\n\n\t\t\t\t\t\t// ii. Let mappedValue be the result of calling the Call internal \n\t\t\t\t\t\t//     method of callback with T as the this value and argument \n\t\t\t\t\t\t//     list containing kValue, k, and O.\n\t\t\t\t\t\tmappedValue = callback.call(T, kValue, k, O);\n\n\t\t\t\t\t\t// iii. Call the DefineOwnProperty internal method of A with arguments\n\t\t\t\t\t\t// Pk, Property Descriptor\n\t\t\t\t\t\t// { Value: mappedValue,\n\t\t\t\t\t\t//   Writable: true,\n\t\t\t\t\t\t//   Enumerable: true,\n\t\t\t\t\t\t//   Configurable: true },\n\t\t\t\t\t\t// and false.\n\n\t\t\t\t\t\t// In browsers that support Object.defineProperty, use the following:\n\t\t\t\t\t\t// Object.defineProperty(A, k, {\n\t\t\t\t\t\t//   value: mappedValue,\n\t\t\t\t\t\t//   writable: true,\n\t\t\t\t\t\t//   enumerable: true,\n\t\t\t\t\t\t//   configurable: true\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// For best browser support, use the following:\n\t\t\t\t\t\tA[k] = mappedValue;\n\t\t\t\t\t}\n\t\t\t\t\t// d. Increase k by 1.\n\t\t\t\t\tk++;\n\t\t\t\t}\n\n\t\t\t\t// 9. return A\n\t\t\t\treturn A;\n\t\t\t};\n\t\t}\n\n\t\tif (typeof WeakSet !== 'undefined') {\n\t\t\tinsertWeakSet();\n\t\t}\n\n\t\t// if (typeof performance === 'undefined') {\n\t\t// \t(window as any)['performance'] = {};\n\t\t// }\n\n\t\t// 59ac1914-6ac4-4d56-99de-1666ea682655\n\t\t// смотри соответствующий тест, быстрого и адекватного способа задетектить что performance.now работает корректно не найдено\n\n\t\t// if (!checkPerformanceNowWorks()) {\n\t\t// \tlet polyfill: Function;\n\t\t// \tif (typeof Date.now === 'undefined') {\n\t\t// \t\tconsole.log('!ACHTUNG!  Date.now is not available');\n\t\t// \t\tpolyfill = function () {\n\t\t// \t\t\treturn (new Date()).getTime();\n\t\t// \t\t}\n\t\t// \t} else {\n\t\t// \t\tpolyfill = function () {\n\t\t// \t\t\treturn Date.now();\n\t\t// \t\t}\n\t\t// \t}\n\t\t// \t(window as any)['performance']['now'] = polyfill;\n\t\t// }\n\t\t// function checkPerformanceNowWorks(): boolean {\n\t\t// 59ac1914-6ac4-4d56-99de-1666ea682655\n\t\t// \treturn true;\n\t\t// }\n\t}\n\n\tfunction insertWeakSet() {\n\t\tvar all = new WeakMap();\n\t\tvar proto = WeakSet.prototype;\n\t\tproto.add = function (value: any) {\n\t\t\treturn all.get(this).set(value, 1), this;\n\t\t};\n\t\tproto.delete = function (value: any) {\n\t\t\treturn all.get(this).delete(value);\n\t\t};\n\t\tproto.has = function (value: any) {\n\t\t\treturn all.get(this).has(value);\n\t\t};\n\t\t(window as any)['WeakSet'] = WeakSet;\n\t\tfunction WeakSet(iterable: any) {\n\t\t\t'use strict';\n\t\t\tall.set(this, new WeakMap);\n\t\t\tif (iterable)\n\t\t\t\titerable.forEach(this.add, this);\n\t\t}\n\t}\n\n\tfunction initSocialInfoDefault(): void {\n\t\tinterface SocialStatInfo {\n\t\t\tproject: string,\n\t\t\tsite: string,\n\t\t\tuid: string\n\t\t}\n\t\tinterface Social {\n\t\t\tconfig: {\n\t\t\t\tstat: SocialStatInfo\n\t\t\t}\n\t\t}\n\n\t\tlet social = (<any>window).social as Social;\n\t\tif (!social || !social.config || !social.config.stat) {\n\t\t\treturn;\n\t\t}\n\t\tlet statInfo = social.config.stat;\n\t\tlet info = PlatformDescriber.getInfo();\n\t\tinfo.sns = statInfo.site;\n\t\tinfo.userId = statInfo.uid;\n\t\tinfo.project = statInfo.project;\n\t}\n}\n\n","namespace panda {\n\texport namespace Introspection {\n\t\t// see http://stackoverflow.com/questions/332422/how-do-i-get-the-name-of-an-objects-type-in-javascript\n\n\t\t//const funcNameRegex:RegExp = /function ([^\\( ]+?)\\(/;\n\t\tconst funcNameRegex: RegExp = /function ([^\\s\\.]*?) ?\\(/;\n\t\tconst classNameRegex: RegExp = /class ([^\\s\\.]*?)\\s+/;\n\t\tconst objNameRegex: RegExp = /\\[object (.+)\\]/;\n\n\t\t/*\n\t\texport var equal:Map<string, number> = new Map();\n\t\texport var diff:Map<string, number> = new Map();\n\t\texport var all:Map<string, number> = new Map();\n\n\t\tfunction inc(map:Map<string, number>, key:string) {\n\t\t\tmap.set(key, map.has(key) ? map.get(key) + 1 : 1);\n\t\t}\n\t\t*/\n\n\t\texport function getClassName(obj: any): string {\n\t\t\tlet name = getClassName2(obj);\n\t\t\tif (name == 'symbolClass') {\n\t\t\t\tthrow new Error('invalid class name \"symbolClass\"');\n\t\t\t}\n\t\t\treturn name;\n\t\t\t/*\n\t\t\tlet n1 = getClassName1(obj);\n\t\t\tlet n2 = getClassName2(obj);\n\t\t\tlet n3 = null;\n\t\t\tif (obj && obj.multiname != null && obj.multiname.name != null) {\n\t\t\t\tn3 = obj.multiname.name;\n\t\t\t}\n\t\t\tif (n1 != n2) {\n\t\t\t\tif (n2 == 'JSON') {\n\t\t\t\t\tinc(equal, ''+n1+' '+n2);\n\t\t\t\t}\n\t\t\t\telse if (n2 == 'ResourceShop') {\n\t\t\t\t\tinc(equal, ''+n1+' '+n2);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinc(diff, ''+n1+' '+n2);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (n2 == 'String') {\n\t\t\t\t\tinc(equal, ''+n1+' '+n2);\n\t\t\t\t}\n\t\t\t\telse if (n2 == 'Number') {\n\t\t\t\t\tinc(equal, ''+n1+' '+n2);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tinc(equal, ''+n1+' '+n2);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (n1 == 'Function' && n2 != '' &&  n3 != null) {\n\t\t\t\tlet b = true;\n\t\t\t}\n\t\t\tn1 = getClassName1(obj);\n\t\t\tn2 = getClassName2(obj);\n\t\t\tinc(all, n1);\n\t\t\tinc(all, n2);\n\t\t\treturn n2;\n\t\t\t*/\n\t\t}\n\n\t\texport var getClassName2Cache: WeakMap<any, string> = new WeakMap();\n\t\texport var getClassName2StringCache: Map<string, string> = new Map();\n\n\t\texport function getClassName2(v: any): string {\n\t\t\tif (v === undefined) {\n\t\t\t\treturn 'undefined';\n\t\t\t}\n\t\t\tif (v === null) {\n\t\t\t\treturn 'null';\n\t\t\t}\n\n\t\t\tlet cached = getClassName2Cache.get(v);\n\t\t\tif (cached != null) {\n\t\t\t\treturn cached;\n\t\t\t}\n\n\t\t\tlet str: string = Object.prototype.toString.call(v);\n\t\t\tlet result = str;\n\n\t\t\tswitch (str) {\n\t\t\t\tcase '[object Boolean]':\n\t\t\t\t\tresult = 'Boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '[object Number]':\n\t\t\t\t\tresult = 'Number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '[object String]':\n\t\t\t\t\tresult = 'String';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '[object Array]':\n\t\t\t\t\tresult = 'Array';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '[object Object]':\n\t\t\t\t\tif (v.constructor != null && typeof v.constructor == 'function') {\n\t\t\t\t\t\tresult = getClassName2(v.constructor);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tresult = 'Object';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase '[object Function]':\n\t\t\t\t\tif (v.multiname != null && v.multiname.name != null) {\n\t\t\t\t\t\tresult = v.multiname.name;\n\t\t\t\t\t}\n\t\t\t\t\telse if (v.name != null) {\n\t\t\t\t\t\tresult = v.name;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet func: string = Function.prototype.toString.call(v);\n\t\t\t\t\t\tresult = func.slice('function '.length, func.indexOf('('));\n\t\t\t\t\t\tif (result == ''/* && !(v instanceof Function)*/) {\n\t\t\t\t\t\t\tresult = 'Function';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tgetClassName2Cache.set(v, result);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tresult = getClassName2StringCache.get(str);\n\t\t\t\t\tif (result == null) {\n\t\t\t\t\t\tresult = str.slice('[object '.length, str.length - 1);\n\t\t\t\t\t\tgetClassName2StringCache.set(str, result);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\texport const classCache: Map<any, string> = new Map();\n\n\t\texport function getClassName1(obj: any): string {\n\t\t\tlet results: Array<string>;\n\t\t\tlet cacheKey: any = null;\n\t\t\tif (obj && obj.constructor && obj.constructor.multiname && obj.constructor.multiname.name) {\n\t\t\t\treturn obj.constructor.multiname.name;\n\t\t\t}\n\t\t\tif (obj === undefined) {\n\t\t\t\treturn typeof undefined;\n\t\t\t} else if (obj === null) {\n\t\t\t\treturn \"null\" // bug in ECMAScript standart\n\t\t\t} else if (obj instanceof Function) {\n\t\t\t\tcacheKey = obj;\n\t\t\t\tlet cached = classCache.get(cacheKey);\n\t\t\t\tif (cached) {\n\t\t\t\t\treturn cached;\n\t\t\t\t}\n\t\t\t\tlet stringRepresentation: string = obj[\"toString\"]();\n\t\t\t\tif (stringRepresentation.indexOf('class ') === 0) {\n\t\t\t\t\tresults = classNameRegex.exec(stringRepresentation);\n\t\t\t\t} else {\n\t\t\t\t\tresults = funcNameRegex.exec(stringRepresentation);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet ctor: any = obj[\"constructor\"];\n\t\t\t\tcacheKey = ctor;\n\t\t\t\tlet cached = classCache.get(cacheKey);\n\t\t\t\tif (cached) {\n\t\t\t\t\treturn cached;\n\t\t\t\t}\n\t\t\t\tlet stringRepresentation: string = ctor[\"toString\"]();\n\t\t\t\tif (stringRepresentation.indexOf('class ') === 0) {\n\t\t\t\t\tresults = classNameRegex.exec(stringRepresentation);\n\t\t\t\t} else {\n\t\t\t\t\tresults = funcNameRegex.exec(stringRepresentation);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet result: string = \"unknown\";\n\t\t\tif (results && results.length > 1) {\n\t\t\t\tresult = results[1];\n\t\t\t\tif (result.length == 0) {\n\t\t\t\t\treturn 'Function'\n\t\t\t\t}\n\t\t\t} else { // IE 11 case for builtInClasses like HTMLDivElement\n\t\t\t\tlet stringified: string = Object.prototype.toString.call(obj);\n\t\t\t\tresults = objNameRegex.exec(stringified);\n\t\t\t\tif (results && results.length > 1) {\n\t\t\t\t\tresult = results[1];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cacheKey !== null && result !== 'unknown') {\n\t\t\t\tclassCache.set(cacheKey, result);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\texport function getPropNames(obj: any): Array<string> {\n\t\t\tlet proto: any = obj;\n\n\t\t\t// нас не интересуют методы которые сами по себе есть на прототипе любого объекта\n\t\t\t// если интересуют то использовать let namesHash = Object.create(null)\n\t\t\tlet namesHash: any = {};\n\n\t\t\twhile (proto) {\n\t\t\t\tlet props = Object.getOwnPropertyNames(proto);\n\t\t\t\tfor (let propName of props) {\n\t\t\t\t\tif (typeof namesHash[propName] === 'undefined') {\n\t\t\t\t\t\tnamesHash[propName] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tproto = getObjectProto(proto);\n\t\t\t}\n\n\t\t\tlet result = new Array<string>();\n\t\t\tfor (let propName in namesHash) {\n\t\t\t\tresult.push(propName);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\texport function getFunctionName(f: Function): string {\n\t\t\tlet results: Array<string> = funcNameRegex.exec(f[\"toString\"]());\n\t\t\tlet result: string = '';\n\t\t\tif (results && results.length > 1) {\n\t\t\t\tresult = results[1]; // may be empty string;\n\t\t\t}\n\t\t\tif (result === '') {\n\t\t\t\treturn 'unknownFunctionName';\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\texport function getObjectProto(obj: any): any {\n\t\t\tif (isPrimitive(obj)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet proto: any = obj['__proto__'];\n\t\t\tif (!proto && Object.getPrototypeOf) {\n\t\t\t\tproto = Object.getPrototypeOf(obj);\n\t\t\t\tif (proto === obj) {\n\t\t\t\t\tproto = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!proto) {\n\t\t\t\tif (typeof obj.constructor == 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tproto = obj.constructor.prototype;\n\t\t\t\tif (proto === obj) {\n\t\t\t\t\tproto = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn proto;\n\t\t}\n\n\t\texport function isPrimitive(obj: any): boolean {\n\t\t\tlet type: string = typeof obj;\n\t\t\treturn obj === undefined || obj === null || type === \"number\" || type === \"string\" || type === \"boolean\";\n\t\t}\n\n\t\texport function isString(obj: any): obj is string {\n\t\t\treturn typeof obj === 'string';\n\t\t}\n\n\t\texport function isArray<T>(obj: any): obj is Array<T> {\n\t\t\treturn Object.prototype.toString.call(obj) === '[object Array]';\n\t\t}\n\n\t\texport function isInt(value: any): value is number {\n\t\t\treturn value === (value | 0);\n\t\t}\n\n\t\texport function isUint(value: any): boolean {\n\t\t\treturn value === (value >>> 0);\n\t\t}\n\n\t\texport function isNumber(value: any): value is number {\n\t\t\treturn typeof value === 'number';\n\t\t}\n\n\t\texport function isBoolean(value: any): boolean {\n\t\t\treturn typeof value === 'boolean';\n\t\t}\n\n\t\texport function isFunction(value: any): value is Function {\n\t\t\treturn typeof value === 'function';\n\t\t}\n\n\t\tvar processedChain: WeakSet<any>;\n\t\texport function makeChainUnEnumerable(obj: any): void { // 2f65eedb-523a-4a43-b90d-5f17e94c50b5\n\t\t\tif (!Object.getOwnPropertyNames) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!processedChain) {\n\t\t\t\tprocessedChain = new WeakSet();\n\t\t\t}\n\t\t\tlet proto = obj;\n\t\t\twhile (proto) {\n\t\t\t\tif (proto === Array.prototype || proto === Object.prototype || processedChain.has(proto)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet keys = Object.getOwnPropertyNames(proto);\n\t\t\t\tfor (var i = 0, l = keys.length; i < l; ++i) {\n\t\t\t\t\tlet key = keys[i];\n\t\t\t\t\tlet desc = Object.getOwnPropertyDescriptor(proto, key);\n\t\t\t\t\tif (desc.enumerable) {\n\t\t\t\t\t\tdesc.enumerable = false;\n\t\t\t\t\t\tObject.defineProperty(proto, key, desc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprocessedChain.add(proto);\n\t\t\t\tproto = proto.__proto__;\n\t\t\t}\n\t\t}\n\n\t\texport function make<T>(cls: Factory<T>, ...args: Array<any>): T {\n\t\t\treturn makeFromArgArray(cls, args);\n\t\t}\n\n\t\texport function makeFromArgArray<T>(cls: Factory<T>, args: Array<any>): T {\n\t\t\tlet inst: T = new (Function.prototype.bind.apply(cls, [cls].concat(args)));\n\t\t\treturn inst;\n\t\t}\n\n\n\t\texport function countBinds(name: string) {\n\t\t\tif (!bindCounts[name]) {\n\t\t\t\tbindCounts[name] = { name: name, count: 1 };\n\t\t\t} else {\n\t\t\t\tbindCounts[name].count++;\n\t\t\t}\n\t\t}\n\n\t\texport enum ClassCounterType {\n\t\t\t'LegacyEntity',\n\t\t\t'bindMethodsIfNeeded',\n\t\t\t'PixiDisplayObject'\n\t\t}\n\n\t\texport function countClasses(cls: any, type: ClassCounterType) {\n\t\t\tlet cp: any = cls;\n\t\t\tlet hasLegacy = false;\n\t\t\tlet names: Array<string> = [];\n\n\t\t\tlet isFunc = false;\n\t\t\tlet isObj = false;\n\t\t\twhile (cp) {\n\t\t\t\tlet name = Introspection.getClassName(cp);\n\t\t\t\tif (names.indexOf(name) < 0) {\n\t\t\t\t\tnames.push(name);\n\t\t\t\t}\n\t\t\t\tif (type == ClassCounterType.bindMethodsIfNeeded) {\n\t\t\t\t\tif (name == \"LegacyEntity\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (name == \"PixiDisplayObject\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcp = Introspection.getObjectProto(cp);\n\t\t\t}\n\n\t\t\tlet name = names[0];\n\t\t\tif (!classCounts[name]) {\n\t\t\t\tclassCounts[name] = { name: name, count: 1 };\n\t\t\t} else {\n\t\t\t\tclassCounts[name].count++;\n\t\t\t}\n\t\t\tfor (let name of names) {\n\t\t\t\tcountClassNestedConstructors(name);\n\t\t\t}\n\t\t}\n\n\t\tfunction countClassNestedConstructors(name: string) {\n\t\t\tif (!classNestedConstructorsCounts[name]) {\n\t\t\t\tclassNestedConstructorsCounts[name] = { name: name, count: 1 };\n\t\t\t} else {\n\t\t\t\tclassNestedConstructorsCounts[name].count++;\n\t\t\t}\n\t\t}\n\n\t\texport var bindCounts: { [name: string]: { name: string, count: number } } = Object.create(null);\n\t\texport var classCounts: { [name: string]: { name: string, count: number } } = Object.create(null);\n\t\texport var classNestedConstructorsCounts: { [name: string]: { name: string, count: number } } = Object.create(null);\n\n\t\texport function bindReport(top: number = 20) {\n\t\t\tlet arr = [];\n\t\t\tfor (let key in Introspection.bindCounts) {\n\t\t\t\tarr.push(Introspection.bindCounts[key]);\n\t\t\t}\n\t\t\treturn arr.sort((a, b) => b.count - a.count).splice(0, top);\n\t\t}\n\n\t\texport function classReport(top: number = 20) {\n\t\t\tlet arr = [];\n\t\t\tfor (let key in Introspection.classCounts) {\n\t\t\t\tarr.push(Introspection.classCounts[key]);\n\t\t\t}\n\t\t\treturn arr.sort((a, b) => b.count - a.count).splice(0, top);\n\t\t}\n\n\t\texport function classNestedConstructorsReport(top: number = 20) {\n\t\t\tlet arr = [];\n\t\t\tfor (let key in Introspection.classNestedConstructorsCounts) {\n\t\t\t\tarr.push(Introspection.classNestedConstructorsCounts[key]);\n\t\t\t}\n\t\t\treturn arr.sort((a, b) => b.count - a.count).splice(0, top);\n\t\t}\n\n\t\texport function bindMethodsIfNeeded(this: void, callee: any, newTarget: any, obj: any): void {\n\t\t\tif (callee !== newTarget) return;\n\t\t\t// count-classes-debug\n\t\t\t// panda.Introspection.countClasses(callee, panda.Introspection.ClassCounterType.bindMethodsIfNeeded);\n\n\t\t\tbindMethods(newTarget, obj);\n\t\t\textractGettersSetters(newTarget, obj);\n\t\t}\n\n\t\tfunction bindMethods(constructor: any, obj: any): void {\n\t\t\tif (obj['__bindMethods_binded__']) {\n\t\t\t\tConsole.errorUncritical(new Error(\"Already binded\"));\n\t\t\t}\n\t\t\tlet methods: Array<{ name: string, desc: PropertyDescriptor }> = null;\n\t\t\tif (constructor.hasOwnProperty('__methodsForBinding__')) {\n\t\t\t\tmethods = constructor['__methodsForBinding__'];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmethods = [];\n\t\t\t\tObject.defineProperty(constructor, '__methodsForBinding__', {\n\t\t\t\t\tvalue: methods,\n\t\t\t\t\tenumerable: false,\n\t\t\t\t});\n\n\t\t\t\tlet binded = new Set();\n\t\t\t\tlet proto = panda.Introspection.getObjectProto(obj);\n\t\t\t\twhile (proto != null && proto != Object.prototype) {\n\t\t\t\t\tlet names = Object.getOwnPropertyNames(proto)\n\t\t\t\t\tfor (let name of names) {\n\t\t\t\t\t\tif (name === 'constructor') continue;\n\n\t\t\t\t\t\tif (binded.has(name)) continue;\n\t\t\t\t\t\tif (!(window as any).bindSet.has(name)) continue;\n\t\t\t\t\t\tbinded.add(name);\n\n\t\t\t\t\t\tlet desc = Object.getOwnPropertyDescriptor(proto, name);\n\t\t\t\t\t\t// if (!desc.enumerable) continue;\n\t\t\t\t\t\tif (desc == null || desc.get != null || desc.set != null) continue;\n\t\t\t\t\t\tif (!panda.Introspection.isFunction(desc.value)) continue;\n\n\t\t\t\t\t\tmethods.push({ name, desc });\n\t\t\t\t\t}\n\n\t\t\t\t\tproto = panda.Introspection.getObjectProto(proto);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let { name, desc } of methods) {\n\t\t\t\t//Introspection.countBinds(name);\n\t\t\t\t//Introspection.countBinds('total');\n\t\t\t\tlet binded = desc.value.bind(obj);\n\t\t\t\t// obj[name] = binded;\n\t\t\t\tObject.defineProperty(obj, name,{\n\t\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\t\tvalue: binded,\n\t\t\t\t\tconfigurable:desc.enumerable,\n\t\t\t\t\twritable:desc.writable\n\t\t\t\t});\n\t\t\t\t(binded as any)['__bind_owner'] = obj;\n\t\t\t}\n\t\t\tObject.defineProperty(obj, '__bindMethods_binded__', { enumerable: false, value: true, configurable:false, writable:false });\n\t\t}\n\n\t\tvar bindCache: WeakMap<Function, WeakMap<any, (...args: any[]) => any>> = new WeakMap();\n\t\texport function cachedBind(func: Function, thisArg: any): (...args: any[]) => any {\n\t\t\tlet table = bindCache.get(func);\n\t\t\tif (!table) {\n\t\t\t\ttable = new WeakMap();\n\t\t\t\tbindCache.set(func, table);\n\t\t\t}\n\t\t\tlet cached = table.get(thisArg);\n\t\t\tif (!cached) {\n\t\t\t\tcached = func.bind(thisArg);\n\t\t\t\ttable.set(thisArg, cached);\n\t\t\t}\n\t\t\treturn cached;\n\t\t}\n\n\t\tfunction extractGettersSetters(constructor: any, obj: any): void {\n\t\t\tif (constructor.hasOwnProperty('__arePropsExtracted__')) return;\n\t\t\tObject.defineProperty(constructor, '__arePropsExtracted__', {\n\t\t\t\tvalue: true,\n\t\t\t\tenumerable: false,\n\t\t\t});\n\n\t\t\tlet proto = panda.Introspection.getObjectProto(obj);\n\t\t\twhile (proto != null && proto != Object.prototype) {\n\t\t\t\tlet __super__ = panda.Introspection.getObjectProto(proto);\n\n\t\t\t\tfor (let field of Object.getOwnPropertyNames(proto)) {\n\t\t\t\t\tlet desc = Object.getOwnPropertyDescriptor(proto, field);\n\t\t\t\t\t//@popelyshev: _$_shumwayProperties надо переопределять но for in не должен их видеть\n\t\t\t\t\tif (!desc.enumerable && !proto._$_shumwayProperties) continue;\n\n\t\t\t\t\tlet isProperty = desc.get != null || desc.set != null;\n\t\t\t\t\tif (!isProperty) continue;\n\n\t\t\t\t\tlet __get__field = mangleFieldToExtractedMethod('get', field);\n\t\t\t\t\tlet __set__field = mangleFieldToExtractedMethod('set', field);\n\n\t\t\t\t\tif (proto.hasOwnProperty(__get__field) || proto.hasOwnProperty(__set__field)) break;\n\n\t\t\t\t\tif (desc.get == null) {\n\t\t\t\t\t\tdesc = {\n\t\t\t\t\t\t\tget: function complementGet(): any {\n\t\t\t\t\t\t\t\tif (!__super__[__get__field]) throw new Error('Writeonly property!');\n\t\t\t\t\t\t\t\treturn __super__[__get__field].call(this);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tset: desc.set,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tObject.defineProperty(proto, field, desc);\n\t\t\t\t\t}\n\t\t\t\t\telse if (desc.set == null) {\n\t\t\t\t\t\tdesc = {\n\t\t\t\t\t\t\tget: desc.get,\n\t\t\t\t\t\t\tset: function complementSet(v: any): void {\n\t\t\t\t\t\t\t\tif (!__super__[__set__field]) throw new Error('Readonly property!');\n\t\t\t\t\t\t\t\t__super__[__set__field].call(this, v);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t\tObject.defineProperty(proto, field, desc);\n\t\t\t\t\t}\n\n\t\t\t\t\tObject.defineProperty(proto, __get__field, {\n\t\t\t\t\t\tvalue: desc.get,\n\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tlet setter = desc.set;\n\t\t\t\t\tObject.defineProperty(proto, __set__field, {\n\t\t\t\t\t\tvalue: function extractedSet(val: any): any {\n\t\t\t\t\t\t\tsetter.call(this, val);\n\t\t\t\t\t\t\treturn val;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tenumerable: false,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tproto = __super__;\n\t\t\t}\n\t\t}\n\n\t\texport function mangleFieldToExtractedMethod(type: 'get' | 'set', name: string): string {\n\t\t\treturn type === 'get' ? `__get__${name}` : `__set__${name}`;\n\t\t}\n\t}\n}\n","///ts:ref=PandaConsole\n/// No file or directory matched name \"PandaConsole\" ///ts:ref:generated\nnamespace panda {\n\texport namespace PerfUtils {\n\t\texport function wasteMilliseconds(ms: number): number {\n\t\t\tlet start = performance.now();\n\t\t\tlet delta = 0;\n\t\t\tlet counter = 0;\n\t\t\twhile ((delta = performance.now() - start) < ms) {\n\t\t\t\tcounter++;\n\t\t\t}\n\t\t\t//PandaConsole.logDebug('wasteMilliseconds:', counter/delta, 'c/ms');\n\t\t\treturn delta;\n\t\t}\n\n\t\texport var storage: { [key: string]: { [key: string]: number } } = {};\n\n\t\texport function getEventCount(areaName: string, eventName: string): number {\n\t\t\tlet areaStorage: { [key: string]: number } = storage[areaName];\n\t\t\tif (!areaStorage) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn areaStorage[eventName] || 0;\n\t\t}\n\n\t\texport function event(areaName: string, eventName: string, delta: number = 1): void {\n\t\t\tlet areaStorage: { [key: string]: number } = storage[areaName];\n\t\t\tif (!areaStorage) {\n\t\t\t\tareaStorage = {};\n\t\t\t\tstorage[areaName] = areaStorage;\n\t\t\t}\n\t\t\tareaStorage[eventName] = (areaStorage[eventName] || 0) + delta;\n\t\t}\n\t}\n}","namespace panda {\n    export class Pixel {\n        public static fromColorUint(color: number): Pixel {\n            color = (color as any) >>> 0;\n            return new Pixel(color);\n        }\n        public static fromColorComponents(a: number, r: number, g: number, b: number): Pixel {\n            a = (a as any) >>> 0;\n            r = (r as any) >>> 0;\n            g = (g as any) >>> 0;\n            b = (b as any) >>> 0;\n            return new Pixel(Pixel.assembleColor(a, r, g, b));\n        }\n        public constructor(color: number = 0) {\n            //Unportable.bindMethodsIfNeeded(Pixel, (new.target), this, [\"__getter__a\", \"__setter__a\", \"__getter__r\", \"__setter__r\", \"__getter__g\", \"__setter__g\", \"__getter__b\", \"__setter__b\"]);\n            color = (color as any) >>> 0;\n            this.color = (color as any) >>> 0;\n        }\n        public color: number = (0 as any) >>> 0;\n        public get a(): number { return (this.__getter__a() as any) >>> 0; }\n        protected __getter__a(): number {\n            return (this.color >> 24 & 0xFF as any) >>> 0;\n        }\n        public set a(a: number) {\n            a = (a as any) >>> 0;\n            this.__setter__a(a);\n        }\n        protected __setter__a(a: number): void {\n            a = (a as any) >>> 0;\n            if (a < 0 || a > 255) {\n                throw new Error('Attempt to set color red component a = ' + a);\n            }\n            this.color = (this.color & 0x00FFFFFF | a << 24 as any) >>> 0;\n        }\n        public get r(): number { return (this.__getter__r() as any) >>> 0; }\n        protected __getter__r(): number {\n            return (this.color >> 16 & 0xFF as any) >>> 0;\n        }\n        public set r(r: number) {\n            r = (r as any) >>> 0;\n            this.__setter__r(r);\n        }\n        protected __setter__r(r: number): void {\n            r = (r as any) >>> 0;\n            if (r < 0 || r > 255) {\n                throw new Error('Attempt to set color red component r = ' + r);\n            }\n            this.color = (this.color & 0xFF00FFFF | r << 16 as any) >>> 0;\n        }\n        public get g(): number { return (this.__getter__g() as any) >>> 0; }\n        protected __getter__g(): number {\n            return (this.color >> 8 & 0xFF as any) >>> 0;\n        }\n        public set g(g: number) {\n            g = (g as any) >>> 0;\n            this.__setter__g(g);\n        }\n        protected __setter__g(g: number): void {\n            g = (g as any) >>> 0;\n            if (g < 0 || g > 255) {\n                throw new Error('Attempt to set color red component g = ' + g);\n            }\n            this.color = (this.color & 0xFFFF00FF | g << 8 as any) >>> 0;\n        }\n        public get b(): number { return (this.__getter__b() as any) >>> 0; }\n        protected __getter__b(): number {\n            return (this.color & 0xFF as any) >>> 0;\n        }\n        public set b(b: number) {\n            b = (b as any) >>> 0;\n            this.__setter__b(b);\n        }\n        protected __setter__b(b: number): void {\n            b = (b as any) >>> 0;\n            if (b < 0 || b > 255) {\n                throw new Error('Attempt to set color red component b = ' + b);\n            }\n            this.color = (this.color & 0xFFFFFF00 | b as any) >>> 0;\n        }\n        public static getAlpha(color: number): number {\n            color = (color as any) >>> 0;\n            return (color >> 24 & 0xFF as any) >>> 0;\n        }\n        public static getR(color: number): number {\n            color = (color as any) >>> 0;\n            return (color >> 16 & 0xFF as any) >>> 0;\n        }\n        public static getG(color: number): number {\n            color = (color as any) >>> 0;\n            return (color >> 8 & 0xFF as any) >>> 0;\n        }\n        public static getB(color: number): number {\n            color = (color as any) >>> 0;\n            return (color & 0xFF as any) >>> 0;\n        }\n        public static assembleColor(a: number, r: number, g: number, b: number): number {\n            a = (a as any) >>> 0;\n            r = (r as any) >>> 0;\n            g = (g as any) >>> 0;\n            b = (b as any) >>> 0;\n            return ((a << 24) + (r << 16) + (g << 8) + b as any) >>> 0;\n        }\n        /**\n         * Converts an HSL color value to RGB. Conversion formula\n         * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n         * Assumes h, s, and l are contained in the set [0, 1] and\n         * returns uint color\n         * see https://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n         * \n         * @param   Number  h       The hue [0, 1]\n         * @param   Number  s       The saturation [0, 1]\n         * @param   Number  l       The lightness [0, 1]\n         * @return  uint            The RGB representation\n         */\n        public static assembleColorFromHSB(h: number, s: number, l: number): number {\n            var r: number, g: number, b: number;\n\n            if (s == 0) {\n                r = g = b = l; // achromatic\n            } else {\n                var q: number = l < 0.5 ? l * (1 + s) : l + s - l * s;\n                var p: number = 2 * l - q;\n                r = Pixel.hue2rgb(p, q, h + 1 / 3);\n                g = Pixel.hue2rgb(p, q, h);\n                b = Pixel.hue2rgb(p, q, h - 1 / 3);\n            }\n\n            return Pixel.assembleColor(1, Math.round(r * 255), Math.round(g * 255), Math.round(b * 255));\n        }\n\n        private static hue2rgb(p: number, q: number, t: number): number {\n            if (t < 0) t += 1;\n            if (t > 1) t -= 1;\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\n            if (t < 1 / 2) return q;\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n            return p;\n        }\n\n        public static read(bmd: { getPixel32(x: number, y: number): number }, x: number, y: number): Pixel {\n            return new Pixel(bmd.getPixel32(x, y));\n        }\n    }\n}\n","namespace panda {\n\texport namespace UniqIdGenerator {\n\t\tlet countersMap = new Map<any, number>();\n\t\texport function getUniq(reason: any = null): number {\n\t\t\tlet count = countersMap.get(reason);\n\t\t\tif (count === undefined) {\n\t\t\t\tcountersMap.set(reason, 0);\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\tlet result = count + 1;\n\t\t\t\tcountersMap.set(reason, result);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n}","namespace panda {\n\texport interface UniqIdMarked {\n\t\tuniqId: number;\n\t}\n}","namespace panda {\n    export namespace Utf8Utils {\n\n        // https://gist.github.com/joni/3760795\n        export function toUtf8Array(str: string): Array<number> {\n            // 29db5131-f47c-41fc-b589-6f03407ca826 ручное кодирование должно быть искорено\n            let utf8 = [];\n            for (let i = 0; i < str.length; i++) {\n                let charcode = str.charCodeAt(i);\n                if (charcode < 0x80) utf8.push(charcode);\n                else if (charcode < 0x800) {\n                    utf8.push(\n                        0xc0 | (charcode >> 6),\n                        0x80 | (charcode & 0x3f),\n                    );\n                }\n                else if (charcode < 0xd800 || charcode >= 0xe000) {\n                    utf8.push(\n                        0xe0 | (charcode >> 12),\n                        0x80 | ((charcode >> 6) & 0x3f),\n                        0x80 | (charcode & 0x3f),\n                    );\n                }\n                // surrogate pair\n                else {\n                    i++;\n                    // UTF-16 encodes 0x10000-0x10FFFF by\n                    // subtracting 0x10000 and splitting the\n                    // 20 bits of 0x0-0xFFFFF into two halves\n                    charcode = 0x10000 + (((charcode & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff))\n                    utf8.push(\n                        0xf0 | (charcode >> 18),\n                        0x80 | ((charcode >> 12) & 0x3f),\n                        0x80 | ((charcode >> 6) & 0x3f),\n                        0x80 | (charcode & 0x3f),\n                    );\n                }\n            }\n            return utf8;\n        }\n\n        // https://gist.github.com/joni/3760795\n        export function fromUtf8Array(data: Array<number>): string {\n            // 29db5131-f47c-41fc-b589-6f03407ca826 ручное кодирование должно быть искорено\n            var utf16Arr = [];\n            for (let i: number = 0; i < data.length; i++) {\n                var value = data[i];\n\n                if (value < 0x80) {\n                    utf16Arr.push(value);\n                } else if (value > 0xBF && value < 0xE0) {\n                    utf16Arr.push((value & 0x1F) << 6 | data[i + 1] & 0x3F);\n                    i += 1;\n                } else if (value > 0xDF && value < 0xF0) {\n                    utf16Arr.push((value & 0x0F) << 12 | (data[i + 1] & 0x3F) << 6 | data[i + 2] & 0x3F);\n                    i += 2;\n                } else {\n                    // surrogate pair\n                    var charCode = ((value & 0x07) << 18 | (data[i + 1] & 0x3F) << 12 | (data[i + 2] & 0x3F) << 6 | data[i + 3] & 0x3F) - 0x010000;\n\n                    utf16Arr.push(charCode >> 10 | 0xD800, charCode & 0x03FF | 0xDC00);\n                    i += 3;\n                }\n            }\n            return String.fromCharCode.apply(String, utf16Arr);\n        }\n\n        export function castToString(s: any): string {\n            return s == null ? s : '' + s;\n        }\n    }\n}","namespace panda {\n\texport function safeBind<Ret>(func: () => Ret, thisArg: any): () => Ret;\n\n\texport function safeBind<Ret, P1>(func: (p1: P1) => Ret, thisArg: any): (p1: P1) => Ret;\n\texport function safeBind<Ret, P1>(func: (p1: P1) => Ret, thisArg: any, p1: P1): () => Ret;\n\n\texport function safeBind<Ret, P1, P2>(func: (p1: P1, p2: P2) => Ret, thisArg: any): (p1: P1, p2: P2) => Ret;\n\texport function safeBind<Ret, P1, P2>(func: (p1: P1, p2: P2) => Ret, thisArg: any, p1: P1): (p2: P2) => Ret;\n\texport function safeBind<Ret, P1, P2>(func: (p1: P1, p2: P2) => Ret, thisArg: any, p1: P1, p2: P2): () => Ret;\n\n\texport function safeBind<Ret, P1, P2, P3>(func: (p1: P1, p2: P2, p3: P3) => Ret, thisArg: any): (p1: P1, p2: P2, p3: P3) => Ret;\n\texport function safeBind<Ret, P1, P2, P3>(func: (p1: P1, p2: P2, p3: P3) => Ret, thisArg: any, p1: P1): (p2: P2, p3: P3) => Ret;\n\texport function safeBind<Ret, P1, P2, P3>(func: (p1: P1, p2: P2, p3: P3) => Ret, thisArg: any, p1: P1, p2: P2): (p3: P3) => Ret;\n\texport function safeBind<Ret, P1, P2, P3>(func: (p1: P1, p2: P2, p3: P3) => Ret, thisArg: any, p1: P1, p2: P2, p3: P3): () => Ret;\n\n\texport function safeBind<Ret, P1, P2, P3, P4>(func: (p1: P1, p2: P2, p3: P3, p4: P4) => Ret, thisArg: any): (p1: P1, p2: P2, p3: P3, p4: P4) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4>(func: (p1: P1, p2: P2, p3: P3, p4: P4) => Ret, thisArg: any, p1: P1): (p2: P2, p3: P3, p4: P4) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4>(func: (p1: P1, p2: P2, p3: P3, p4: P4) => Ret, thisArg: any, p1: P1, p2: P2): (p3: P3, p4: P4) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4>(func: (p1: P1, p2: P2, p3: P3, p4: P4) => Ret, thisArg: any, p1: P1, p2: P2, p3: P3): (p4: P4) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4>(func: (p1: P1, p2: P2, p3: P3, p4: P4) => Ret, thisArg: any, p1: P1, p2: P2, p3: P3, p4: P4): () => Ret;\n\n\texport function safeBind<Ret, P1, P2, P3, P4, P5>(func: (p1: P1, p2: P2, p3: P3, p4: P4, p5: P5) => Ret, thisArg: any): (p1: P1, p2: P2, p3: P3, p4: P4, p5: P5) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4, P5>(func: (p1: P1, p2: P2, p3: P3, p4: P4, p5: P5) => Ret, thisArg: any, p1: P1): (p2: P2, p3: P3, p4: P4, p5: P5) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4, P5>(func: (p1: P1, p2: P2, p3: P3, p4: P4, p5: P5) => Ret, thisArg: any, p1: P1, p2: P2): (p3: P3, p4: P4, p5: P5) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4, P5>(func: (p1: P1, p2: P2, p3: P3, p4: P4, p5: P5) => Ret, thisArg: any, p1: P1, p2: P2, p3: P3): (p4: P4, p5: P5) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4, P5>(func: (p1: P1, p2: P2, p3: P3, p4: P4, p5: P5) => Ret, thisArg: any, p1: P1, p2: P2, p3: P3, p4: P4): (p5: P5) => Ret;\n\texport function safeBind<Ret, P1, P2, P3, P4, P5>(func: (p1: P1, p2: P2, p3: P3, p4: P4, p5: P5) => Ret, thisArg: any, p1: P1, p2: P2, p3: P3, p4: P4, p5: P5): () => Ret;\n\n\texport function safeBind(func: Function, thisArg: any, ...argArray: any[]): any;\n\texport function safeBind(func: Function, thisArg: any, ...argArray: any[]): any {\n\t\treturn function (...externalArgs: any[]): any {\n\t\t\treturn func.apply(thisArg, argArray.concat(externalArgs));\n\t\t}\n\t}\n}","namespace panda {\n\texport namespace MainLoop {\n\t\tvar inited: boolean = false;\n\t\tvar lastTimeStamp: number = 0;\n\t\tvar firstTimeStamp: number = 0;\n\t\tvar usePerfMonitor: boolean = false;\n\t\texport function init($usePerfMonitor: boolean): void {\n\t\t\tif (inited) {\n\t\t\t\tthrow new AdvancedError('Attempt to init MainLoop that already inited');\n\t\t\t}\n\t\t\tusePerfMonitor = $usePerfMonitor;\n\t\t\tonEnterFrame = new Signal<(millisecondsDelta: number, millisecondsAbsolute: number) => void>()\n\t\t\tif (usePerfMonitor) {\n\t\t\t\tPerfMonitor.init();\n\t\t\t}\n\t\t\trequestAnimationFrame(handler_animationFrame);\n\t\t\tlastTimeStamp = performance.now();\n\t\t\tfirstTimeStamp = performance.now();\n\t\t\tinited = true;\n\t\t}\n\n\t\texport var onEnterFrame: Signal<(millisecondsDelta1: number, millisecondsAbsolute: number, millisecondsDelta: number) => void> = null;\n\n\t\tfunction handler_animationFrame(): void {\n\t\t\tlet now = performance.now();\n\t\t\tlet delta = now - lastTimeStamp;\n\t\t\tlastTimeStamp = now;\n\t\t\t// @if PERF\n\t\t\tPerfUtils.event('MainLoop', 'frame');\n\t\t\t// @endif\n\n\t\t\tonEnterFrame.emit(delta, now - firstTimeStamp, delta);\n\t\t\trequestAnimationFrame(handler_animationFrame);\n\t\t\tGlobalInstanceChecker.check();\n\t\t\tlet after = performance.now();\n\n\t\t\tif (usePerfMonitor) {\n\t\t\t\tPerfMonitor.enterFrameDispatchingTime(after - now);\n\t\t\t}\n\t\t}\n\n\t\texport function nextFrameCall(f: () => void): void {\n\t\t\tlet creationTimestamp = lastTimeStamp;\n\t\t\tlet listener = MainLoop.onEnterFrame.addListener(() => {\n\t\t\t\tif (lastTimeStamp != creationTimestamp) {\n\t\t\t\t\tMainLoop.onEnterFrame.removeListener(listener);\n\t\t\t\t\tf();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}","///ts:ref=ArrayUtils\n/// <reference path=\"../utils/ArrayUtils.ts\"/> ///ts:ref:generated\n///ts:ref=MainLoop\n/// <reference path=\"./MainLoop.ts\"/> ///ts:ref:generated\n///ts:ref=PandaHTMLUtils\n/// No file or directory matched name \"PandaHTMLUtils\" ///ts:ref:generated\nnamespace panda {\n\texport namespace PerfMonitor {\n\t\texport function init() {\n\t\t\tMainLoop.onEnterFrame.addListener(handler_enterFrame);\n\t\t\t_container = document.createElement('div');\n\t\t\tdocument.getElementsByTagName('body').item(0).appendChild(_container);\n\t\t\tlet style: any = _container.style;\n\t\t\tstyle['position'] = 'fixed';\n\t\t\tstyle['font-size'] = '10px';\n\t\t\tstyle['color'] = '#000000';\n\t\t\tstyle['background-color'] = 'lightblue';\n\t\t\tstyle['font-weight'] = 'bold';\n\t\t\tstyle['top'] = '0px';\n\n\n\n\t\t\tstyle['-webkit-touch-callout'] = 'none'; /* iOS Safari */\n\t\t\tstyle['-webkit-user-select: none'] = 'none'; /* Safari */\n\t\t\tstyle['-khtml-user-select'] = 'none'; /* Konqueror HTML */\n\t\t\tstyle['-moz-user-select: none'] = 'none'; /* Firefox */\n\t\t\tstyle['-ms-user-select'] = 'none'; /* Internet Explorer/Edge */\n\t\t\tstyle['user-select'] = 'none'; /* Non-prefixed version, currently supported by Chrome and Opera */\n\t\t\tstyle['display'] = 'block';\n\t\t\tstyle['display'] = 'none';\n\n\t\t\tHTMLUtils.setTextContent(_container, 'FPS');\n\t\t}\n\t\tvar _container: HTMLDivElement;\n\n\t\tvar _framesCounter: number = 0;\n\t\tconst _framesDeltas: Array<number> = new Array<number>();\n\t\tconst _codeDetails: Array<number> = new Array<number>();\n\t\tconst measuringCount: number = 1 * 60 * 60; // one minute on 60FPS\n\n\t\tfunction handler_enterFrame(timeCoef: number, now: number, timeDelta: number): void {\n\t\t\t_framesCounter++;\n\n\t\t\tlet fps = 1000 / timeDelta;\n\t\t\tupdateCounter(fps);\n\t\t\tlet deltas: Array<number> = _framesDeltas;\n\t\t\tdeltas.push(timeDelta);\n\t\t\tif (deltas.length > measuringCount) {\n\t\t\t\tdeltas.shift();\n\t\t\t}\n\t\t}\n\n\t\tvar _introText: string = null;\n\t\tvar _lasFpsUpdate: number = 0;\n\t\tfunction updateCounter(fps: number): void {\n\t\t\tlet delta = performance.now() - _lasFpsUpdate;\n\t\t\tif (delta >= 500) {\n\t\t\t\tif (!_introText) {\n\t\t\t\t\tlet date = new Date(parseInt(BuildInfo.buildDate));;\n\t\t\t\t\t_introText = 'Build: ' + BuildInfo.buildNumber + ', ' + date.toLocaleString() + ' FPS: ';\n\t\t\t\t}\n\t\t\t\tlet framesDeltas = _framesDeltas;\n\t\t\t\tlet start = framesDeltas.length - 30;\n\t\t\t\tif (start < 0) {\n\t\t\t\t\tstart = 0;\n\t\t\t\t}\n\t\t\t\tlet avgFps = (1000 / ArrayUtils.avg(framesDeltas, start)).toFixed(2);\n\t\t\t\tHTMLUtils.setTextContent(_container, _introText + fps.toFixed(1) + ' AVG: ' + avgFps);\n\t\t\t\t_lasFpsUpdate = performance.now();\n\t\t\t}\n\t\t}\n\n\t\texport function enterFrameDispatchingTime(timeDelta: number): void {\n\t\t\t_codeDetails.push(timeDelta);\n\t\t\tif (_codeDetails.length > measuringCount) {\n\t\t\t\t_codeDetails.shift();\n\t\t\t}\n\n\t\t\tlet framesDeltas: Array<number> = _framesDeltas;\n\t\t\tif (_framesCounter >= measuringCount) {\n\t\t\t\tlet avgFps = (1000 / ArrayUtils.avg(framesDeltas)).toFixed(2);\n\t\t\t\tlet minFps = (1000 / ArrayUtils.max(framesDeltas)).toFixed(2);\n\t\t\t\tlet medFps = (1000 / ArrayUtils.percentile(framesDeltas, 0.5)).toFixed(2);\n\n\t\t\t\tlet avgTime = ArrayUtils.avg(_codeDetails).toFixed(2);\n\t\t\t\tlet maxTime = ArrayUtils.max(_codeDetails).toFixed(2);\n\t\t\t\tlet medTime = ArrayUtils.percentile(_codeDetails, 0.5).toFixed(2);\n\n\t\t\t\tConsole.logDebug('AvgFps:', avgFps, 'MedFps:', medFps, 'MinFps:', minFps, 'AvgCodeMs:', avgTime, 'MaxCodeMs:', maxTime, 'MedCodeMs:', medTime);\n\t\t\t\tConsole.logDebug(JSON.stringify(PerfUtils.storage));\n\t\t\t\t_framesCounter = 0;\n\t\t\t\tPerfUtils.storage = {};\n\t\t\t}\n\t\t}\n\n\t\texport function toggleMonitor(to?:'on'|'off') {\n\t\t\tlet style = _container.style;\n\t\t\tif (!to) {\n\t\t\t\tif (style.display == 'block') {\n\t\t\t\t\tto = 'off';\n\t\t\t\t} else {\n\t\t\t\t\tto = 'on';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (to == 'on') {\n\t\t\t\tstyle.display = 'block';\n\t\t\t}\n\t\t\tif (to == 'off') {\n\t\t\t\tstyle.display = 'none';\n\t\t\t}\n\n\t\t}\n\t}\n}\n","\nnamespace panda {\n\n\ttype TimerGram = { func: () => void, time: number, id: number, args: Array<any> };\n\texport class TimerSystem {\n\t\tprivate static instance: TimerSystem = null;\n\t\tpublic static init(): void {\n\t\t\tif (this.instance) {\n\t\t\t\tthrow new AdvancedError('double TimerSystem.init()');\n\t\t\t}\n\t\t\tthis.instance = new TimerSystem();\n\t\t\tpanda.MainLoop.onEnterFrame.addListener(()=>{\n\t\t\t\tlet now = performance.now();\n\t\t\t\tthis.instance.tick(now);\n\t\t\t}, 10);\n\t\t\tsetInterval(() => {\n\t\t\t\tlet now = performance.now();\n\t\t\t\tlet delta = now - this.instance._lastTickTime;\n\t\t\t\tif (delta > 450) {\n\t\t\t\t\tthis.instance.tick(now);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t}\n\n\t\tprivate numTimers: number = 0;\n\n\t\tpublic constructor() {\n\t\t\t(window as any)['setTimeout'] = (): number => {\n\t\t\t\tthis.numTimers++;\n\t\t\t\t// @ts-ignore\n\t\t\t\tlet rawArgs = arguments;\n\n\t\t\t\tlet rawArgsLength = rawArgs.length;\n\t\t\t\tlet gram: TimerGram;\n\t\t\t\tif (rawArgsLength == 2) {\n\t\t\t\t\tgram = this.getGram(rawArgs[0], rawArgs[1], null);\n\t\t\t\t} else if (rawArgsLength == 1) {\n\t\t\t\t\tgram = this.getGram(rawArgs[0], 0, null);\n\t\t\t\t} else {\n\t\t\t\t\tlet restArgs: Array<any> = [];\n\t\t\t\t\tfor (let i = 2; i < rawArgsLength; i++) {\n\t\t\t\t\t\trestArgs[i - 2] = rawArgs[i];\n\t\t\t\t\t}\n\t\t\t\t\tgram = this.getGram(rawArgs[0], rawArgs[1], restArgs);\n\t\t\t\t}\n\n\t\t\t\tif (this._inTick) {\n\t\t\t\t\tthis._callbackArrayTail.push(gram);\n\t\t\t\t} else {\n\t\t\t\t\tthis._callbackArray.push(gram);\n\t\t\t\t}\n\t\t\t\treturn gram.id;\n\t\t\t}\n\t\t\t(window as any)['clearTimeout'] = (timeoutID: number): void => {\n\t\t\t\tthis._skipSet.add(timeoutID);\n\t\t\t}\n\t\t}\n\n\t\tprivate _callbackArray: Array<TimerGram> = [];\n\t\tprivate _callbackArrayTail: Array<TimerGram> = [];\n\t\tprivate _skipSet: Set<number> = new Set();\n\t\tprivate _inTick: boolean = false;\n\n\t\tprivate _lastTickTime: number = 0;\n\t\tprivate _objPool: Array<TimerGram> = [];\n\t\tprivate _idCounter = 1000;\n\n\t\tprivate getGram(func: () => void, time: number, restArgs: Array<any>): TimerGram {\n\t\t\tlet gram: TimerGram;\n\t\t\tif (this._objPool.length) {\n\t\t\t\tgram = this._objPool.pop();\n\t\t\t} else {\n\t\t\t\tgram = Object.create(null);\n\t\t\t}\n\t\t\tgram.func = func;\n\t\t\tgram.time = time + this._lastTickTime;\n\t\t\tgram.id = this._idCounter++;\n\t\t\tgram.args = restArgs;\n\t\t\treturn gram;\n\t\t}\n\n\t\tprivate poolGram(gram: TimerGram): void {\n\t\t\tthis.clearGram(gram);\n\t\t\tthis._objPool.push(gram);\n\t\t}\n\n\t\tprivate clearGram(gram: TimerGram): void {\n\t\t\tgram.func = null;\n\t\t\tgram.time = 0;\n\t\t\tgram.id = 0;\n\t\t\tgram.args = null;\n\t\t}\n\n\t\tprivate tick(millisecondsAbsolute: number): void {\n\t\t\tthis._inTick = true;\n\t\t\tthis._lastTickTime = millisecondsAbsolute;\n\n\t\t\tlet j = 0;\n\t\t\tlet callbackArray = this._callbackArray;\n\n\t\t\tfor (let i = 0; i < callbackArray.length; i++) {\n\t\t\t\tlet gram = callbackArray[i];\n\n\t\t\t\tlet skip = this._skipSet.has(gram.id);\n\t\t\t\tlet call = gram.time < millisecondsAbsolute;\n\n\t\t\t\tif (skip) {\n\t\t\t\t\tthis.poolGram(gram);\n\t\t\t\t} else if (call) {\n\t\t\t\t\tgram.func.apply(window, gram.args);\n\t\t\t\t\tthis.poolGram(gram);\n\t\t\t\t} else {\n\t\t\t\t\tcallbackArray[j] = gram;\n\t\t\t\t\tj++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallbackArray.length = j;\n\n\t\t\tfor (let gram of this._callbackArrayTail) {\n\t\t\t\tcallbackArray.push(gram);\n\t\t\t}\n\t\t\tthis._callbackArrayTail.length = 0;\n\n\t\t\tthis._skipSet.clear();\n\n\n\t\t\t// if (((millisecondsAbsolute % 10) | 0) == 0) {\n\t\t\t//     PandaConsole.logDebug(`numTimers: ${this.numTimers}`);\n\t\t\t// }\n\n\t\t\tthis.numTimers = 0;\n\t\t\tthis._inTick = false;\n\t\t}\n\t}\n}\n","///ts:ref=WebGLUtils\n/// <reference path=\"./WebGLUtils.ts\"/> ///ts:ref:generated\n///ts:ref=Console\n/// <reference path=\"../console/Console.ts\"/> ///ts:ref:generated\n///ts:ref=BrowserSpecific\n/// <reference path=\"../browser/BrowserSpecific.ts\"/> ///ts:ref:generated\n\nnamespace panda {\n\texport class WebGLDescriber {\n\t\tprivate static _info: WebGLDescriber;\n\n\t\tpublic static getInfo(): WebGLDescriber {\n\t\t\tif (!this._info) {\n\t\t\t\tthis._info = new WebGLDescriber(WebGLUtils.getDummyContext());\n\t\t\t}\n\t\t\treturn this._info;\n\t\t}\n\n\t\tconstructor(context: WebGLRenderingContext) {\n\t\t\tConsole.here;\n\t\t\ttry {\n\t\t\t\tthis.officiallySupported = !!(<any>window)['WebGLRenderingContext'];\n\n\t\t\t\tif (!context) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.detectVieoCard();\n\n\t\t\t\tthis.version = context.getParameter(context.VERSION);\n\t\t\t\tthis.shadingVesion = context.getParameter(context.SHADING_LANGUAGE_VERSION);\n\n\t\t\t\tthis.maxVertexAttributes = context.getParameter(context.MAX_VERTEX_ATTRIBS);\n\t\t\t\tthis.maxVertexUniformVectors = context.getParameter(context.MAX_VERTEX_UNIFORM_VECTORS);\n\t\t\t\tthis.maxVertexTextureImageUnits = context.getParameter(context.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\n\t\t\t\tthis.maxVaryingVectors = context.getParameter(context.MAX_VARYING_VECTORS);\n\n\t\t\t\tthis.aliasedLineWidthRange = context.getParameter(context.ALIASED_LINE_WIDTH_RANGE);\n\t\t\t\tthis.aliasedPointSizeRange = context.getParameter(context.ALIASED_POINT_SIZE_RANGE);\n\n\t\t\t\tthis.maxFragmentUniformVectors = context.getParameter(context.MAX_FRAGMENT_UNIFORM_VECTORS);\n\t\t\t\tthis.maxTextureImageUnits = context.getParameter(context.MAX_TEXTURE_IMAGE_UNITS);\n\n\t\t\t\tthis.redBits = context.getParameter(context.RED_BITS);\n\t\t\t\tthis.greenBits = context.getParameter(context.GREEN_BITS);\n\t\t\t\tthis.blueBits = context.getParameter(context.BLUE_BITS);\n\t\t\t\tthis.alphaBits = context.getParameter(context.ALPHA_BITS);\n\t\t\t\tthis.depthBits = context.getParameter(context.DEPTH_BITS);\n\t\t\t\tthis.stencilBits = context.getParameter(context.STENCIL_BITS);\n\t\t\t\tthis.maxRenderbufferSize = context.getParameter(context.MAX_RENDERBUFFER_SIZE);\n\t\t\t\tthis.maxViewportDims = context.getParameter(context.MAX_VIEWPORT_DIMS);\n\n\t\t\t\tthis.maxTextureSize = context.getParameter(context.MAX_TEXTURE_SIZE);\n\t\t\t\tthis.maxCubeMapTextureSize = context.getParameter(context.MAX_CUBE_MAP_TEXTURE_SIZE);\n\t\t\t\tthis.maxCombinedTextureImageUnits = context.getParameter(context.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n\n\t\t\t\tlet attributes = context.getContextAttributes();\n\n\t\t\t\tthis.attributesAlpha = attributes.alpha;\n\t\t\t\tthis.attributesDepth = attributes.depth;\n\t\t\t\tthis.attributesStencil = attributes.stencil;\n\t\t\t\tthis.attributesAntialias = attributes.antialias;\n\n\t\t\t\tthis.attributesPremultipliedAlpha = attributes.premultipliedAlpha;\n\t\t\t\tthis.attributesPreserveDrawingBuffer = attributes.preserveDrawingBuffer;\n\n\t\t\t\tthis.majorPerformanceCaveat = this.getMajorPerformanceCaveat();\n\n\t\t\t\tthis.detectShaderPrecisionFormat();\n\t\t\t\tlet supportedExtensions = context.getSupportedExtensions();\n\t\t\t\tfor (let extension of supportedExtensions) {\n\t\t\t\t\tthis.supportedExtensionsHash[extension] = true;\n\t\t\t\t}\n\n\t\t\t\tthis.supported = true;\n\t\t\t} catch (e) {\n\t\t\t\tConsole.errorUncritical(e);\n\t\t\t}\n\t\t}\n\n\t\tprivate getMajorPerformanceCaveat(): string {\n\t\t\t//let canvas = $('<canvas />', { width : '1', height : '1' }).appendTo('body');\n\t\t\tlet canvas = document.createElement('canvas');\n\t\t\tlet opts = { failIfMajorPerformanceCaveat: true }\n\t\t\tlet context = (canvas.getContext(\"webgl\", opts) || canvas.getContext(\"experimental-webgl\", opts)) as WebGLRenderingContext;\n\n\t\t\tif (!context) {\n\t\t\t\treturn 'yes';\n\t\t\t}\n\n\t\t\tif (context.getContextAttributes().failIfMajorPerformanceCaveat === undefined) {\n\t\t\t\t// If getContextAttributes() doesn't include the failIfMajorPerformanceCaveat\n\t\t\t\t// property, assume the browser doesn't implement it yet.\n\t\t\t\treturn 'not_supported';\n\t\t\t}\n\n\t\t\treturn 'no';\n\t\t}\n\n\t\tprivate detectVieoCard(): void {\n\t\t\tConsole.here;\n\t\t\ttry {\n\t\t\t\tlet context = WebGLUtils.getDummyContext();\n\t\t\t\tlet extension = WebGLUtils.getExtension(context, WebGLUtils.optionalExtensions.WEBGL_debug_renderer_info);\n\t\t\t\tif (!extension) {\n\t\t\t\t\tthis.videoCard = 'detecting disabled';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.videoCard = context.getParameter(extension.UNMASKED_RENDERER_WEBGL);\n\t\t\t} catch (e) {\n\t\t\t\tConsole.errorUncritical(e);\n\t\t\t\tthis.videoCard = 'detecting error';\n\t\t\t}\n\t\t}\n\n\t\tprivate detectShaderPrecisionFormat(): void {\n\t\t\tlet context = WebGLUtils.getDummyContext();\n\t\t\tthis.shaderPrecisionFormats.vlf = this.getDescibedShaderPrecisionFormat(context.VERTEX_SHADER, context.LOW_FLOAT);\n\t\t\tthis.shaderPrecisionFormats.vmf = this.getDescibedShaderPrecisionFormat(context.VERTEX_SHADER, context.MEDIUM_FLOAT);\n\t\t\tthis.shaderPrecisionFormats.vhf = this.getDescibedShaderPrecisionFormat(context.VERTEX_SHADER, context.HIGH_FLOAT);\n\t\t\tthis.shaderPrecisionFormats.vli = this.getDescibedShaderPrecisionFormat(context.VERTEX_SHADER, context.LOW_INT);\n\t\t\tthis.shaderPrecisionFormats.vmi = this.getDescibedShaderPrecisionFormat(context.VERTEX_SHADER, context.MEDIUM_INT);\n\t\t\tthis.shaderPrecisionFormats.vhi = this.getDescibedShaderPrecisionFormat(context.VERTEX_SHADER, context.HIGH_INT);\n\t\t\tthis.shaderPrecisionFormats.flf = this.getDescibedShaderPrecisionFormat(context.FRAGMENT_SHADER, context.LOW_FLOAT);\n\t\t\tthis.shaderPrecisionFormats.fmf = this.getDescibedShaderPrecisionFormat(context.FRAGMENT_SHADER, context.MEDIUM_FLOAT);\n\t\t\tthis.shaderPrecisionFormats.fhf = this.getDescibedShaderPrecisionFormat(context.FRAGMENT_SHADER, context.HIGH_FLOAT);\n\t\t\tthis.shaderPrecisionFormats.fli = this.getDescibedShaderPrecisionFormat(context.FRAGMENT_SHADER, context.LOW_INT);\n\t\t\tthis.shaderPrecisionFormats.fmi = this.getDescibedShaderPrecisionFormat(context.FRAGMENT_SHADER, context.MEDIUM_INT);\n\t\t\tthis.shaderPrecisionFormats.fhi = this.getDescibedShaderPrecisionFormat(context.FRAGMENT_SHADER, context.HIGH_INT);\n\t\t}\n\n\t\tprivate getDescibedShaderPrecisionFormat(shaderType: number, precisionType: number) {\n\t\t\tlet context = WebGLUtils.getDummyContext();\n\t\t\tlet shpf = context.getShaderPrecisionFormat(context.VERTEX_SHADER, context.LOW_FLOAT);\n\t\t\treturn { rangeMin: shpf.rangeMin, rangeMax: shpf.rangeMax, precision: shpf.precision };\n\t\t}\n\n\t\tpublic videoCard: string = 'unknown';\n\t\tpublic officiallySupported: boolean = false;\n\t\tpublic supported: boolean = false;\n\t\tpublic version: string = 'unknown';\n\t\tpublic shadingVesion: string = 'unknown';\n\n\t\tpublic maxVertexAttributes: number = 0;\n\t\tpublic maxVertexUniformVectors: number = 0;\n\t\tpublic maxVertexTextureImageUnits: number = 0;\n\t\tpublic maxVaryingVectors: number = 0;\n\n\t\tpublic aliasedLineWidthRange: { '0': number, '1': number } = { '0': 0, '1': 0 };\n\t\tpublic aliasedPointSizeRange: { '0': number, '1': number } = { '0': 0, '1': 0 };\n\t\tpublic maxFragmentUniformVectors: number = 0;\n\t\tpublic maxTextureImageUnits: number = 0;\n\t\tpublic redBits: number = 0;\n\t\tpublic greenBits: number = 0;\n\t\tpublic blueBits: number = 0;\n\t\tpublic alphaBits: number = 0;\n\t\tpublic depthBits: number = 0;\n\t\tpublic stencilBits: number = 0;\n\t\tpublic maxRenderbufferSize: number = 0;\n\t\tpublic maxViewportDims: { '0': number, '1': number } = { '0': 0, '1': 0 };\n\t\tpublic maxTextureSize: number = 0;\n\t\tpublic maxCubeMapTextureSize: number = 0;\n\t\tpublic maxCombinedTextureImageUnits: number = 0;\n\n\t\tpublic attributesAlpha: boolean = false;\n\t\tpublic attributesAntialias: boolean = false;\n\t\tpublic attributesDepth: boolean = false;\n\t\tpublic attributesPremultipliedAlpha: boolean = false;\n\t\tpublic attributesPreserveDrawingBuffer: boolean = false;\n\t\tpublic attributesStencil: boolean = false;\n\t\tpublic majorPerformanceCaveat: string = 'unknown';\n\n\t\tpublic supportedExtensionsHash: { [key: string]: boolean } = {};\n\t\tpublic shaderPrecisionFormats: ShaderPrecisionFormats = new ShaderPrecisionFormats();\n\n\t\tpublic toString(): string {\n\t\t\treturn JSON.stringify(this, null, 4);\n\t\t}\n\t}\n\n\texport class ShaderPrecisionFormats {\n\t\tpublic vlf: WebGLShaderPrecisionFormat;\n\t\tpublic vmf: WebGLShaderPrecisionFormat;\n\t\tpublic vhf: WebGLShaderPrecisionFormat;\n\t\tpublic vli: WebGLShaderPrecisionFormat;\n\t\tpublic vmi: WebGLShaderPrecisionFormat;\n\t\tpublic vhi: WebGLShaderPrecisionFormat;\n\t\tpublic flf: WebGLShaderPrecisionFormat;\n\t\tpublic fmf: WebGLShaderPrecisionFormat;\n\t\tpublic fhf: WebGLShaderPrecisionFormat;\n\t\tpublic fli: WebGLShaderPrecisionFormat;\n\t\tpublic fmi: WebGLShaderPrecisionFormat;\n\t\tpublic fhi: WebGLShaderPrecisionFormat;\n\t}\n}","namespace panda {\n\texport class WebGlBufferWrapper {\n\t\tpublic buffer: WebGLBuffer = null;\n\t\tpublic itemSize: number = 0;\n\t\tpublic length: number = 0;\n\t\tpublic name: string = '';\n\t}\n}"]}